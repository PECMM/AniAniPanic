<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="瀬島っぽい占い">
  <meta property="og:url"   content="https://pecmm.github.io/SeshimaFortune/FortuneTelling.html" />
  <meta property="og:image" content="https://pecmm.github.io/SeshimaFortune/thumb/thumb.png?3a5f591e">
  <title>瀬島っぽい占い</title>
  <style>
    #controller,
    #controller button,
    #controller select,
    #controller textarea,
    #controller input {
      font-size: 100%;
    }
    #controller input[type='number'] {
      text-align: right;
      width: 100px;
    }
    #controller table th {
      text-align: right;
    }
    #controller textarea {
      width: 40em;
    }
    
    #playarea {
      display: none;
    }
    #container{
      display: inline-block;
      user-select: none;
    }
    #dateArea {
      margin-top   : 0.3em;
      margin-bottom: 0.6em;
      text-align: center;
    }
    #dateText {
      position: relative;
      font-size: 120%;
      font-weight: bold;
    }
    #main {
      display: flex;
      flex-flow: column nowrap;
      padding: 0.8em;
      font-size: 100%;
    }
    
    #main div.row {
      display: flex;
      flex-flow: row nowrap;
      align-items: center;
      height: 1.4em;
      padding-bottom: 1px;
      border-bottom: solid 1px #999999;
    }
    #main div.row:not(:first-child) {
      margin-top: 0.5em;
    }
    
    .r-box {
      display: inline-block;
      height: 90%;
    }
    .seizaRank {
      width: 7em;
    }
    .lucky774incRank {
      width: 12em;
    }
    
    .empty-box:hover {
      background-color: #CCCCCC;
    }
    .filled-box:hover {
    }
    
    span.label {
      display: inline-block;
      text-align: right;
    }
    span.label.l1 {
      width: 3.2em;
      height: 55%;
      margin-right: 1em;
      font-size: 0.6em;
    }
    span.label.l2 {
      height: 50%;
      margin-right: 0.5em;
      font-size: 0.5em;
    }
  </style>
</head>
<body>
  <div id='controller'>
    <h1>瀬島の朝活占いごっこ</h1>
    <table border=1 cellpadding=5>
      <tr> <th>選択方法</th> <td><select id='selectMode'></td> </tr>
      <tr> <th>全体のフォントサイズ</th> <td><label><input id='mainFontSize' type='number' value=''> px</label></td> </tr>
      <tr> <th>全体のフォント名</th> <td><label><input id='mainFontFamily' type='text' value=''></label></td> </tr>
      <tr id='memberTR'> <th>774incメンバー</th> <td><textarea id='memberTextarea'></textarea></td> </tr>
      <tr id='preInputTR'> <th>結果のテキスト</th> <td><textarea id='preInputTextarea'></textarea><br /><button>reset</button></td> </tr>
    </table>
    <button id='start'>開始</button>
    
    
    <hr style='margin-top:5em;' />
    <h2>ヘルプ</h2>
    <ul>
      <li>version: <span id="version"></span></li>
      <li>PC Chrome ブラウザで動作確認しています。</li>
      <li><strong>何も変更しなくてもとりあえず「開始」ボタンを押すと動きます</strong></li>
      <li>設定画面 (この画面)：<ul>
        <li>設定値を変更する場合は、画面リロードでやりなおしてください。</li>
        <li>設定値：全体のフォント名は、ブラウザの設定画面で指定可能なフォント名を記入することができます。</li>
        <li>設定値：全体のフォント名が空欄・または使用できないフォント名が指定された場合、ブラウザデフォルトのフォントが使用されます。</li>
        <li>「結果のテキスト」を指定することで、事前に編集したテキストで一気に占い結果を生成できます。<br
          />この選択方法では生成するだけで、占い結果を変更することはありません。<br
          />結果のテキストは1行目＝1位の内容……となるように、上から順に12行で記述します。<br
          />各行の書式は<strong>＜星座の名前＞, メンバーのID, 表示されるメンバーの名前</strong>です。 ※カンマの数が違うとエラーになります。<br
          />存在しないメンバーのIDを指定すると、アイコンが表示されなくなります。メンバーのIDと名前の対応が食い違っても問題ありません。</li>
      </ul></li>
      <li>占い画面 (『開始』した画面)：<ul>
        <li><strong>設定画面に戻るには、F5 等ページリロードしてください。</strong></li>
        <li>文字がはみ出る・改行されて表示が崩れるなどの場合は、設定画面から「全体のフォントサイズ」を変更して調整してください。</li>
        <li>タイトル(日付が入っている文字列)をクリックして、日付を変更できます (カレンダーから変更してください)。<br
          />日付変更の確定、'Esc' キー、画面上のなにもない所をクリック、などで日付変更の UI を閉じることができます。</li>
        <li>背景色が変更する箇所をクリックで、ルーレットが開始 (手動モードの場合は手動での変更が開始) します。<br
          />もう一度クリックでルーレットを止める (手動モードの場合は、ドロップダウンリストから決定) まで、他の箇所の開始操作ができません。</li>
      </ul></li>
    </ul>
  </div>
  <div id='playarea'>
    <div id='container'>
      <div id='dateArea'><span id='dateText'>占い結果</span></div>
      <div id='main'>
        <div class='row'><span class='label l1'> 1位</span> <span class='seizaRank empty-box r-box' id='seizaRank01'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank01'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 2位</span> <span class='seizaRank empty-box r-box' id='seizaRank02'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank02'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 3位</span> <span class='seizaRank empty-box r-box' id='seizaRank03'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank03'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 4位</span> <span class='seizaRank empty-box r-box' id='seizaRank04'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank04'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 5位</span> <span class='seizaRank empty-box r-box' id='seizaRank05'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank05'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 6位</span> <span class='seizaRank empty-box r-box' id='seizaRank06'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank06'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 7位</span> <span class='seizaRank empty-box r-box' id='seizaRank07'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank07'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 8位</span> <span class='seizaRank empty-box r-box' id='seizaRank08'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank08'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 9位</span> <span class='seizaRank empty-box r-box' id='seizaRank09'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank09'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'>10位</span> <span class='seizaRank empty-box r-box' id='seizaRank10'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank10'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'>11位</span> <span class='seizaRank empty-box r-box' id='seizaRank11'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank11'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'>12位</span> <span class='seizaRank empty-box r-box' id='seizaRank12'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank12'>&nbsp;</div> </div>
      </div>
    </div>
    
    <hr />
    <button id='saveImage'>画像として保存</button>
    <br />
    <div id='work'></div>
  </div>
  
  <script src='https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js'></script>
  <script>
    const AppVersion = "2.1.0";
    document.querySelector('#version').textContent = AppVersion;
    
const _0x1116=['季咲あんこ','Escape','占い結果-','target','top','style','#start','blur','fillText','#memberTR','join','fortune-lastInputValues','403','203','../imgs/icon/icon-s03.png','querySelectorAll','verticalAlign','111','#controller','trim','杏戸ゆげ','button','---','from','table-row','toDataURL','0.75em','../imgs/icon/icon-a07.png','toString','preventDefault','../imgs/icon/icon-v04.png','splice','fontSize','因幡はねる','borderColor','illegal\x20argument\x20error.\x20`iconTextList`\x20requires\x20at\x20least\x202\x20elements.','ceil','灰猫ななし','addEventListener','appendChild','autoStart','getFullYear','exec','all','#dateText','input','飛良ひかり','firstChild','randomStart','柚原いづみ','401','true','position','「結果のテキスト」の入力に誤りがあります。','../imgs/icon/icon-v03.png','#seizaRank','../imgs/icon/icon-a10.png','.lucky774incRank','change','ふたご座\x20\x20','105','るいめいと','parse','random','block','offsetX','201','#mainFontSize','../imgs/icon/icon-h01.png','405','#preInputTR','の占い結果','charCodeAt','length','isFinite','width','おとめ座\x20\x20','../imgs/icon/icon-a05.png','いて座\x20\x20\x20\x20','堰代ミコ','createTextNode','#mainFontFamily','../imgs/icon/icon-h02.png','龍ヶ崎リン','origID','瀬島るい','mainFontFamily','島村シャルロット','height','solid','しし座\x20\x20\x20\x20','classList','../imgs/icon/icon-a00.png','download','parentElement','value','fontFamily','499','borderStyle','body','canvas','#dateArea','onload','小森めと','createObjectURL','#lucky774incRank','各行には\x20\x22,\x22\x20で区切られたた\x203\x20項目が必要です','use','intervalMS','abs','textContent','forEach','西園寺メアリ','startRoulette','keydown','../imgs/icon/icon-v01.png','404','202','みずがめ座','drawImage','stopPropagation','offsetY','querySelector','filled-box','display','src','周防パトラ','106','../imgs/icon/icon-h00.png','constellations','split','../imgs/icon/icon-a11.png','getMonth','roulette','5px','clearRect','日ノ隈らん','#selectMode','../imgs/icon/icon-s02.png','getContext','valueAsDate','../imgs/icon/icon-v06.png','map','95%','204','removeChild','getElementById','userMessage','黒猫ななし','select','#saveImage','110','option','406','虎城アンナ','102','remove','manualMode','none','mainFontSize','createElement','members774inc','../imgs/icon/icon-a09.png','107','stopRoulette','setAttribute','花奏かのん','selectMode','icon','../imgs/icon/icon-a06.png','三毛猫ななし','199','おうし座\x20\x20','.seizaRank','step','blue','getComputedStyle','concat','302','てんびん座','preInputText','399','left','うお座\x20\x20\x20\x20','103','../imgs/icon/icon-h04.png','299','獅子王クリス','text','onerror','風見くく','303','../imgs/icon/icon-v00.png','109','focus','font','lineHeight','#memberTextarea','get','click','101','localStorage','searchParams','preInput','add','href','manual','getOwnPropertyNames','readonly','getDate'];(function(_0xfefcd9,_0x615a01){const _0x11163d=function(_0x3dda50){while(--_0x3dda50){_0xfefcd9['push'](_0xfefcd9['shift']());}};_0x11163d(++_0x615a01);}(_0x1116,0x191));const _0x3dda=function(_0xfefcd9,_0x615a01){_0xfefcd9=_0xfefcd9-0x1da;let _0x11163d=_0x1116[_0xfefcd9];return _0x11163d;};const _0x17148f=_0x3dda;function randRangedInt(_0x14c2a9,_0x4f6400){const _0x19e21f=_0x3dda;return Math['floor'](Math[_0x19e21f(0x22c)]()*_0x4f6400)+_0x14c2a9;}function newElem(_0x4697d6,_0x30c973=[],_0x4a0e86=[],_0x33f22e={}){const _0x285d2b=_0x3dda,_0x42e0ef=document[_0x285d2b(0x28d)](_0x4697d6);return _0x4a0e86[_0x285d2b(0x236)]>0x0&&_0x42e0ef['classList'][_0x285d2b(0x1e7)](..._0x4a0e86),Object[_0x285d2b(0x1ea)](_0x33f22e)[_0x285d2b(0x25c)](_0x2b94cc=>{const _0x4a59d9=_0x285d2b;_0x42e0ef[_0x4a59d9(0x292)](_0x2b94cc,_0x33f22e[_0x2b94cc]);}),_0x30c973['forEach'](_0x531cd9=>{const _0x292bb4=_0x285d2b;typeof _0x531cd9==='string'?_0x42e0ef[_0x292bb4(0x214)](document[_0x292bb4(0x23d)](_0x531cd9)):_0x42e0ef[_0x292bb4(0x214)](_0x531cd9);}),_0x42e0ef;}function loadSyncImage(_0x4beda3){return new Promise((_0x5c641b,_0x283481)=>{const _0x5c9db3=_0x3dda,_0x52dca4=new Image();_0x52dca4[_0x5c9db3(0x253)]=()=>_0x5c641b(_0x52dca4),_0x52dca4[_0x5c9db3(0x2aa)]=_0x3e4977=>_0x283481(_0x3e4977),_0x52dca4[_0x5c9db3(0x26a)]=_0x4beda3;});}function removeAllChildren(_0x13d40f){const _0x3df98f=_0x3dda;while(_0x13d40f[_0x3df98f(0x21c)]){_0x13d40f['removeChild'](_0x13d40f[_0x3df98f(0x21c)]);}}function padString(_0x5e860e,_0x3ba53e){const _0x5dd92c=_0x3dda;return _0x3ba53e[_0x5dd92c(0x209)]()['padStart'](_0x5e860e,'0');}function getDateString(_0x553c12){const _0x377911=_0x3dda;return _0x553c12['getFullYear']()+'年'+padString(0x2,_0x553c12['getMonth']()+0x1)+'月'+padString(0x2,_0x553c12[_0x377911(0x1ec)]())+'日';}function srcToURL(_0x4fbf09){const _0x1ca8b1=_0x3dda,_0x12ad79=atob(_0x4fbf09[_0x1ca8b1(0x26f)](',')[0x1]),_0x2d9b71=/:([a-zA-Z\/]+);/[_0x1ca8b1(0x217)](_0x4fbf09)[0x1],_0x66cee8=Uint8Array[_0x1ca8b1(0x204)](_0x12ad79['split'](''),_0x48dee6=>_0x48dee6[_0x1ca8b1(0x235)]()),_0x26ec5d=new Blob([_0x66cee8],{'type':_0x2d9b71});return URL[_0x1ca8b1(0x255)](_0x26ec5d);}const toNumberWithoutPx=_0x20faf6=>parseFloat(_0x20faf6),StorageKey=_0x17148f(0x1f8),dateInputID='dateInput';async function generateIconTextCanvas(_0x2061a3,_0x3ef13a,_0x53cf8a,_0x175d88=0x140,_0xd2fd42={}){const _0x3a4b92=_0x17148f,_0x38be29=_0xd2fd42[_0x3a4b92(0x1df)]||1.2,_0x11c62d=document[_0x3a4b92(0x28d)]('canvas');_0x11c62d[_0x3a4b92(0x238)]=_0x175d88,_0x11c62d[_0x3a4b92(0x245)]=_0x53cf8a*_0x38be29*_0x2061a3[_0x3a4b92(0x236)];const _0x540a69=_0x11c62d[_0x3a4b92(0x278)]('2d');_0x540a69[_0x3a4b92(0x1de)]=_0x53cf8a+'px\x20'+_0x3ef13a;const _0x5e93ff=0x0,_0x16ff6e=_0x53cf8a/0xa,_0x4e304c=0.75;return _0x2061a3[_0x3a4b92(0x25c)]((_0x3c9111,_0x2687ed)=>{const _0x4bc5b3=_0x3a4b92;_0x3c9111['icon']?(_0x540a69[_0x4bc5b3(0x264)](_0x3c9111[_0x4bc5b3(0x295)],_0x5e93ff,_0x16ff6e+_0x2687ed*_0x53cf8a*_0x38be29,_0x53cf8a,_0x53cf8a),_0x540a69[_0x4bc5b3(0x1f5)](_0x3c9111[_0x4bc5b3(0x2a9)],_0x5e93ff+_0x53cf8a*1.25,_0x16ff6e+(_0x2687ed+_0x4e304c)*_0x53cf8a*_0x38be29)):_0x540a69[_0x4bc5b3(0x1f5)](_0x3c9111[_0x4bc5b3(0x2a9)],_0x5e93ff,_0x16ff6e+(_0x2687ed+_0x4e304c)*_0x53cf8a*_0x38be29);}),_0x11c62d;}async function generateIconTextRoulette(_0x52c7cb,_0x389c1f,_0x1f6499,_0x85a237=0x140,_0x135a1c,_0xf4201c={}){const _0x29a308=_0x17148f;if(_0x52c7cb[_0x29a308(0x236)]<0x2)throw new(_0x29a308(0x210))();const _0x241d1f=await generateIconTextCanvas(_0x52c7cb[_0x29a308(0x29e)](_0x52c7cb[0x0]),_0x389c1f,_0x1f6499,_0x85a237,_0xf4201c),_0x3616de=_0xf4201c[_0x29a308(0x1df)]||1.2,_0x3799e8=_0xf4201c[_0x29a308(0x29b)]||0x3,_0x1377a8=_0x52c7cb['length']*_0x3799e8,_0x4987b1=_0xf4201c[_0x29a308(0x259)]||0x19,_0x5a2601=_0x1f6499*_0x3616de,_0x6026d5=document['createElement'](_0x29a308(0x251));_0x6026d5['width']=_0x85a237,_0x6026d5[_0x29a308(0x245)]=_0x5a2601;const _0x30b969=_0x6026d5['getContext']('2d');let _0xb13f2b=![],_0x159c96=!_0xf4201c[_0x29a308(0x21d)]?0x0:_0x3799e8*randRangedInt(0x0,_0x52c7cb[_0x29a308(0x236)]),_0x4529bd;_0x30b969[_0x29a308(0x274)](0x0,0x0,_0x85a237,_0x5a2601),_0x30b969[_0x29a308(0x264)](_0x241d1f,0x0,_0x5a2601*_0x159c96/_0x3799e8,_0x85a237,_0x5a2601,0x0,0x0,_0x85a237,_0x5a2601);const _0x3f5288=()=>{const _0x58eae4=_0x29a308;_0x159c96+=0x1;if(_0x159c96>=_0x1377a8)_0x159c96=0x0;_0xb13f2b&&(_0x30b969[_0x58eae4(0x274)](0x0,0x0,_0x85a237,_0x5a2601),_0x30b969[_0x58eae4(0x264)](_0x241d1f,0x0,_0x5a2601*_0x159c96/_0x3799e8,_0x85a237,_0x5a2601,0x0,0x0,_0x85a237,_0x5a2601));};return _0x6026d5[_0x29a308(0x25e)]=()=>{_0xb13f2b=!![],_0x4529bd=setInterval(_0x3f5288,_0x4987b1);},_0x6026d5[_0x29a308(0x291)]=()=>{const _0x505c02=_0x29a308;if(_0xb13f2b){_0xb13f2b=![];if(_0x4529bd)clearInterval(_0x4529bd);let _0x453bac=Math[_0x505c02(0x25a)](Math[_0x505c02(0x211)](_0x159c96/_0x3799e8));if(_0x453bac>=_0x52c7cb[_0x505c02(0x236)])_0x453bac=0x0;_0x30b969['clearRect'](0x0,0x0,_0x85a237,_0x5a2601),_0x30b969[_0x505c02(0x264)](_0x241d1f,0x0,_0x5a2601*_0x159c96/_0x3799e8,_0x85a237,_0x5a2601,0x0,0x0,_0x85a237,_0x5a2601),_0x135a1c&&_0x135a1c(_0x453bac,_0x52c7cb[_0x453bac]);}},_0x6026d5;}function generateIconTextManualPicker(_0x2c22dc,_0x56fe2f,_0x92e00a){const _0x3140aa=_0x17148f,_0x300567=_0x2c22dc[_0x3140aa(0x27b)]((_0x1b9864,_0x1e9c00)=>newElem(_0x3140aa(0x285),[_0x1b9864[_0x3140aa(0x2a9)]],[],{'value':_0x1e9c00})),_0x1ba5b7=newElem(_0x3140aa(0x282),_0x300567);return _0x1ba5b7[_0x3140aa(0x24c)]=-0x1,_0x1ba5b7[_0x3140aa(0x1f2)][_0x3140aa(0x20d)]=_0x3140aa(0x207),_0x1ba5b7[_0x3140aa(0x1f2)]['height']=_0x3140aa(0x27c),_0x1ba5b7[_0x3140aa(0x1f2)][_0x3140aa(0x1fd)]='top',_0x1ba5b7[_0x3140aa(0x25e)]=()=>{},_0x1ba5b7[_0x3140aa(0x291)]=()=>{},_0x1ba5b7[_0x3140aa(0x213)](_0x3140aa(0x227),_0x44aca1=>{const _0x340450=_0x3140aa,_0x5063ea=_0x44aca1[_0x340450(0x1f0)][_0x340450(0x24c)];_0x92e00a&&_0x92e00a(_0x5063ea,_0x2c22dc[_0x5063ea]);}),_0x1ba5b7;}document[_0x17148f(0x267)](_0x17148f(0x283))['addEventListener']('click',async()=>{const _0xf5f782=_0x17148f,_0x14db34=document[_0xf5f782(0x267)]('#work'),_0xa21229=async _0x2de12d=>{const _0x46f9bb=_0xf5f782;_0x2de12d[_0x46f9bb(0x1f2)][_0x46f9bb(0x24f)]=_0x46f9bb(0x246),_0x2de12d['style']['borderWidth']=_0x46f9bb(0x273),_0x2de12d[_0x46f9bb(0x1f2)][_0x46f9bb(0x20f)]=_0x46f9bb(0x29c),_0x14db34[_0x46f9bb(0x214)](_0x2de12d);},_0x1b1129=async _0x50fb2d=>{const _0x57c5a0=_0xf5f782,_0x280470=srcToURL(_0x50fb2d[_0x57c5a0(0x206)]()),_0x3dd197=newElem('a',[]);_0x3dd197[_0x57c5a0(0x24a)]=_0x57c5a0(0x1ef)+getDateString(document[_0x57c5a0(0x27f)](dateInputID)[_0x57c5a0(0x279)]),_0x3dd197[_0x57c5a0(0x1e8)]=_0x280470,_0x3dd197['click']();};removeAllChildren(_0x14db34);const _0x1e35bf=newElem('p',['画像を作成してダウンロードしています...\x20画面を操作せずお待ち下さい']);_0x14db34[_0xf5f782(0x214)](_0x1e35bf);const _0x18cc0e=await html2canvas(document[_0xf5f782(0x267)]('#container'));_0x1b1129(_0x18cc0e),_0x14db34[_0xf5f782(0x27e)](_0x1e35bf);});function updateDateArea(){const _0x19bcbe=_0x17148f,_0x55a8d1=document[_0x19bcbe(0x267)](_0x19bcbe(0x219)),_0x5950b5=_0x54fef8=>{const _0x1fe004=_0x19bcbe;_0x55a8d1['textContent']=getDateString(_0x54fef8)+_0x1fe004(0x234);},_0x1c45f1=new Date();_0x5950b5(_0x1c45f1);const _0xbf5f3a=newElem(_0x19bcbe(0x21a),[],[],{'type':'date'});_0xbf5f3a['id']=dateInputID,_0xbf5f3a[_0x19bcbe(0x24c)]=_0x1c45f1[_0x19bcbe(0x216)]()+'-'+padString(0x2,_0x1c45f1[_0x19bcbe(0x271)]()+0x1)+'-'+padString(0x2,_0x1c45f1[_0x19bcbe(0x1ec)]()),_0xbf5f3a[_0x19bcbe(0x1f2)][_0x19bcbe(0x221)]='absolute',_0xbf5f3a[_0x19bcbe(0x1f2)]['fontSize']=_0x19bcbe(0x207),_0xbf5f3a[_0x19bcbe(0x1f2)][_0x19bcbe(0x269)]=_0x19bcbe(0x28b),document[_0x19bcbe(0x267)](_0x19bcbe(0x252))['appendChild'](_0xbf5f3a),_0xbf5f3a[_0x19bcbe(0x213)](_0x19bcbe(0x21a),_0x56203c=>{const _0x1445f4=_0x19bcbe;_0x56203c[_0x1445f4(0x265)](),_0x56203c['preventDefault'](),_0x5950b5(_0xbf5f3a['valueAsDate']),_0xbf5f3a[_0x1445f4(0x1f4)]();}),_0xbf5f3a[_0x19bcbe(0x213)](_0x19bcbe(0x1e2),_0x305b2d=>{_0x305b2d['stopPropagation']();}),_0xbf5f3a[_0x19bcbe(0x213)]('blur',_0x18ff7c=>{const _0x2a51e6=_0x19bcbe;_0x18ff7c[_0x2a51e6(0x265)](),_0xbf5f3a[_0x2a51e6(0x1f2)]['display']=_0x2a51e6(0x28b);}),_0xbf5f3a[_0x19bcbe(0x213)](_0x19bcbe(0x25f),_0xca3989=>{const _0x29729a=_0x19bcbe;_0xca3989['key']===_0x29729a(0x1ee)&&(_0xca3989[_0x29729a(0x265)](),_0xca3989[_0x29729a(0x20a)](),_0xbf5f3a[_0x29729a(0x1f4)]());}),_0x55a8d1['addEventListener'](_0x19bcbe(0x1e2),_0x46b8a7=>{const _0x408332=_0x19bcbe;_0xbf5f3a[_0x408332(0x1f2)][_0x408332(0x1f1)]=_0x46b8a7[_0x408332(0x266)]+'px',_0xbf5f3a[_0x408332(0x1f2)][_0x408332(0x2a3)]=_0x46b8a7[_0x408332(0x22e)]+'px',_0x46b8a7[_0x408332(0x265)](),_0xbf5f3a[_0x408332(0x1f2)][_0x408332(0x269)]=_0x408332(0x22d),_0xbf5f3a[_0x408332(0x1dd)]();});}async function initialize(_0x42b175){const _0x315767=_0x17148f;{const _0x5b5688=_0x42b175[_0x315767(0x243)]?_0x42b175[_0x315767(0x243)]:window['getComputedStyle'](document[_0x315767(0x250)])[_0x315767(0x24d)],_0xb6e676=document[_0x315767(0x267)]('#container');_0xb6e676[_0x315767(0x1f2)]['fontSize']=_0x42b175[_0x315767(0x28c)]+'px',_0xb6e676['style'][_0x315767(0x24d)]='\x22'+_0x5b5688+'\x22';}updateDateArea();const _0xb707de='empty-box',_0x5554da=_0x315767(0x268);if(_0x42b175[_0x315767(0x1e6)][_0x315767(0x258)])try{const _0x1e1a75=_0x42b175[_0x315767(0x1e6)][_0x315767(0x2a9)]['trim']()['split']('\x0a');if(_0x1e1a75[_0x315767(0x236)]!=_0x42b175[_0x315767(0x26e)][_0x315767(0x236)]){const _0x168eb4=new Error('結果のテキストは12行必要です');_0x168eb4[_0x315767(0x280)]=_0x168eb4['message'];throw _0x168eb4;}const _0x578363=['01','02','03','04','05','06','07','08','09','10','11','12'];for(let _0x504901=0x0;_0x504901<_0x578363[_0x315767(0x236)];_0x504901+=0x1){const _0x6b041b=_0x578363[_0x504901],_0x3953b0=_0x1e1a75[_0x504901]['split'](',')['map'](_0x1c740e=>_0x1c740e[_0x315767(0x200)]());if(_0x3953b0[_0x315767(0x236)]!=0x3){const _0x9288e8=new Error(_0x315767(0x257));_0x9288e8['userMessage']=_0x9288e8['message'];throw _0x9288e8;}const [_0x4dbe35,_0x17d8ff,_0x403c90]=_0x3953b0,_0x25a360=document['querySelector'](_0x315767(0x224)+_0x6b041b),_0x261bad=document[_0x315767(0x267)]('#lucky774incRank'+_0x6b041b),_0xe2b2a2={'text':_0x4dbe35},_0x5c6727={'text':_0x403c90},_0x55f528=_0x42b175[_0x315767(0x28e)]['find'](_0x5670a1=>_0x5670a1[_0x315767(0x241)]===_0x17d8ff);_0x55f528&&(_0x5c6727['icon']=_0x55f528['icon']);for(let [_0xdc7415,_0x317b5f]of[[_0x315767(0x224)+_0x6b041b,_0xe2b2a2],[_0x315767(0x256)+_0x6b041b,_0x5c6727]]){const _0xceb629=document['querySelector'](_0xdc7415);_0xceb629['classList'][_0x315767(0x289)](_0xb707de),_0xceb629['classList'][_0x315767(0x1e7)](_0x5554da);const _0x513b28=window[_0x315767(0x29d)](_0xceb629),_0x343518=_0x513b28['fontFamily'],_0x30e0c3=toNumberWithoutPx(_0x513b28['fontSize']),_0x8fce85=toNumberWithoutPx(_0x513b28['width']),_0x45e075=await generateIconTextCanvas([_0x317b5f],_0x343518,_0x30e0c3,_0x8fce85);removeAllChildren(_0xceb629),_0xceb629[_0x315767(0x214)](_0x45e075);}}}catch(_0x532f77){document[_0x315767(0x267)]('#work')[_0x315767(0x25b)]=_0x315767(0x222)+_0x532f77[_0x315767(0x280)],console['error'](_0x532f77);}else{const _0x3c40f4=Array[_0x315767(0x204)](_0x42b175['constellations']),_0x510373=Array[_0x315767(0x204)](_0x42b175['members774inc']);let _0x28e057=![];const _0xd87fc6=(_0x55e036,_0x104f51)=>{const _0xd174a5=_0x315767;document[_0xd174a5(0x1fc)](_0x55e036)[_0xd174a5(0x25c)](_0x327696=>{const _0x96195f=_0xd174a5;let _0x54dd6e;_0x327696[_0x96195f(0x213)](_0x96195f(0x1e2),async()=>{const _0x1f19e0=_0x96195f;if(_0x327696['classList']['contains'](_0xb707de)&&!_0x28e057){_0x327696[_0x1f19e0(0x248)][_0x1f19e0(0x289)](_0xb707de),_0x327696[_0x1f19e0(0x248)][_0x1f19e0(0x1e7)](_0x5554da);const _0x59a0cf=window['getComputedStyle'](_0x327696),_0x2231d9=_0x59a0cf[_0x1f19e0(0x24d)],_0x570a7=toNumberWithoutPx(_0x59a0cf['fontSize']),_0x44f2fa=toNumberWithoutPx(_0x59a0cf[_0x1f19e0(0x238)]);if(_0x104f51['length']===0x1){const _0x2332fc=_0x104f51[_0x1f19e0(0x20c)](0x0,0x1),_0x4d61ee=await generateIconTextCanvas(_0x2332fc,_0x2231d9,_0x570a7,_0x44f2fa);removeAllChildren(_0x327696),_0x327696[_0x1f19e0(0x214)](_0x4d61ee);}else{const _0x1e104c=async(_0x4208bd,_0x5911a9)=>{const _0x324de7=_0x1f19e0;_0x28e057=![];const _0x27e284=_0x104f51[_0x324de7(0x20c)](_0x4208bd,0x1),_0x5e8de7=await generateIconTextCanvas(_0x27e284,_0x2231d9,_0x570a7,_0x44f2fa);removeAllChildren(_0x327696),_0x327696[_0x324de7(0x214)](_0x5e8de7);};_0x54dd6e=_0x42b175[_0x1f19e0(0x28a)]?generateIconTextManualPicker(_0x104f51,_0x570a7,_0x1e104c):await generateIconTextRoulette(_0x104f51,_0x2231d9,_0x570a7,_0x44f2fa,_0x1e104c,{'step':0x3,'intervalMS':0x19,'randomStart':!![]}),removeAllChildren(_0x327696),_0x327696[_0x1f19e0(0x214)](_0x54dd6e),_0x28e057=!![],_0x54dd6e['startRoulette']();}}else _0x54dd6e&&_0x28e057&&(_0x54dd6e[_0x1f19e0(0x291)](),_0x54dd6e=null);});});};_0xd87fc6(_0x315767(0x29a),_0x3c40f4),_0xd87fc6(_0x315767(0x226),_0x510373);}document['querySelector'](_0x315767(0x1ff))[_0x315767(0x1f2)][_0x315767(0x269)]=_0x315767(0x28b),document[_0x315767(0x267)]('#playarea')[_0x315767(0x1f2)][_0x315767(0x269)]=_0x315767(0x22d);}(async _0x58749b=>{const _0x203604=_0x17148f,_0x225dcb=_0x58749b[_0x203604(0x26e)],_0x5b03a0=_0x58749b[_0x203604(0x28e)];await Promise[_0x203604(0x218)](_0x5b03a0[_0x203604(0x27b)](async _0x5041a6=>{const _0x51b163=_0x203604;_0x5041a6[_0x51b163(0x295)]=await loadSyncImage(_0x5041a6['iconPath']);}));const _0x15b7c5=0x30,_0x601449=_0x203604(0x272),_0x5957eb='manual',_0x175e21=_0x203604(0x1e6),_0x28d59e=document['querySelector'](_0x203604(0x276)),_0x3131ba=document[_0x203604(0x267)](_0x203604(0x230)),_0x10dd38=document[_0x203604(0x267)](_0x203604(0x23e)),_0x3b794d=document['querySelector'](_0x203604(0x1f6)),_0x4ed2a5=document[_0x203604(0x267)](_0x203604(0x1e0)),_0x2e065a=document['querySelector'](_0x203604(0x233)),_0xcec0b1=document[_0x203604(0x267)]('#preInputTextarea');let _0x2d2a99=![];{const _0x4b550a=new URL(window['location'])[_0x203604(0x1e5)],_0x15b4b5=window[_0x203604(0x1e4)]?JSON[_0x203604(0x22b)](window[_0x203604(0x1e4)]['getItem'](StorageKey)):null;_0x28d59e['appendChild'](newElem('option',['ルーレット'],[],{'value':_0x601449})),_0x28d59e[_0x203604(0x214)](newElem(_0x203604(0x285),['手動'],[],{'value':_0x5957eb})),_0x28d59e['appendChild'](newElem(_0x203604(0x285),['結果をテキストで事前に編集'],[],{'value':_0x175e21})),_0x28d59e[_0x203604(0x24c)]=_0x4b550a[_0x203604(0x1e1)](_0x203604(0x1e9))==_0x203604(0x220)?_0x5957eb:_0x15b4b5?_0x15b4b5[_0x203604(0x294)]:_0x601449;const _0xb3475c=Number(_0x4b550a['get']('mainFontSize'));_0x3131ba[_0x203604(0x24c)]=_0xb3475c>0x0?_0xb3475c:_0x15b4b5?_0x15b4b5[_0x203604(0x28c)]:_0x15b7c5,_0x10dd38[_0x203604(0x24c)]=_0x15b4b5?_0x15b4b5[_0x203604(0x243)]:'',_0x2d2a99=_0x4b550a[_0x203604(0x1e1)](_0x203604(0x215))==_0x203604(0x220);{const _0x4b0909=_0x4f5a2f=>{const _0x525384=_0x203604;_0x28d59e[_0x525384(0x24c)]===_0x175e21?(_0x2e065a[_0x525384(0x1f2)][_0x525384(0x269)]='table-row',_0x3b794d['style']['display']=_0x525384(0x205)):(_0x2e065a[_0x525384(0x1f2)]['display']=_0x525384(0x28b),_0x3b794d[_0x525384(0x1f2)][_0x525384(0x269)]=_0x525384(0x28b));};_0x4ed2a5[_0x203604(0x24c)]=_0x5b03a0[_0x203604(0x27b)](_0x52d51b=>[_0x52d51b['origID'],_0x52d51b[_0x203604(0x2a9)]][_0x203604(0x1f7)](',\x20'))[_0x203604(0x1f7)]('\x0a')[_0x203604(0x200)](),_0x4ed2a5[_0x203604(0x292)]('rows',_0x5b03a0[_0x203604(0x236)]+0x1),_0x4ed2a5[_0x203604(0x292)](_0x203604(0x1eb),_0x203604(0x1eb));const _0x2b0a4d=()=>{const _0x3bc84c=_0x203604;return _0x5b03a0['slice'](0x0,0xb)[_0x3bc84c(0x29e)]({'origID':_0x3bc84c(0x203),'text':_0x3bc84c(0x22a)})['map']((_0x18685a,_0x2c69ee)=>[_0x225dcb[_0x2c69ee][_0x3bc84c(0x2a9)],_0x18685a[_0x3bc84c(0x241)],_0x18685a[_0x3bc84c(0x2a9)]][_0x3bc84c(0x1f7)](',\x20'))['join']('\x0a')[_0x3bc84c(0x200)]();};_0xcec0b1[_0x203604(0x24c)]=_0x15b4b5&&_0x15b4b5[_0x203604(0x2a1)]?_0x15b4b5[_0x203604(0x2a1)]:_0x2b0a4d(),_0xcec0b1[_0x203604(0x292)]('rows',0xc),_0xcec0b1[_0x203604(0x24b)]['querySelector'](_0x203604(0x202))[_0x203604(0x213)](_0x203604(0x1e2),()=>{const _0x5afbed=_0x203604;_0xcec0b1[_0x5afbed(0x24c)]=_0x2b0a4d();}),_0x28d59e[_0x203604(0x213)](_0x203604(0x227),_0x4b0909),_0x4b0909();}}const _0x556fc6=async()=>{const _0x25a5bc=_0x203604,_0x34b63b=Number(_0x3131ba[_0x25a5bc(0x24c)]),_0x1ebcaa=Number[_0x25a5bc(0x237)](_0x34b63b)&&_0x34b63b>0x0?_0x34b63b:_0x15b7c5;if(window['localStorage']){const _0x324a81={'selectMode':_0x28d59e['value'],'mainFontSize':_0x3131ba[_0x25a5bc(0x24c)],'mainFontFamily':_0x10dd38['value'],'preInputText':_0xcec0b1['value']};window['localStorage']['setItem'](StorageKey,JSON['stringify'](_0x324a81));}initialize({'constellations':_0x225dcb,'members774inc':_0x5b03a0,'manualMode':_0x28d59e[_0x25a5bc(0x24c)]===_0x5957eb,'preInput':{'use':_0x28d59e[_0x25a5bc(0x24c)]===_0x175e21,'text':_0xcec0b1[_0x25a5bc(0x24c)]},'mainFontSize':_0x1ebcaa,'mainFontFamily':_0x10dd38[_0x25a5bc(0x24c)]});};document[_0x203604(0x267)](_0x203604(0x1f3))[_0x203604(0x213)](_0x203604(0x1e2),_0x556fc6),_0x2d2a99&&_0x556fc6();})({'constellations':[{'origID':'01','text':'おひつじ座'},{'origID':'02','text':_0x17148f(0x299)},{'origID':'03','text':_0x17148f(0x228)},{'origID':'04','text':'かに座\x20\x20\x20\x20'},{'origID':'05','text':_0x17148f(0x247)},{'origID':'06','text':_0x17148f(0x239)},{'origID':'07','text':_0x17148f(0x2a0)},{'origID':'08','text':'さそり座\x20\x20'},{'origID':'09','text':_0x17148f(0x23b)},{'origID':'10','text':'やぎ座\x20\x20\x20\x20'},{'origID':'11','text':_0x17148f(0x263)},{'origID':'12','text':_0x17148f(0x2a4)}],'members774inc':[{'origID':_0x17148f(0x1e3),'text':_0x17148f(0x20e),'iconPath':'../imgs/icon/icon-a01.png'},{'origID':_0x17148f(0x288),'text':'宗谷いちか','iconPath':'../imgs/icon/icon-a02.png'},{'origID':_0x17148f(0x2a5),'text':_0x17148f(0x275),'iconPath':'../imgs/icon/icon-a03.png'},{'origID':_0x17148f(0x229),'text':_0x17148f(0x2ab),'iconPath':_0x17148f(0x23a)},{'origID':_0x17148f(0x26c),'text':_0x17148f(0x21e),'iconPath':_0x17148f(0x296)},{'origID':_0x17148f(0x290),'text':'白宮みみ','iconPath':_0x17148f(0x208)},{'origID':_0x17148f(0x1dc),'text':'羽柴なつみ','iconPath':_0x17148f(0x28f)},{'origID':_0x17148f(0x284),'text':_0x17148f(0x242),'iconPath':_0x17148f(0x225)},{'origID':_0x17148f(0x1fe),'text':_0x17148f(0x21b),'iconPath':_0x17148f(0x270)},{'origID':_0x17148f(0x298),'text':_0x17148f(0x281),'iconPath':_0x17148f(0x249)},{'origID':_0x17148f(0x22f),'text':_0x17148f(0x25d),'iconPath':_0x17148f(0x231)},{'origID':_0x17148f(0x262),'text':_0x17148f(0x244),'iconPath':_0x17148f(0x23f)},{'origID':_0x17148f(0x1fa),'text':_0x17148f(0x26b),'iconPath':'../imgs/icon/icon-h03.png'},{'origID':_0x17148f(0x27d),'text':_0x17148f(0x23c),'iconPath':_0x17148f(0x2a6)},{'origID':_0x17148f(0x2a7),'text':_0x17148f(0x212),'iconPath':_0x17148f(0x26d)},{'origID':'301','text':_0x17148f(0x240),'iconPath':'../imgs/icon/icon-s01.png'},{'origID':_0x17148f(0x29f),'text':_0x17148f(0x287),'iconPath':_0x17148f(0x277)},{'origID':_0x17148f(0x1da),'text':_0x17148f(0x2a8),'iconPath':_0x17148f(0x1fb)},{'origID':_0x17148f(0x2a2),'text':_0x17148f(0x297),'iconPath':'../imgs/icon/icon-s00.png'},{'origID':_0x17148f(0x21f),'text':_0x17148f(0x201),'iconPath':_0x17148f(0x260)},{'origID':_0x17148f(0x1f9),'text':_0x17148f(0x293),'iconPath':_0x17148f(0x223)},{'origID':_0x17148f(0x261),'text':_0x17148f(0x1ed),'iconPath':_0x17148f(0x20b)},{'origID':_0x17148f(0x232),'text':'不磨わっと','iconPath':'../imgs/icon/icon-v05.png'},{'origID':_0x17148f(0x286),'text':_0x17148f(0x254),'iconPath':_0x17148f(0x27a)},{'origID':_0x17148f(0x24e),'text':'銀猫ななし','iconPath':_0x17148f(0x1db)}]});
  </script>
</body>
</html>
