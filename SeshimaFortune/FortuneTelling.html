<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="瀬島っぽい占い">
  <meta property="og:url"   content="https://pecmm.github.io/SeshimaFortune/FortuneTelling.html" />
  <meta property="og:image" content="https://pecmm.github.io/SeshimaFortune/thumb/thumb.png?3a5f591e">
  <title>瀬島っぽい占い</title>
  <style>
    #controller,
    #controller button,
    #controller select,
    #controller textarea,
    #controller input {
      font-size: 100%;
    }
    #controller input[type='number'] {
      text-align: right;
      width: 100px;
    }
    #controller table th {
      text-align: right;
    }
    #controller textarea {
      width: 40em;
    }
    
    #playarea {
      display: none;
    }
    #container{
      display: inline-block;
      user-select: none;
    }
    #dateArea {
      margin-top   : 0.3em;
      margin-bottom: 0.6em;
      text-align: center;
    }
    #dateText {
      position: relative;
      font-size: 120%;
      font-weight: bold;
    }
    #main {
      display: flex;
      flex-flow: column nowrap;
      padding: 0.8em;
      font-size: 100%;
    }
    
    #main div.row {
      display: flex;
      flex-flow: row nowrap;
      align-items: center;
      height: 1.4em;
      padding-bottom: 1px;
      border-bottom: solid 1px #999999;
    }
    #main div.row:not(:first-child) {
      margin-top: 0.5em;
    }
    
    .r-box {
      display: inline-block;
      height: 90%;
    }
    .seizaRank {
      width: 7em;
    }
    .lucky774incRank {
      width: 12em;
    }
    
    .empty-box:hover {
      background-color: #CCCCCC;
    }
    .filled-box:hover {
    }
    
    span.label {
      display: inline-block;
      text-align: right;
    }
    span.label.l1 {
      width: 3.2em;
      height: 55%;
      margin-right: 1em;
      font-size: 0.6em;
    }
    span.label.l2 {
      height: 50%;
      margin-right: 0.5em;
      font-size: 0.5em;
    }
  </style>
</head>
<body>
  <div id='controller'>
    <h1>瀬島の朝活占いごっこ</h1>
    <table border=1 cellpadding=5>
      <tr> <th>選択方法</th> <td><select id='selectMode'></td> </tr>
      <tr> <th>全体のフォントサイズ</th> <td><label><input id='mainFontSize' type='number' value=''> px</label></td> </tr>
      <tr> <th>全体のフォント名</th> <td><label><input id='mainFontFamily' type='text' value=''></label></td> </tr>
      <tr id='memberTR'> <th>774incメンバー</th> <td><textarea id='memberTextarea'></textarea></td> </tr>
      <tr id='preInputTR'> <th>結果のテキスト</th> <td><textarea id='preInputTextarea'></textarea><br /><button>reset</button></td> </tr>
    </table>
    <button id='start'>開始</button>
    
    
    <hr style='margin-top:5em;' />
    <h2>ヘルプ</h2>
    <ul>
      <li>version: <span id="version"></span></li>
      <li>PC Chrome ブラウザで動作確認しています。</li>
      <li><strong>何も変更しなくてもとりあえず「開始」ボタンを押すと動きます</strong></li>
      <li>設定画面 (この画面)：<ul>
        <li>設定値を変更する場合は、画面リロードでやりなおしてください。</li>
        <li>設定値：全体のフォント名は、ブラウザの設定画面で指定可能なフォント名を記入することができます。</li>
        <li>設定値：全体のフォント名が空欄・または使用できないフォント名が指定された場合、ブラウザデフォルトのフォントが使用されます。</li>
        <li>「結果のテキスト」を指定することで、事前に編集したテキストで一気に占い結果を生成できます。<br
          />この選択方法では生成するだけで、占い結果を変更することはありません。<br
          />結果のテキストは1行目＝1位の内容……となるように、上から順に12行で記述します。<br
          />各行の書式は<strong>＜星座の名前＞, メンバーのID, 表示されるメンバーの名前</strong>です。 ※カンマの数が違うとエラーになります。<br
          />存在しないメンバーのIDを指定すると、アイコンが表示されなくなります。メンバーのIDと名前の対応が食い違っても問題ありません。</li>
      </ul></li>
      <li>占い画面 (『開始』した画面)：<ul>
        <li><strong>設定画面に戻るには、F5 等ページリロードしてください。</strong></li>
        <li>文字がはみ出る・改行されて表示が崩れるなどの場合は、設定画面から「全体のフォントサイズ」を変更して調整してください。</li>
        <li>タイトル(日付が入っている文字列)をクリックして、日付を変更できます (カレンダーから変更してください)。<br
          />日付変更の確定、'Esc' キー、画面上のなにもない所をクリック、などで日付変更の UI を閉じることができます。</li>
        <li>背景色が変更する箇所をクリックで、ルーレットが開始 (手動モードの場合は手動での変更が開始) します。<br
          />もう一度クリックでルーレットを止める (手動モードの場合は、ドロップダウンリストから決定) まで、他の箇所の開始操作ができません。</li>
      </ul></li>
    </ul>
  </div>
  <div id='playarea'>
    <div id='container'>
      <div id='dateArea'><span id='dateText'>占い結果</span></div>
      <div id='main'>
        <div class='row'><span class='label l1'> 1位</span> <span class='seizaRank empty-box r-box' id='seizaRank01'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank01'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 2位</span> <span class='seizaRank empty-box r-box' id='seizaRank02'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank02'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 3位</span> <span class='seizaRank empty-box r-box' id='seizaRank03'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank03'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 4位</span> <span class='seizaRank empty-box r-box' id='seizaRank04'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank04'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 5位</span> <span class='seizaRank empty-box r-box' id='seizaRank05'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank05'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 6位</span> <span class='seizaRank empty-box r-box' id='seizaRank06'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank06'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 7位</span> <span class='seizaRank empty-box r-box' id='seizaRank07'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank07'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 8位</span> <span class='seizaRank empty-box r-box' id='seizaRank08'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank08'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'> 9位</span> <span class='seizaRank empty-box r-box' id='seizaRank09'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank09'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'>10位</span> <span class='seizaRank empty-box r-box' id='seizaRank10'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank10'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'>11位</span> <span class='seizaRank empty-box r-box' id='seizaRank11'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank11'>&nbsp;</div> </div>
        <div class='row'><span class='label l1'>12位</span> <span class='seizaRank empty-box r-box' id='seizaRank12'>&nbsp;</span> <span class='label l2'>ラッキー774inc：</span> <div class='lucky774incRank empty-box r-box' id='lucky774incRank12'>&nbsp;</div> </div>
      </div>
    </div>
    
    <hr />
    <button id='saveImage'>画像として保存</button>
    <br />
    <div id='work'></div>
  </div>
  
  <script src='https://cdn.jsdelivr.net/npm/html2canvas@1.0.0-rc.5/dist/html2canvas.min.js'></script>
  <script>
    const AppVersion = "2.0.0";
    document.querySelector('#version').textContent = AppVersion;
    
const _0x1370=['charCodeAt','109','none','103','img/icon-h03.png','202','src','filled-box','step','roulette','appendChild','白宮みみ','おうし座\x20\x20','key','manual','find','周防パトラ','杏戸ゆげ','#seizaRank','結果のテキストは12行必要です','img/icon-v05.png','風見くく','るいめいと','403','members774inc','不磨わっと','花奏かのん','icon','round','img/icon-s00.png','虎城アンナ','fillText','三毛猫ななし','left','random','fortune-lastInputValues','img/icon-a11.png','#dateArea','img/icon-v00.png','parse','img/icon-h02.png','img/icon-s03.png','message','0px\x20','299','blur','readonly','firstChild','preInputText','龍ヶ崎リン','#memberTR','exec','107','getComputedStyle','#playarea','borderStyle','堰代ミコ','map','しし座\x20\x20\x20\x20','width','userMessage','柚原いづみ','randomStart','img/icon-a06.png','#preInputTR','origID','use','204','contains','mainFontFamily','95%','download','intervalMS','fontSize','keydown','getDate','querySelectorAll','length','absolute','onerror','input','canvas','dateInput','position','value','empty-box','img/icon-h00.png','---','removeChild','body','querySelector','searchParams','#work','change','#dateText','focus','createObjectURL','display','add','classList','valueAsDate','preventDefault','true','button','小森めと','onload','select','img/icon-s02.png','style','黒猫ななし','#mainFontFamily','blue','setItem','羽柴なつみ','concat','preInput','manualMode','img/icon-s01.png','splice','ふたご座\x20\x20','.seizaRank','option','おとめ座\x20\x20','img/icon-a10.png','img/icon-v03.png','date','getContext','101','季咲あんこ','Escape','111','飛良ひかり','lineHeight','drawImage','#lucky774incRank','おひつじ座','autoStart','font','remove','startRoulette','#container','かに座\x20\x20\x20\x20','203','trim','join','stringify','#start','105','宗谷いちか','getItem','forEach','text','島村シャルロット','px\x20','いて座\x20\x20\x20\x20','406','objectFit','img/icon-v01.png','404','110','301','objectPosition','borderColor','0.75em','#saveImage','constellations','#memberTextarea','5px','selectMode','てんびん座','fontFamily','img/icon-a05.png','獅子王クリス','銀猫ななし','getFullYear','img/icon-v04.png','img/icon-a07.png','405','textContent','split','201','href','addEventListener','location','toString','.lucky774incRank','abs','106','#selectMode','solid','createElement','stopPropagation','table-row','toDataURL','302','click','#mainFontSize','from','setAttribute','top','401','getOwnPropertyNames','結果をテキストで事前に編集','height','img/icon-h04.png','日ノ隈らん','やぎ座\x20\x20\x20\x20','localStorage','padStart','getMonth','#preInputTextarea','西園寺メアリ','mainFontSize','各行には\x20\x22,\x22\x20で区切られたた\x203\x20項目が必要です','get','みずがめ座','「結果のテキスト」の入力に誤りがあります。'];(function(_0x5417e0,_0x4ae823){const _0x13707b=function(_0x108c99){while(--_0x108c99){_0x5417e0['push'](_0x5417e0['shift']());}};_0x13707b(++_0x4ae823);}(_0x1370,0x9f));const _0x108c=function(_0x5417e0,_0x4ae823){_0x5417e0=_0x5417e0-0x1a4;let _0x13707b=_0x1370[_0x5417e0];return _0x13707b;};const _0x4b11fd=_0x108c;function randRangedInt(_0x3452d6,_0x417f9b){const _0xed42a8=_0x108c;return Math['floor'](Math[_0xed42a8(0x200)]()*_0x417f9b)+_0x3452d6;}function newElem(_0x575a4e,_0x352e5e=[],_0x2c0017=[],_0x4c6a83={}){const _0x45491a=_0x108c,_0xed9b7f=document[_0x45491a(0x1c3)](_0x575a4e);return _0x2c0017['length']>0x0&&_0xed9b7f['classList'][_0x45491a(0x240)](..._0x2c0017),Object[_0x45491a(0x1ce)](_0x4c6a83)[_0x45491a(0x274)](_0x138acd=>{const _0x13a6a5=_0x45491a;_0xed9b7f[_0x13a6a5(0x1cb)](_0x138acd,_0x4c6a83[_0x138acd]);}),_0x352e5e[_0x45491a(0x274)](_0x4df893=>{const _0x221278=_0x45491a;typeof _0x4df893==='string'?_0xed9b7f[_0x221278(0x1e8)](document['createTextNode'](_0x4df893)):_0xed9b7f[_0x221278(0x1e8)](_0x4df893);}),_0xed9b7f;}function loadSyncImage(_0x8adee3){return new Promise((_0xe013b2,_0x5bcdee)=>{const _0x4ba4a2=_0x108c,_0x4fb983=new Image();_0x4fb983[_0x4ba4a2(0x247)]=()=>_0xe013b2(_0x4fb983),_0x4fb983[_0x4ba4a2(0x22d)]=_0x2f2c62=>_0x5bcdee(_0x2f2c62),_0x4fb983[_0x4ba4a2(0x1e4)]=_0x8adee3;});}function removeAllChildren(_0x50c688){const _0x3eeea9=_0x108c;while(_0x50c688[_0x3eeea9(0x20d)]){_0x50c688['removeChild'](_0x50c688['firstChild']);}}function padString(_0x14c239,_0x3901c9){const _0x3048a0=_0x108c;return _0x3901c9[_0x3048a0(0x1bd)]()[_0x3048a0(0x1d5)](_0x14c239,'0');}function getDateString(_0x417315){const _0x288c69=_0x108c;return _0x417315[_0x288c69(0x1b3)]()+'年'+padString(0x2,_0x417315[_0x288c69(0x1d6)]()+0x1)+'月'+padString(0x2,_0x417315[_0x288c69(0x229)]())+'日';}function srcToURL(_0x222a85){const _0x298039=_0x108c,_0x20f23c=atob(_0x222a85['split'](',')[0x1]),_0x125a72=/:([a-zA-Z\/]+);/[_0x298039(0x211)](_0x222a85)[0x1],_0x191bbb=Uint8Array[_0x298039(0x1ca)](_0x20f23c[_0x298039(0x1b8)](''),_0x12e4b1=>_0x12e4b1[_0x298039(0x1de)]()),_0x30ecaf=new Blob([_0x191bbb],{'type':_0x125a72});return URL[_0x298039(0x23e)](_0x30ecaf);}const toNumberWithoutPx=_0x239483=>parseFloat(_0x239483),StorageKey=_0x4b11fd(0x201),dateInputID=_0x4b11fd(0x230);async function generateIconTextImage(_0x7bd02,_0x182b2e,_0x43b00f,_0x4d3102=0x140,_0x37441a={}){const _0x4eeb90=_0x4b11fd,_0x2b73af=_0x37441a[_0x4eeb90(0x262)]||1.2,_0x1500a2=document[_0x4eeb90(0x1c3)](_0x4eeb90(0x22f));_0x1500a2[_0x4eeb90(0x219)]=_0x4d3102,_0x1500a2[_0x4eeb90(0x1d0)]=_0x43b00f*_0x2b73af*_0x7bd02[_0x4eeb90(0x22b)];const _0x2008fd=_0x1500a2[_0x4eeb90(0x25c)]('2d');_0x2008fd[_0x4eeb90(0x267)]=_0x43b00f+_0x4eeb90(0x277)+_0x182b2e;const _0x5c8801=0x0,_0xb08a92=_0x43b00f/0xa,_0x8cb46a=0.75;_0x7bd02['forEach']((_0x3f5c3c,_0x220859)=>{const _0x4b2b29=_0x4eeb90;_0x3f5c3c['icon']?(_0x2008fd[_0x4b2b29(0x263)](_0x3f5c3c[_0x4b2b29(0x1f9)],_0x5c8801,_0xb08a92+_0x220859*_0x43b00f*_0x2b73af,_0x43b00f,_0x43b00f),_0x2008fd[_0x4b2b29(0x1fd)](_0x3f5c3c['text'],_0x5c8801+_0x43b00f*1.25,_0xb08a92+(_0x220859+_0x8cb46a)*_0x43b00f*_0x2b73af)):_0x2008fd['fillText'](_0x3f5c3c[_0x4b2b29(0x275)],_0x5c8801,_0xb08a92+(_0x220859+_0x8cb46a)*_0x43b00f*_0x2b73af);});const _0x2a727a=await loadSyncImage(_0x1500a2[_0x4eeb90(0x1c6)]());return _0x2a727a[_0x4eeb90(0x24a)][_0x4eeb90(0x219)]=_0x1500a2[_0x4eeb90(0x219)]+'px',_0x2a727a['style']['height']=_0x43b00f*_0x2b73af+'px',_0x2a727a[_0x4eeb90(0x24a)][_0x4eeb90(0x27a)]='none',_0x2a727a;}async function generateIconTextRoulette(_0xf119ae,_0x4d77e6,_0x52eaae,_0x3945c1=0x140,_0x525a4c,_0x4c55ee={}){const _0x389e7d=_0x4b11fd;if(_0xf119ae[_0x389e7d(0x22b)]<0x2)throw new'illegal\x20argument\x20error.\x20`iconTextList`\x20requires\x20at\x20least\x202\x20elements.'();const _0x5adc84=await generateIconTextImage(_0xf119ae[_0x389e7d(0x250)](_0xf119ae[0x0]),_0x4d77e6,_0x52eaae,_0x3945c1,_0x4c55ee),_0x465ba9=_0x4c55ee[_0x389e7d(0x262)]||1.2,_0x561b13=_0x4c55ee[_0x389e7d(0x1e6)]||0x3,_0x35a942=-_0xf119ae[_0x389e7d(0x22b)]*_0x561b13,_0x525345=_0x4c55ee[_0x389e7d(0x226)]||0x19;let _0x2ad3ec=![],_0x4048e4=!_0x4c55ee[_0x389e7d(0x21c)]?0x0:-_0x561b13*randRangedInt(0x0,_0xf119ae['length']),_0x1d5e53;_0x5adc84[_0x389e7d(0x24a)][_0x389e7d(0x1a6)]=_0x389e7d(0x209)+_0x4048e4*_0x52eaae*_0x465ba9/_0x561b13+'px';const _0x1387f3=()=>{const _0x5a1603=_0x389e7d;_0x4048e4-=0x1;if(_0x4048e4<=_0x35a942)_0x4048e4=0x0;_0x2ad3ec&&(_0x5adc84[_0x5a1603(0x24a)][_0x5a1603(0x1a6)]=_0x5a1603(0x209)+_0x4048e4*_0x52eaae*_0x465ba9/_0x561b13+'px');};return _0x5adc84[_0x389e7d(0x269)]=()=>{_0x2ad3ec=!![],_0x1d5e53=setInterval(_0x1387f3,_0x525345);},_0x5adc84[_0x389e7d(0x1bb)](_0x389e7d(0x1c8),()=>{const _0x5e549c=_0x389e7d;if(_0x2ad3ec){_0x2ad3ec=![];if(_0x1d5e53)clearInterval(_0x1d5e53);let _0x16959c=Math[_0x5e549c(0x1bf)](Math[_0x5e549c(0x1fa)](_0x4048e4/_0x561b13));if(_0x16959c>=_0xf119ae[_0x5e549c(0x22b)])_0x16959c=0x0;_0x5adc84[_0x5e549c(0x24a)][_0x5e549c(0x1a6)]=_0x5e549c(0x209)+-_0x16959c*_0x52eaae*_0x465ba9+'px',_0x525a4c&&_0x525a4c(_0x16959c,_0xf119ae[_0x16959c]);}}),_0x5adc84;}function generateIconTextManualPicker(_0x539492,_0x38a9ba,_0x2a1163){const _0x32e394=_0x4b11fd,_0x5bda89=_0x539492['map']((_0xe6f7b4,_0x15837f)=>newElem(_0x32e394(0x257),[_0xe6f7b4[_0x32e394(0x275)]],[],{'value':_0x15837f})),_0x45a6f5=newElem(_0x32e394(0x248),_0x5bda89);return _0x45a6f5[_0x32e394(0x232)]=-0x1,_0x45a6f5[_0x32e394(0x24a)][_0x32e394(0x227)]=_0x32e394(0x1a8),_0x45a6f5['style'][_0x32e394(0x1d0)]=_0x32e394(0x224),_0x45a6f5[_0x32e394(0x24a)]['verticalAlign']=_0x32e394(0x1cc),_0x45a6f5['startRoulette']=()=>{},_0x45a6f5[_0x32e394(0x1bb)](_0x32e394(0x23b),_0x377efc=>{const _0x4f721f=_0x32e394,_0x5d6b0e=_0x377efc['target'][_0x4f721f(0x232)];_0x2a1163&&_0x2a1163(_0x5d6b0e,_0x539492[_0x5d6b0e]);}),_0x45a6f5;}document[_0x4b11fd(0x238)](_0x4b11fd(0x1a9))[_0x4b11fd(0x1bb)](_0x4b11fd(0x1c8),async()=>{const _0x248dd1=_0x4b11fd,_0x2e87f3=document[_0x248dd1(0x238)](_0x248dd1(0x23a)),_0x32929b=async _0x1bcc02=>{const _0x407d5e=_0x248dd1;_0x1bcc02[_0x407d5e(0x24a)][_0x407d5e(0x215)]=_0x407d5e(0x1c2),_0x1bcc02[_0x407d5e(0x24a)]['borderWidth']=_0x407d5e(0x1ac),_0x1bcc02['style'][_0x407d5e(0x1a7)]=_0x407d5e(0x24d),_0x2e87f3[_0x407d5e(0x1e8)](_0x1bcc02);},_0x593eea=async _0x3d57c3=>{const _0x24d808=_0x248dd1,_0xeead51=srcToURL(_0x3d57c3[_0x24d808(0x1c6)]()),_0x288a27=await loadSyncImage(_0xeead51),_0x548233=newElem('a',[]);_0x548233[_0x24d808(0x225)]='占い結果-'+getDateString(document['getElementById'](dateInputID)[_0x24d808(0x242)]),_0x548233[_0x24d808(0x1ba)]=_0xeead51,_0x548233[_0x24d808(0x1c8)]();};removeAllChildren(_0x2e87f3);const _0x56f197=newElem('p',['画像を作成してダウンロードしています...\x20画面を操作せずお待ち下さい']);_0x2e87f3[_0x248dd1(0x1e8)](_0x56f197);const _0x59a6d7=await html2canvas(document[_0x248dd1(0x238)]('#container'));_0x593eea(_0x59a6d7),_0x2e87f3[_0x248dd1(0x236)](_0x56f197);});function updateDateArea(){const _0x96b21=_0x4b11fd,_0x2a6b69=document[_0x96b21(0x238)](_0x96b21(0x23c)),_0x3e19e5=_0x5efbc8=>{_0x2a6b69['textContent']=getDateString(_0x5efbc8)+'の占い結果';},_0x14d1a3=new Date();_0x3e19e5(_0x14d1a3);const _0x45538e=newElem('input',[],[],{'type':_0x96b21(0x25b)});_0x45538e['id']=dateInputID,_0x45538e[_0x96b21(0x232)]=_0x14d1a3[_0x96b21(0x1b3)]()+'-'+padString(0x2,_0x14d1a3[_0x96b21(0x1d6)]()+0x1)+'-'+padString(0x2,_0x14d1a3['getDate']()),_0x45538e[_0x96b21(0x24a)][_0x96b21(0x231)]=_0x96b21(0x22c),_0x45538e[_0x96b21(0x24a)][_0x96b21(0x227)]='0.75em',_0x45538e[_0x96b21(0x24a)][_0x96b21(0x23f)]=_0x96b21(0x1e0),document['querySelector'](_0x96b21(0x203))[_0x96b21(0x1e8)](_0x45538e),_0x45538e[_0x96b21(0x1bb)](_0x96b21(0x22e),_0x40dc21=>{const _0x53a560=_0x96b21;_0x40dc21['stopPropagation'](),_0x40dc21['preventDefault'](),_0x3e19e5(_0x45538e['valueAsDate']),_0x45538e[_0x53a560(0x20b)]();}),_0x45538e['addEventListener'](_0x96b21(0x1c8),_0x5a54b6=>{_0x5a54b6['stopPropagation']();}),_0x45538e[_0x96b21(0x1bb)]('blur',_0x10731d=>{const _0x5e8fc0=_0x96b21;_0x10731d[_0x5e8fc0(0x1c4)](),_0x45538e[_0x5e8fc0(0x24a)][_0x5e8fc0(0x23f)]=_0x5e8fc0(0x1e0);}),_0x45538e[_0x96b21(0x1bb)](_0x96b21(0x228),_0xd43de5=>{const _0x470948=_0x96b21;_0xd43de5[_0x470948(0x1eb)]===_0x470948(0x25f)&&(_0xd43de5[_0x470948(0x1c4)](),_0xd43de5[_0x470948(0x243)](),_0x45538e[_0x470948(0x20b)]());}),_0x2a6b69[_0x96b21(0x1bb)]('click',_0x170903=>{const _0x58f644=_0x96b21;_0x45538e[_0x58f644(0x24a)][_0x58f644(0x1cc)]=_0x170903['offsetY']+'px',_0x45538e['style'][_0x58f644(0x1ff)]=_0x170903['offsetX']+'px',_0x170903[_0x58f644(0x1c4)](),_0x45538e[_0x58f644(0x24a)]['display']='block',_0x45538e[_0x58f644(0x23d)]();});}async function initialize(_0x3c1e81){const _0x3cd09a=_0x4b11fd;{const _0x4e320f=_0x3c1e81[_0x3cd09a(0x223)]?_0x3c1e81['mainFontFamily']:window['getComputedStyle'](document[_0x3cd09a(0x237)])[_0x3cd09a(0x1af)],_0x1208f4=document[_0x3cd09a(0x238)](_0x3cd09a(0x26a));_0x1208f4[_0x3cd09a(0x24a)][_0x3cd09a(0x227)]=_0x3c1e81[_0x3cd09a(0x1d9)]+'px',_0x1208f4[_0x3cd09a(0x24a)][_0x3cd09a(0x1af)]='\x22'+_0x4e320f+'\x22';}updateDateArea();const _0x94dc7d=_0x3cd09a(0x233),_0x7c7f73=_0x3cd09a(0x1e5);if(_0x3c1e81[_0x3cd09a(0x251)][_0x3cd09a(0x220)])try{const _0x27b248=_0x3c1e81[_0x3cd09a(0x251)]['text'][_0x3cd09a(0x26d)]()['split']('\x0a');if(_0x27b248[_0x3cd09a(0x22b)]!=_0x3c1e81[_0x3cd09a(0x1aa)][_0x3cd09a(0x22b)]){const _0x590dcc=new Error(_0x3cd09a(0x1f1));_0x590dcc['userMessage']=_0x590dcc[_0x3cd09a(0x208)];throw _0x590dcc;}const _0x347d2a=['01','02','03','04','05','06','07','08','09','10','11','12'];for(let _0xf0814b=0x0;_0xf0814b<_0x347d2a[_0x3cd09a(0x22b)];_0xf0814b+=0x1){const _0x34d378=_0x347d2a[_0xf0814b],_0x348bb1=_0x27b248[_0xf0814b][_0x3cd09a(0x1b8)](',')[_0x3cd09a(0x217)](_0x4a01a8=>_0x4a01a8['trim']());if(_0x348bb1[_0x3cd09a(0x22b)]!=0x3){const _0x2c0129=new Error(_0x3cd09a(0x1da));_0x2c0129[_0x3cd09a(0x21a)]=_0x2c0129[_0x3cd09a(0x208)];throw _0x2c0129;}const [_0x5aceaf,_0x35dbf1,_0x2c9847]=_0x348bb1,_0x2c79a6=document[_0x3cd09a(0x238)](_0x3cd09a(0x1f0)+_0x34d378),_0x5b779d=document[_0x3cd09a(0x238)](_0x3cd09a(0x264)+_0x34d378),_0x282795={'text':_0x5aceaf},_0x5d543c={'text':_0x2c9847},_0x5a4d1b=_0x3c1e81[_0x3cd09a(0x1f6)][_0x3cd09a(0x1ed)](_0x146b7c=>_0x146b7c[_0x3cd09a(0x21f)]===_0x35dbf1);_0x5a4d1b&&(_0x5d543c['icon']=_0x5a4d1b[_0x3cd09a(0x1f9)]);for(let [_0x51cf22,_0x1d777f]of[[_0x3cd09a(0x1f0)+_0x34d378,_0x282795],[_0x3cd09a(0x264)+_0x34d378,_0x5d543c]]){const _0x4ffee0=document[_0x3cd09a(0x238)](_0x51cf22);_0x4ffee0[_0x3cd09a(0x241)][_0x3cd09a(0x268)](_0x94dc7d),_0x4ffee0['classList'][_0x3cd09a(0x240)](_0x7c7f73);const _0x1fb49b=window['getComputedStyle'](_0x4ffee0),_0x2ea24b=_0x1fb49b[_0x3cd09a(0x1af)],_0x3fc7bb=toNumberWithoutPx(_0x1fb49b[_0x3cd09a(0x227)]),_0x33d543=toNumberWithoutPx(_0x1fb49b[_0x3cd09a(0x219)]),_0x5b4552=await generateIconTextImage([_0x1d777f],_0x2ea24b,_0x3fc7bb,_0x33d543);removeAllChildren(_0x4ffee0),_0x4ffee0['appendChild'](_0x5b4552);}}}catch(_0x2ad246){document[_0x3cd09a(0x238)]('#work')[_0x3cd09a(0x1b7)]=_0x3cd09a(0x1dd)+_0x2ad246[_0x3cd09a(0x21a)],console['error'](_0x2ad246);}else{const _0x3ffdc0=Array[_0x3cd09a(0x1ca)](_0x3c1e81[_0x3cd09a(0x1aa)]),_0x18368d=Array['from'](_0x3c1e81['members774inc']);let _0x101532=![];const _0x1b78de=(_0x361b4e,_0x3e0b93)=>{const _0x34d6fc=_0x3cd09a;document[_0x34d6fc(0x22a)](_0x361b4e)[_0x34d6fc(0x274)](_0x55b645=>{const _0x5c6ff6=_0x34d6fc;_0x55b645[_0x5c6ff6(0x1bb)](_0x5c6ff6(0x1c8),async()=>{const _0x661b0b=_0x5c6ff6;if(_0x55b645[_0x661b0b(0x241)][_0x661b0b(0x222)](_0x94dc7d)&&!_0x101532){_0x55b645['classList']['remove'](_0x94dc7d),_0x55b645[_0x661b0b(0x241)][_0x661b0b(0x240)](_0x7c7f73);const _0x211bd2=window[_0x661b0b(0x213)](_0x55b645),_0x2222a=_0x211bd2['fontFamily'],_0x198aae=toNumberWithoutPx(_0x211bd2[_0x661b0b(0x227)]),_0x1d02ea=toNumberWithoutPx(_0x211bd2[_0x661b0b(0x219)]);if(_0x3e0b93['length']===0x1){const _0xa6c819=_0x3e0b93[_0x661b0b(0x254)](0x0,0x1),_0x542942=await generateIconTextImage(_0xa6c819,_0x2222a,_0x198aae,_0x1d02ea);removeAllChildren(_0x55b645),_0x55b645[_0x661b0b(0x1e8)](_0x542942);}else{const _0x59dc27=async(_0x4cb180,_0x6a9377)=>{const _0xdd6cc9=_0x661b0b;_0x101532=![];const _0xac4c61=_0x3e0b93[_0xdd6cc9(0x254)](_0x4cb180,0x1),_0x243c91=await generateIconTextImage(_0xac4c61,_0x2222a,_0x198aae,_0x1d02ea);removeAllChildren(_0x55b645),_0x55b645['appendChild'](_0x243c91);},_0x59fcd9=_0x3c1e81[_0x661b0b(0x252)]?generateIconTextManualPicker(_0x3e0b93,_0x198aae,_0x59dc27):await generateIconTextRoulette(_0x3e0b93,_0x2222a,_0x198aae,_0x1d02ea,_0x59dc27,{'step':0x3,'intervalMS':0x19,'randomStart':!![]});removeAllChildren(_0x55b645),_0x55b645[_0x661b0b(0x1e8)](_0x59fcd9),_0x101532=!![],_0x59fcd9['startRoulette']();}}else{}});});};_0x1b78de(_0x3cd09a(0x256),_0x3ffdc0),_0x1b78de(_0x3cd09a(0x1be),_0x18368d);}document[_0x3cd09a(0x238)]('#controller')[_0x3cd09a(0x24a)][_0x3cd09a(0x23f)]=_0x3cd09a(0x1e0),document['querySelector'](_0x3cd09a(0x214))[_0x3cd09a(0x24a)]['display']='block';}(async()=>{const _0x39cc27=_0x4b11fd,_0x10b831=[{'origID':'01','text':_0x39cc27(0x265)},{'origID':'02','text':_0x39cc27(0x1ea)},{'origID':'03','text':_0x39cc27(0x255)},{'origID':'04','text':_0x39cc27(0x26b)},{'origID':'05','text':_0x39cc27(0x218)},{'origID':'06','text':_0x39cc27(0x258)},{'origID':'07','text':_0x39cc27(0x1ae)},{'origID':'08','text':'さそり座\x20\x20'},{'origID':'09','text':_0x39cc27(0x278)},{'origID':'10','text':_0x39cc27(0x1d3)},{'origID':'11','text':_0x39cc27(0x1dc)},{'origID':'12','text':'うお座\x20\x20\x20\x20'}],_0x2ed1eb=[{'origID':_0x39cc27(0x25d),'text':'因幡はねる','icon':await loadSyncImage('img/icon-a01.png')},{'origID':'102','text':_0x39cc27(0x272),'icon':await loadSyncImage('img/icon-a02.png')},{'origID':_0x39cc27(0x1e1),'text':_0x39cc27(0x1d2),'icon':await loadSyncImage('img/icon-a03.png')},{'origID':_0x39cc27(0x271),'text':_0x39cc27(0x1f3),'icon':await loadSyncImage(_0x39cc27(0x1b0))},{'origID':_0x39cc27(0x1c0),'text':_0x39cc27(0x21b),'icon':await loadSyncImage(_0x39cc27(0x21d))},{'origID':_0x39cc27(0x212),'text':_0x39cc27(0x1e9),'icon':await loadSyncImage(_0x39cc27(0x1b5))},{'origID':_0x39cc27(0x1df),'text':_0x39cc27(0x24f),'icon':await loadSyncImage('img/icon-a09.png')},{'origID':_0x39cc27(0x1a4),'text':'瀬島るい','icon':await loadSyncImage(_0x39cc27(0x259))},{'origID':_0x39cc27(0x260),'text':_0x39cc27(0x261),'icon':await loadSyncImage(_0x39cc27(0x202))},{'origID':'199','text':_0x39cc27(0x24b),'icon':await loadSyncImage('img/icon-a00.png')},{'origID':_0x39cc27(0x1b9),'text':_0x39cc27(0x1d8),'icon':await loadSyncImage('img/icon-h01.png')},{'origID':_0x39cc27(0x1e3),'text':_0x39cc27(0x276),'icon':await loadSyncImage(_0x39cc27(0x206))},{'origID':_0x39cc27(0x26c),'text':_0x39cc27(0x1ee),'icon':await loadSyncImage(_0x39cc27(0x1e2))},{'origID':_0x39cc27(0x221),'text':_0x39cc27(0x216),'icon':await loadSyncImage(_0x39cc27(0x1d1))},{'origID':_0x39cc27(0x20a),'text':'灰猫ななし','icon':await loadSyncImage(_0x39cc27(0x234))},{'origID':_0x39cc27(0x1a5),'text':_0x39cc27(0x20f),'icon':await loadSyncImage(_0x39cc27(0x253))},{'origID':_0x39cc27(0x1c7),'text':_0x39cc27(0x1fc),'icon':await loadSyncImage(_0x39cc27(0x249))},{'origID':'303','text':_0x39cc27(0x1b1),'icon':await loadSyncImage(_0x39cc27(0x207))},{'origID':'399','text':_0x39cc27(0x1fe),'icon':await loadSyncImage(_0x39cc27(0x1fb))},{'origID':_0x39cc27(0x1cd),'text':_0x39cc27(0x1ef),'icon':await loadSyncImage(_0x39cc27(0x27b))},{'origID':_0x39cc27(0x1f5),'text':_0x39cc27(0x1f8),'icon':await loadSyncImage(_0x39cc27(0x25a))},{'origID':_0x39cc27(0x27c),'text':_0x39cc27(0x25e),'icon':await loadSyncImage(_0x39cc27(0x1b4))},{'origID':_0x39cc27(0x1b6),'text':_0x39cc27(0x1f7),'icon':await loadSyncImage(_0x39cc27(0x1f2))},{'origID':_0x39cc27(0x279),'text':_0x39cc27(0x246),'icon':await loadSyncImage('img/icon-v06.png')},{'origID':'499','text':_0x39cc27(0x1b2),'icon':await loadSyncImage(_0x39cc27(0x204))}],_0xa741b7=0x30,_0x5db8d1=_0x39cc27(0x1e7),_0x4539f0='manual',_0x34aa91=_0x39cc27(0x251),_0x542d8d=document[_0x39cc27(0x238)](_0x39cc27(0x1c1)),_0x3c2077=document[_0x39cc27(0x238)](_0x39cc27(0x1c9)),_0x3ee72a=document['querySelector'](_0x39cc27(0x24c)),_0x51781f=document[_0x39cc27(0x238)](_0x39cc27(0x210)),_0x56ae31=document[_0x39cc27(0x238)](_0x39cc27(0x1ab)),_0x2e7287=document[_0x39cc27(0x238)](_0x39cc27(0x21e)),_0x304271=document['querySelector'](_0x39cc27(0x1d7));let _0x36cd29=![];{const _0x46faf3=new URL(window[_0x39cc27(0x1bc)])[_0x39cc27(0x239)],_0x1158ea=window[_0x39cc27(0x1d4)]?JSON[_0x39cc27(0x205)](window[_0x39cc27(0x1d4)][_0x39cc27(0x273)](StorageKey)):null;_0x542d8d[_0x39cc27(0x1e8)](newElem(_0x39cc27(0x257),['ルーレット'],[],{'value':_0x5db8d1})),_0x542d8d[_0x39cc27(0x1e8)](newElem('option',['手動'],[],{'value':_0x4539f0})),_0x542d8d[_0x39cc27(0x1e8)](newElem(_0x39cc27(0x257),[_0x39cc27(0x1cf)],[],{'value':_0x34aa91})),_0x542d8d[_0x39cc27(0x232)]=_0x46faf3[_0x39cc27(0x1db)](_0x39cc27(0x1ec))==_0x39cc27(0x244)?_0x4539f0:_0x1158ea?_0x1158ea[_0x39cc27(0x1ad)]:_0x5db8d1;const _0x577b5b=Number(_0x46faf3['get'](_0x39cc27(0x1d9)));_0x3c2077[_0x39cc27(0x232)]=_0x577b5b>0x0?_0x577b5b:_0x1158ea?_0x1158ea[_0x39cc27(0x1d9)]:_0xa741b7,_0x3ee72a[_0x39cc27(0x232)]=_0x1158ea?_0x1158ea[_0x39cc27(0x223)]:'',_0x36cd29=_0x46faf3['get'](_0x39cc27(0x266))=='true';{const _0xaf45b4=_0x2e0663=>{const _0x108854=_0x39cc27;_0x542d8d[_0x108854(0x232)]===_0x34aa91?(_0x2e7287[_0x108854(0x24a)][_0x108854(0x23f)]=_0x108854(0x1c5),_0x51781f[_0x108854(0x24a)][_0x108854(0x23f)]=_0x108854(0x1c5)):(_0x2e7287[_0x108854(0x24a)][_0x108854(0x23f)]=_0x108854(0x1e0),_0x51781f[_0x108854(0x24a)][_0x108854(0x23f)]='none');};_0x56ae31[_0x39cc27(0x232)]=_0x2ed1eb[_0x39cc27(0x217)](_0x1fad02=>[_0x1fad02[_0x39cc27(0x21f)],_0x1fad02[_0x39cc27(0x275)]][_0x39cc27(0x26e)](',\x20'))[_0x39cc27(0x26e)]('\x0a')[_0x39cc27(0x26d)](),_0x56ae31['setAttribute']('rows',_0x2ed1eb[_0x39cc27(0x22b)]+0x1),_0x56ae31[_0x39cc27(0x1cb)]('readonly',_0x39cc27(0x20c));const _0x101c73=()=>{const _0x1b5934=_0x39cc27;return _0x2ed1eb['slice'](0x0,0xb)['concat']({'origID':_0x1b5934(0x235),'text':_0x1b5934(0x1f4)})[_0x1b5934(0x217)]((_0x582c83,_0x5adaa0)=>[_0x10b831[_0x5adaa0]['text'],_0x582c83[_0x1b5934(0x21f)],_0x582c83[_0x1b5934(0x275)]][_0x1b5934(0x26e)](',\x20'))['join']('\x0a')['trim']();};_0x304271[_0x39cc27(0x232)]=_0x1158ea&&_0x1158ea[_0x39cc27(0x20e)]?_0x1158ea[_0x39cc27(0x20e)]:_0x101c73(),_0x304271[_0x39cc27(0x1cb)]('rows',0xc),_0x304271['parentElement']['querySelector'](_0x39cc27(0x245))['addEventListener'](_0x39cc27(0x1c8),()=>{_0x304271['value']=_0x101c73();}),_0x542d8d[_0x39cc27(0x1bb)](_0x39cc27(0x23b),_0xaf45b4),_0xaf45b4();}}const _0x4369dd=async()=>{const _0x47725e=_0x39cc27,_0x4d72a0=Number(_0x3c2077['value']),_0x28a65=Number['isFinite'](_0x4d72a0)&&_0x4d72a0>0x0?_0x4d72a0:_0xa741b7;if(window[_0x47725e(0x1d4)]){const _0x52dfea={'selectMode':_0x542d8d[_0x47725e(0x232)],'mainFontSize':_0x3c2077[_0x47725e(0x232)],'mainFontFamily':_0x3ee72a[_0x47725e(0x232)],'preInputText':_0x304271[_0x47725e(0x232)]};window[_0x47725e(0x1d4)][_0x47725e(0x24e)](StorageKey,JSON[_0x47725e(0x26f)](_0x52dfea));}initialize({'constellations':_0x10b831,'members774inc':_0x2ed1eb,'manualMode':_0x542d8d[_0x47725e(0x232)]===_0x4539f0,'preInput':{'use':_0x542d8d[_0x47725e(0x232)]===_0x34aa91,'text':_0x304271[_0x47725e(0x232)]},'mainFontSize':_0x28a65,'mainFontFamily':_0x3ee72a[_0x47725e(0x232)]});};document[_0x39cc27(0x238)](_0x39cc27(0x270))[_0x39cc27(0x1bb)]('click',_0x4369dd),_0x36cd29&&_0x4369dd();})();
  </script>
</body>
</html>
