<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>疑似ASMR</title>
  <style>
    body {
      font-size: 1rem;
      margin: 1rem;
      padding: 0;
    }
    h1 {
      font-size: 2.5rem;
    }
    
    #controllerArea * {
      font-size: 1.25rem;
    }
    #controllerArea input[type='number'] {
      width: 6em;
      text-align: right;
    }
    #controllerArea table {
      border-collapse: collapse;
    }
    #controllerArea th {
      text-align: right;
    }
    #controllerArea th,
    #controllerArea td {
      padding: 0.25em 0.75em;
      border: 1px solid #808080;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <h1>疑似ASMR</h1>
  
  <div>ver: <span id="version"></span></div>
  
  <div id='controllerArea'>
    <table>
      <tr> <th><label for='occurIntervalMSInput'  >発生判定の間隔：</label></th> <td><input type='number' id='occurIntervalMSInput'   /> [ms]</td> <td><label id='occurIntervalMSRange'   for='occurIntervalMSInput'  ></label></td> </tr>
      <tr> <th><label for='occurRatePermilleInput'      >発生確率：</label></th> <td><input type='number' id='occurRatePermilleInput' /> [‰]</td> <td><label id='occurRatePermilleRange' for='occurRatePermilleInput'></label></td> </tr>
      <tr> <th><label for='minVolumeInput'              >最低音量：</label></th> <td><input type='number' id='minVolumeInput'              /></td> <td><label id='minVolumeRange'         for='minVolumeInput'        ></label></td> </tr>
      <tr> <th><label for='maxDuplicationInput'     >最大重複音数：</label></th> <td><input type='number' id='maxDuplicationInput'         /></td> <td><label id='maxDuplicationRange'    for='maxDuplicationInput'   ></label></td> </tr>
      <tr> <th><label for='panModeSelect'             >パンニング：</label></th> <td><select id='panModeSelect'></td> <td></td> </tr>
    </table>
    <button id='start'>開始</button>
  </div>
  
  <footer></footer>
  
  <script type='text/javascript'>
    const AppVersion = "0.1.0 α";
    
    // ここから
const _0xfa1b8a=_0x5067;(function(_0x43d197,_0xf94bc5){const _0xabd1d0=_0x5067,_0xde96f=_0x43d197();while(!![]){try{const _0x5b3415=-parseInt(_0xabd1d0(0x18f))/0x1*(parseInt(_0xabd1d0(0x17a))/0x2)+parseInt(_0xabd1d0(0x15f))/0x3+parseInt(_0xabd1d0(0x165))/0x4+parseInt(_0xabd1d0(0x16d))/0x5+parseInt(_0xabd1d0(0x1ab))/0x6+-parseInt(_0xabd1d0(0x1b1))/0x7*(-parseInt(_0xabd1d0(0x175))/0x8)+parseInt(_0xabd1d0(0x15b))/0x9*(-parseInt(_0xabd1d0(0x19e))/0xa);if(_0x5b3415===_0xf94bc5)break;else _0xde96f['push'](_0xde96f['shift']());}catch(_0x34ec80){_0xde96f['push'](_0xde96f['shift']());}}}(_0x5c98,0x87a47),document[_0xfa1b8a(0x185)](_0xfa1b8a(0x17c))[_0xfa1b8a(0x188)]=AppVersion);const getRandomRanged=(_0x171238,_0x5c12a3)=>{const _0x47dc11=_0xfa1b8a;return Math[_0x47dc11(0x17b)](_0x171238+Math[_0x47dc11(0x163)]()*(_0x5c12a3-_0x171238));};function loadSyncAudio(_0x4db396){return new Promise((_0x4b9454,_0x1c09ed)=>{const _0x597103=_0x5067,_0x408a1d=new Audio();_0x408a1d[_0x597103(0x19d)]=()=>_0x4b9454(_0x408a1d),_0x408a1d[_0x597103(0x161)]=_0x521d75=>_0x1c09ed(_0x521d75),_0x408a1d['src']=_0x4db396;});}const parseRangedNumber=(_0x5a3f3c,_0x4100c1,_0x40d074=undefined,_0x25708d=undefined)=>{const _0x191cc0=_0xfa1b8a,_0x5f1ba5=parseFloat(_0x5a3f3c);if(!Number[_0x191cc0(0x160)](_0x5f1ba5))return _0x4100c1;if(_0x5f1ba5<_0x40d074)return _0x40d074;if(_0x5f1ba5>_0x25708d)return _0x25708d;return _0x5f1ba5;},parseRangedInteger=(_0x50841a,_0x53826d,_0x978b4f=undefined,_0x57eebd=undefined)=>{const _0xe1c4d2=_0xfa1b8a,_0x2cd93d=parseInt(_0x50841a);if(!Number[_0xe1c4d2(0x190)](_0x2cd93d))return _0x53826d;if(_0x2cd93d<_0x978b4f)return _0x978b4f;if(_0x2cd93d>_0x57eebd)return _0x57eebd;return _0x2cd93d;};function _0x5067(_0x150abf,_0xb4941b){const _0x5c981e=_0x5c98();return _0x5067=function(_0x506758,_0x3d92b3){_0x506758=_0x506758-0x157;let _0x25c322=_0x5c981e[_0x506758];return _0x25c322;},_0x5067(_0x150abf,_0xb4941b);}function newElem(_0x45d327,_0x19e82c=[],_0x361ff8=[],_0xbd352c={}){const _0x553a33=_0xfa1b8a,_0x1dc73b=document[_0x553a33(0x158)](_0x45d327);return _0x361ff8[_0x553a33(0x1b3)]>0x0&&_0x1dc73b[_0x553a33(0x1b4)]['add'](..._0x361ff8),Object[_0x553a33(0x189)](_0xbd352c)[_0x553a33(0x1a0)](_0x6ab90a=>{_0x1dc73b['setAttribute'](_0x6ab90a,_0xbd352c[_0x6ab90a]);}),_0x19e82c[_0x553a33(0x1a0)](_0x15fa9b=>{const _0x209a5c=_0x553a33;typeof _0x15fa9b===_0x209a5c(0x194)?_0x1dc73b[_0x209a5c(0x199)](document[_0x209a5c(0x16c)](_0x15fa9b)):_0x1dc73b[_0x209a5c(0x199)](_0x15fa9b);}),_0x1dc73b;}const playSound=_0x2c7e1c=>{const _0x3242dd=_0xfa1b8a;_0x2c7e1c[_0x3242dd(0x1b0)]=0x0,_0x2c7e1c['play']();},PanModes={'Stereo':_0xfa1b8a(0x169)},startWorld=async _0x2b2cbb=>{const _0x413858=_0xfa1b8a,_0xf9b64=_0x2b2cbb[_0x413858(0x1a9)],_0x5b5a48=Array['from']({'length':_0x2b2cbb[_0x413858(0x1b7)]},()=>null)['reduce']((_0x2a68e0,_0x13f5b4)=>_0x2a68e0[_0x413858(0x15d)](_0x2b2cbb['soundPaths']),[]),_0x4fe62b=(await Promise[_0x413858(0x16a)](_0x5b5a48[_0x413858(0x15a)](loadSyncAudio)))[_0x413858(0x15a)](_0x5299cd=>{const _0x22df0d=_0x413858,_0x4f6cd1=new AudioContext();if(_0xf9b64===PanModes[_0x22df0d(0x169)]){const _0x356795=_0x4f6cd1[_0x22df0d(0x1b8)]();_0x356795['connect'](_0x4f6cd1['destination']);const _0x180d2f=_0x4f6cd1[_0x22df0d(0x1af)](_0x5299cd);return _0x180d2f[_0x22df0d(0x170)](_0x356795),{'audio':_0x5299cd,'panNode':_0x356795};}else{if(_0xf9b64==PanModes[_0x22df0d(0x1ac)]){const _0x3372f0=_0x4f6cd1[_0x22df0d(0x177)]();_0x3372f0[_0x22df0d(0x168)]=_0x22df0d(0x1b5),_0x3372f0['distanceModel']=_0x22df0d(0x184),_0x3372f0[_0x22df0d(0x1a5)]=0x1,_0x3372f0[_0x22df0d(0x18c)]=0x64,_0x3372f0[_0x22df0d(0x192)]=0.72,_0x3372f0[_0x22df0d(0x191)]=0x168,_0x3372f0[_0x22df0d(0x180)]=0x0,_0x3372f0[_0x22df0d(0x19f)]=0x0,_0x3372f0[_0x22df0d(0x19b)](0x1,0x0,0x0);const _0x134529=_0x4f6cd1['listener'];_0x134529[_0x22df0d(0x19b)](0x0,0x0,-0x1,0x0,0x0,0x0),_0x134529[_0x22df0d(0x1a8)](0x0,0x0,0x0),_0x3372f0[_0x22df0d(0x170)](_0x4f6cd1[_0x22df0d(0x1a6)]);const _0x5f5799=_0x4f6cd1[_0x22df0d(0x1af)](_0x5299cd);return _0x5f5799[_0x22df0d(0x170)](_0x3372f0),{'audio':_0x5299cd,'panNode':_0x3372f0};}else throw _0x22df0d(0x186)+_0xf9b64+'\x27.';}}),_0x21e1dc=_0x2b2cbb[_0x413858(0x164)],_0x45a3be=Math['max'](0x0,Math[_0x413858(0x197)](0x1,_0x2b2cbb[_0x413858(0x171)])),_0x517ea9=(0x1-_0x45a3be)*0x64,_0x1ddf5a=()=>{const _0x509479=_0x413858;if(getRandomRanged(0x0,0x3e8)>=_0x21e1dc)return;const _0x1d27dc=_0x4fe62b[getRandomRanged(0x0,_0x4fe62b[_0x509479(0x1b3)])];if(_0x1d27dc[_0x509479(0x174)]['paused']){if(_0xf9b64===PanModes['Stereo']){const _0x20ce31=_0x45a3be+getRandomRanged(0x0,_0x517ea9)/0x64;_0x1d27dc[_0x509479(0x174)][_0x509479(0x16b)]=_0x20ce31/0x2,_0x1d27dc[_0x509479(0x1a7)][_0x509479(0x159)]['value']=getRandomRanged(-0x64,0x64)/0x64;}else{if(_0xf9b64==PanModes[_0x509479(0x1ac)]){const _0x18ed0d=_0x45a3be+getRandomRanged(0x0,_0x517ea9)/0x64;_0x1d27dc[_0x509479(0x174)][_0x509479(0x16b)]=Math[_0x509479(0x197)](0x1,0.5+_0x18ed0d/0x2),_0x1d27dc[_0x509479(0x174)][_0x509479(0x16b)]=0x1,_0x1d27dc[_0x509479(0x1a7)][_0x509479(0x1a8)](getRandomRanged(-0xa,0xa),getRandomRanged(-0xa,0xa),getRandomRanged(-0xa,0xa));}}playSound(_0x1d27dc[_0x509479(0x174)]);}},_0x40687b=setInterval(()=>{_0x1ddf5a();},_0x2b2cbb[_0x413858(0x16f)]);return{'stop':()=>{clearInterval(_0x40687b),_0x4fe62b['forEach'](_0x218564=>{const _0x3a7f3d=_0x5067;!_0x218564['audio'][_0x3a7f3d(0x18a)]&&_0x218564['audio'][_0x3a7f3d(0x19a)]();});}};};(async _0x4b75bc=>{const _0x86f461=_0xfa1b8a,_0x2a16f2=document[_0x86f461(0x185)](_0x86f461(0x1a3)),_0x614117=document['querySelector'](_0x86f461(0x1aa)),_0x30f629=document[_0x86f461(0x185)](_0x86f461(0x1b9)),_0x5eb800=document[_0x86f461(0x185)](_0x86f461(0x1a1)),_0x2c1b81=document[_0x86f461(0x185)](_0x86f461(0x18e)),_0x110b54=document[_0x86f461(0x185)]('#start');{if(_0x4b75bc['pageOptions'][_0x86f461(0x18d)]){const _0x247941=_0x4b75bc[_0x86f461(0x176)][_0x86f461(0x18d)];document[_0x86f461(0x18d)]=_0x247941,(document[_0x86f461(0x185)]('h1')??{})[_0x86f461(0x188)]=_0x247941;}_0x4b75bc[_0x86f461(0x176)][_0x86f461(0x19c)]&&document[_0x86f461(0x185)](_0x86f461(0x1ad))[_0x86f461(0x198)](_0x86f461(0x178),_0x4b75bc[_0x86f461(0x176)][_0x86f461(0x19c)]);}{const _0x53c3d2={'minOccurIntervalMS':0xa,'minOccurRatePermille':0x1,'maxOccurRatePermille':0x3e8,'minMinVolume':0.01,'maxMinVolume':0x1,'minMaxDuplicationInput':0x1};_0x2a16f2['value']=_0x4b75bc[_0x86f461(0x179)][_0x86f461(0x16f)],_0x614117['value']=_0x4b75bc[_0x86f461(0x179)][_0x86f461(0x164)],_0x30f629[_0x86f461(0x1ae)]=_0x4b75bc[_0x86f461(0x179)][_0x86f461(0x171)],_0x5eb800[_0x86f461(0x1ae)]=_0x4b75bc[_0x86f461(0x179)][_0x86f461(0x1b7)],_0x2a16f2[_0x86f461(0x197)]=_0x53c3d2['minOccurIntervalMS'],_0x614117[_0x86f461(0x197)]=_0x53c3d2[_0x86f461(0x193)],_0x614117['max']=_0x53c3d2[_0x86f461(0x1b6)],_0x30f629[_0x86f461(0x197)]=_0x53c3d2[_0x86f461(0x16e)],_0x30f629[_0x86f461(0x181)]=_0x53c3d2[_0x86f461(0x172)],_0x5eb800['min']=_0x53c3d2[_0x86f461(0x183)],_0x2a16f2[_0x86f461(0x157)]=document[_0x86f461(0x185)](_0x86f461(0x187))[_0x86f461(0x188)]='('+_0x53c3d2[_0x86f461(0x15c)]+'～)',_0x614117[_0x86f461(0x157)]=document['querySelector'](_0x86f461(0x17f))[_0x86f461(0x188)]='('+_0x53c3d2[_0x86f461(0x193)]+'～'+_0x53c3d2[_0x86f461(0x1b6)]+')',_0x30f629['placeholder']=document[_0x86f461(0x185)](_0x86f461(0x15e))[_0x86f461(0x188)]='('+_0x53c3d2[_0x86f461(0x16e)]+'～'+_0x53c3d2['maxMinVolume']+')',_0x5eb800[_0x86f461(0x157)]=document[_0x86f461(0x185)]('#maxDuplicationRange')[_0x86f461(0x188)]='('+_0x53c3d2['minMaxDuplicationInput']+'～)',_0x2a16f2['step']=0x1,_0x614117[_0x86f461(0x1a2)]=0x1,_0x30f629[_0x86f461(0x1a2)]=0.01,_0x5eb800[_0x86f461(0x1a2)]=0x1,_0x2a16f2[_0x86f461(0x173)]=()=>{const _0x133643=_0x86f461;return parseRangedNumber(_0x2a16f2[_0x133643(0x1ae)],_0x4b75bc['defaultValues'][_0x133643(0x16f)],_0x53c3d2['minOccurIntervalMS']);},_0x614117[_0x86f461(0x173)]=()=>{const _0x44d5d5=_0x86f461;return parseRangedInteger(_0x614117[_0x44d5d5(0x1ae)],_0x4b75bc[_0x44d5d5(0x179)][_0x44d5d5(0x164)],_0x53c3d2[_0x44d5d5(0x193)],_0x53c3d2[_0x44d5d5(0x1b6)]);},_0x30f629[_0x86f461(0x173)]=()=>{const _0x16d912=_0x86f461;return parseRangedNumber(_0x30f629[_0x16d912(0x1ae)],_0x4b75bc[_0x16d912(0x179)]['minVolume'],_0x53c3d2['minMinVolume'],_0x53c3d2['maxMinVolume']);},_0x5eb800[_0x86f461(0x173)]=()=>{const _0x221d79=_0x86f461;return parseRangedInteger(_0x5eb800[_0x221d79(0x1ae)],_0x4b75bc[_0x221d79(0x179)][_0x221d79(0x1b7)],_0x53c3d2[_0x221d79(0x183)]);},_0x2a16f2[_0x86f461(0x166)](_0x86f461(0x17d),()=>{const _0x51cc5e=_0x86f461;_0x2a16f2[_0x51cc5e(0x1ae)]=_0x2a16f2['getAvailableValue']();}),_0x614117[_0x86f461(0x166)]('blur',()=>{const _0x5e3437=_0x86f461;_0x614117[_0x5e3437(0x1ae)]=_0x614117[_0x5e3437(0x173)]();}),_0x30f629[_0x86f461(0x166)](_0x86f461(0x17d),()=>{const _0x31efe5=_0x86f461;_0x30f629[_0x31efe5(0x1ae)]=_0x30f629['getAvailableValue']();}),_0x5eb800[_0x86f461(0x166)](_0x86f461(0x17d),()=>{const _0x735018=_0x86f461;_0x5eb800[_0x735018(0x1ae)]=_0x5eb800['getAvailableValue']();}),_0x2c1b81[_0x86f461(0x199)](Array[_0x86f461(0x182)](Object[_0x86f461(0x196)](PanModes))[_0x86f461(0x17e)]((_0x2ff92a,_0x19eac3)=>{const _0x101229=_0x86f461;return _0x2ff92a[_0x101229(0x199)](newElem('option',[_0x19eac3],[],{'value':_0x19eac3})),_0x2ff92a;},document[_0x86f461(0x1b2)]())),_0x2c1b81[_0x86f461(0x1ae)]=_0x4b75bc['defaultValues'][_0x86f461(0x1a9)],_0x2c1b81[_0x86f461(0x195)]===-0x1&&(_0x2c1b81[_0x86f461(0x195)]=0x0);}const _0x42bf4a=[_0x2a16f2,_0x614117,_0x30f629,_0x5eb800,_0x2c1b81];let _0x1f69ce;_0x110b54['addEventListener'](_0x86f461(0x1a4),async()=>{const _0x2fb4d3=_0x86f461;_0x1f69ce?(_0x1f69ce['stop'](),_0x1f69ce=null,_0x110b54[_0x2fb4d3(0x188)]='開始',_0x42bf4a['forEach'](_0x4f8179=>_0x4f8179[_0x2fb4d3(0x162)](_0x2fb4d3(0x167)))):(_0x42bf4a[_0x2fb4d3(0x1a0)](_0x142498=>_0x142498['setAttribute'](_0x2fb4d3(0x167),_0x2fb4d3(0x167))),_0x1f69ce=await startWorld({'soundPaths':_0x4b75bc[_0x2fb4d3(0x18b)],'occurIntervalMS':_0x2a16f2[_0x2fb4d3(0x173)](),'occurRatePermille':_0x614117['getAvailableValue'](),'minVolume':_0x30f629[_0x2fb4d3(0x173)](),'maxDuplication':_0x5eb800[_0x2fb4d3(0x173)](),'panMode':_0x2c1b81[_0x2fb4d3(0x1ae)]||PanModes[0x0]}),_0x110b54[_0x2fb4d3(0x188)]='停止');}),_0x110b54['focus']();})(getInitValues());function _0x5c98(){const _0x2fd975=['createStereoPanner','#minVolumeInput','placeholder','createElement','pan','map','18VXRpSX','minOccurIntervalMS','concat','#minVolumeRange','3158958ZPLlbL','isFinite','onerror','removeAttribute','random','occurRatePermille','1525748KqGCCY','addEventListener','disabled','panningModel','Stereo','all','volume','createTextNode','4693640yuPoNi','minMinVolume','occurIntervalMS','connect','minVolume','maxMinVolume','getAvailableValue','audio','4521312QVmOlP','pageOptions','createPanner','afterbegin','defaultValues','1442930erxHAe','floor','#version','blur','reduce','#occurRatePermilleRange','coneOuterAngle','max','from','minMaxDuplicationInput','inverse','querySelector','unknown\x20mode:\x20\x27','#occurIntervalMSRange','textContent','getOwnPropertyNames','paused','soundPaths','maxDistance','title','#panModeSelect','1zwZBhh','isInteger','coneInnerAngle','rolloffFactor','minOccurRatePermille','string','selectedIndex','values','min','insertAdjacentHTML','appendChild','pause','setOrientation','referenceHTML','onloadeddata','8752310rNpcWk','coneOuterGain','forEach','#maxDuplicationInput','step','#occurIntervalMSInput','click','refDistance','destination','panNode','setPosition','panMode','#occurRatePermilleInput','535218xUzYOq','Pan3D','footer','value','createMediaElementSource','currentTime','7EabRWU','createDocumentFragment','length','classList','HRTF','maxOccurRatePermille','maxDuplication'];_0x5c98=function(){return _0x2fd975;};return _0x5c98();}
    
    
    function getInitValues() {
      return {
        defaultValues: {
          occurIntervalMS  :  100, // 指定ミリ秒に1回発生判定
          occurRatePermille:  100, // 判定時に指定‰で発生
          minVolume        : 0.15, // 0～1 の音量のうち、最低音量を設定
          maxDuplication   :    4, // 同一音声が最大いくつまで同時に発生するか
          panMode: 'Stereo',
        },
        
        pageOptions: {
          title: '瑚白ユリ嬢 虫の鳴き声読み上げ疑似ASMR',
          referenceHTML: [
            '元ネタ：<a href="https://twitter.com/Yuri_Kohakuu">瑚白ユリ</a>嬢 … <a href="https://www.youtube.com/watch?v=GXM7yuXwxhA&t=1020s">読み上げ音声 (配信内 0:17:00～)</a>',
          ].map(x => `<span class='footerItem'>${x}</span>`).join(''),
        },
        soundPaths: [
          'res/sound1.mp3',
          'res/sound2.mp3',
          'res/sound3.mp3',
          'res/sound4.mp3',
          'res/sound5.mp3',
          'res/sound6.mp3',
        ],
      };
    }
  </script>
</body>
</html>
