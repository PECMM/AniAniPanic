<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="キキ様の配信スクショから好きなテキスト発見アプリ">
  <meta property="og:url"   content="https://pecmm.github.io/kikiword/search.html" />
  <meta property="og:image" content="https://pecmm.github.io/kikiword/thumb/thumb.png?f7b2b047">
  <title>キキ様の配信スクショから好きなテキスト発見アプリ</title>
  <style>
    #main {
      position: relative;
    }
    #main canvas {
      position: absolute;
    }
    
    #controller {
      margin-top: 1em;
    }
    #controller label {
      user-select: none;
    }
    #targetText {
      width: 20em;
    }
    
    footer {
      margin-top: 3em;
      margin-left: 8px;
      padding-top: 0.5em;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <div id='main'>
    <canvas id='baseCanvas'></canvas>
    <canvas id='drawCanvas'></canvas>
  </div>
  <div id='controller'>
    <div>version: <span id="version"></span></div>
    <span>利用可能な文字：</span><br />
    <textarea id='useableWordsDisp' readonly cols='80' rows='6'></textarea>
    <br /><br />
    <label><input type='checkbox' id='showKikiSama' checked />キキ様を表示する</label>
    <br /><br />
    <input type='text' id='targetText' />
    <br />
    <button id='startButton'>表示</button> <label><input type='checkbox' id='requireLine' checked />文字の間を線で繋ぐ</label>
    <br />
    <span id='errorText'></span>
    <br /><br />
    <button id='saveImage'>画像として保存</button>
  </div>
  
  <footer><a href='https://twitter.com/Kiki_Shisui'>紫水キキ様</a><br />元ネタ動画：<a href='https://www.youtube.com/watch?v=rPs6mdO4dPs'>まぁ雑談しようか【紫水キキ / ひよクロ】</a></footer>
  
  <script>
    const AppVersion = "1.0.0";
    
    // ここから
const _0x247a71=_0x22b3;(function(_0x5efb61,_0x1e94f6){const _0x451fbb=_0x22b3,_0x3aa940=_0x5efb61();while(!![]){try{const _0x58afe8=parseInt(_0x451fbb(0x1ee))/0x1*(-parseInt(_0x451fbb(0x1a9))/0x2)+-parseInt(_0x451fbb(0x1e2))/0x3*(parseInt(_0x451fbb(0x1bb))/0x4)+-parseInt(_0x451fbb(0x1d2))/0x5+-parseInt(_0x451fbb(0x1a1))/0x6+parseInt(_0x451fbb(0x1b2))/0x7+parseInt(_0x451fbb(0x1ea))/0x8+-parseInt(_0x451fbb(0x1ac))/0x9*(-parseInt(_0x451fbb(0x1f1))/0xa);if(_0x58afe8===_0x1e94f6)break;else _0x3aa940['push'](_0x3aa940['shift']());}catch(_0x3bf7bf){_0x3aa940['push'](_0x3aa940['shift']());}}}(_0x48ab,0x1da0c),document[_0x247a71(0x1ed)](_0x247a71(0x1ba))[_0x247a71(0x1a8)]=AppVersion);function newElem(_0x1f63d4,_0x4e1259=[],_0xfd763d=[],_0x3d287f={}){const _0x2475c9=_0x247a71,_0x308750=document[_0x2475c9(0x1ec)](_0x1f63d4);return _0xfd763d[_0x2475c9(0x1b8)]>0x0&&_0x308750[_0x2475c9(0x1f2)][_0x2475c9(0x1f6)](..._0xfd763d),Object[_0x2475c9(0x1f3)](_0x3d287f)[_0x2475c9(0x1bc)](_0x5b3776=>{const _0x44b375=_0x2475c9;_0x308750[_0x44b375(0x1c8)](_0x5b3776,_0x3d287f[_0x5b3776]);}),_0x4e1259['forEach'](_0x32dfa2=>{const _0x575e39=_0x2475c9;typeof _0x32dfa2===_0x575e39(0x199)?_0x308750[_0x575e39(0x1c2)](document['createTextNode'](_0x32dfa2)):_0x308750[_0x575e39(0x1c2)](_0x32dfa2);}),_0x308750;}function loadSyncImage(_0x201c0d){return new Promise((_0xe96cec,_0x26f20b)=>{const _0xb00995=_0x22b3,_0x24da94=new Image();_0x24da94[_0xb00995(0x1f4)]=()=>_0xe96cec(_0x24da94),_0x24da94[_0xb00995(0x19d)]=_0xe3ac66=>_0x26f20b(_0xe3ac66),_0x24da94[_0xb00995(0x1d6)]=_0x201c0d;});}function srcToURL(_0x3f7464){const _0x4c7d81=_0x247a71,_0x4f1d38=atob(_0x3f7464['split'](',')[0x1]),_0x5c4216=/:([a-zA-Z\/]+);/[_0x4c7d81(0x1b0)](_0x3f7464)[0x1],_0x4e9ee6=Uint8Array[_0x4c7d81(0x1aa)](_0x4f1d38['split'](''),_0x2ab0a1=>_0x2ab0a1[_0x4c7d81(0x1c7)]()),_0x5cf03b=new Blob([_0x4e9ee6],{'type':_0x5c4216});return URL[_0x4c7d81(0x1fd)](_0x5cf03b);}function pad0String(_0x17250f,_0xf66067){return _0xf66067['toString']()['padStart'](_0x17250f,'0');}function getDateStringForFile(_0x4ecb1e){const _0x5118b7=_0x247a71;return''+_0x4ecb1e[_0x5118b7(0x1d5)]()+pad0String(0x2,_0x4ecb1e[_0x5118b7(0x1ab)]()+0x1)+pad0String(0x2,_0x4ecb1e['getDate']())+'-'+pad0String(0x2,_0x4ecb1e[_0x5118b7(0x1ef)]())+pad0String(0x2,_0x4ecb1e[_0x5118b7(0x1cd)]())+pad0String(0x2,_0x4ecb1e['getSeconds']());}const LineConfigs=[{'startX':0x14,'startY':0x17,'stepX':38.82,'radius':0x14,'text':_0x247a71(0x1c4)},{'startX':0x2,'startY':59.7,'stepX':38.82,'radius':0x14,'text':_0x247a71(0x1f5)},{'startX':0x1,'startY':96.4,'stepX':38.82,'radius':0x14,'text':'絵画支配者の奇跡パープルライブ紫水のメキキキキのテディベアーズキキ'},{'startX':0x10,'startY':133.1,'stepX':38.82,'radius':0x14,'text':'水劇場開演中紫水僕画自分の意志ではなう紫水キキ様に操られたツイート'},{'startX':-0x4,'startY':169.8,'stepX':38.82,'radius':0x14,'text':'紫水描きジェノサイド選抜パペットピクチャーパペット集会おしゃべりパ'},{'startX':0x5,'startY':206.5,'stepX':38.82,'radius':0x14,'text':_0x247a71(0x1ae)},{'startX':0xe,'startY':243.2,'stepX':38.82,'radius':0x14,'text':_0x247a71(0x1d1)},{'startX':-0x2,'startY':279.9,'stepX':38.82,'radius':0x14,'text':'キキズテアトルキキ様に支配されました切り抜きキキ一発キキのキキ見キキ'},{'startX':0x12,'startY':316.6,'stepX':38.82,'radius':0x14,'text':'紫水スパークルキキノ欠片アメジストモーメントパペットーク目キキ上手'},{'startX':0xc,'startY':353.3,'stepX':38.82,'radius':0x14,'text':'キキのグリモワールギャラリーキキパペット展示会キキの謁見キキのアト'},{'startX':0x2,'startY':0x186,'stepX':38.82,'radius':0x14,'text':_0x247a71(0x1bd)},{'startX':-0x2,'startY':426.7,'stepX':38.82,'radius':0x14,'text':'キキのチャーム魔法キキ依存映像群キキ耳キキ見て聞いて実況紫水紫水絵巻'},{'startX':0x10,'startY':463.4,'stepX':38.92,'radius':0x14,'text':'怪奇キ幻境紫水依存症クロッキキ帳軟禁キキ依存キキの秘密の部屋紫水ス'},{'startX':0x0,'startY':500.1,'stepX':38.9,'radius':0x14,'text':_0x247a71(0x1b5)},{'startX':0xe,'startY':536.8,'stepX':38.86,'radius':0x14,'text':'紫水ノ魔引キリしすいえしすいなぇ紫水ノ傀儡キキ逃すなキキへの供物目'},{'startX':0x0,'startY':573.5,'stepX':38.86,'radius':0x14,'text':_0x247a71(0x1a0)},{'startX':-0x9,'startY':610.2,'stepX':38.86,'radius':0x14,'text':_0x247a71(0x1d9)},{'startX':0xe,'startY':646.4,'stepX':38.86,'radius':0x14,'text':_0x247a71(0x1fb)},{'startX':0x2,'startY':682.6,'stepX':38.86,'radius':0x14,'text':'キキ怪界紫水さまを見てるキキ取り調査キキみみ肖像のキキキャラメルキキ'},{'startX':0xa,'startY':719.3,'stepX':38.86,'radius':0x14,'text':_0x247a71(0x1b9)}];document['querySelector']('#saveImage')['addEventListener'](_0x247a71(0x1e4),()=>{const _0x444921=()=>{const _0x2e065b=_0x22b3,_0x5a6b47=document[_0x2e065b(0x1ec)]('canvas'),_0x2bc081=_0x5a6b47[_0x2e065b(0x1f0)]('2d'),_0x2f3dbc=document['querySelectorAll'](_0x2e065b(0x1b3));return _0x5a6b47['width']=_0x2f3dbc[0x0][_0x2e065b(0x1d8)],_0x5a6b47[_0x2e065b(0x1f9)]=_0x2f3dbc[0x0]['height'],_0x2f3dbc[_0x2e065b(0x1bc)](_0x561479=>{const _0x7c7c15=_0x2e065b;_0x2bc081[_0x7c7c15(0x1c9)](_0x561479,0x0,0x0,_0x5a6b47[_0x7c7c15(0x1d8)],_0x5a6b47[_0x7c7c15(0x1f9)]);}),_0x5a6b47;},_0x2c4078=_0xff9a1f=>{const _0x47f5bf=_0x22b3,_0x5104f0=srcToURL(_0xff9a1f['toDataURL']()),_0x2a1018=newElem('a',[]);_0x2a1018[_0x47f5bf(0x19f)]=_0x47f5bf(0x1dc)+getDateStringForFile(new Date()),_0x2a1018['href']=_0x5104f0,_0x2a1018['click']();};_0x2c4078(_0x444921());}),(async _0x16256c=>{const _0x160880=_0x247a71,_0x118ba0=await loadSyncImage(_0x160880(0x1cb)),_0x32ec8c=await loadSyncImage('baseimage-k.png'),_0x58bc62=_0x118ba0[_0x160880(0x1d8)],_0x14aeb7=_0x118ba0[_0x160880(0x1f9)];{const _0x4056a0=document[_0x160880(0x1ed)](_0x160880(0x1e1));_0x4056a0[_0x160880(0x1a4)][_0x160880(0x1d8)]=_0x58bc62+'px',_0x4056a0[_0x160880(0x1a4)]['height']=_0x14aeb7+'px';const _0xecbd2=document[_0x160880(0x1ed)](_0x160880(0x1f8));_0xecbd2[_0x160880(0x1d8)]=_0x58bc62,_0xecbd2[_0x160880(0x1f9)]=_0x14aeb7;const _0x1d804c=_0xecbd2[_0x160880(0x1f0)]('2d'),_0x5f5c51=document['querySelector']('#showKikiSama'),_0x227aa8=()=>{const _0x5eeeaf=_0x160880;_0x1d804c[_0x5eeeaf(0x1c9)](_0x5f5c51['checked']?_0x32ec8c:_0x118ba0,0x0,0x0);};_0x5f5c51[_0x160880(0x1bf)](_0x160880(0x1b1),_0x227aa8),_0x227aa8();}const _0x1bfa87=document[_0x160880(0x1ed)](_0x160880(0x1df));_0x1bfa87[_0x160880(0x1d8)]=_0x58bc62,_0x1bfa87[_0x160880(0x1f9)]=_0x14aeb7;const _0x46ccfe=_0x1bfa87[_0x160880(0x1f0)]('2d'),_0x2d3d60=LineConfigs['map'](_0x3831b7=>{const _0x3da7fc=_0x160880;return _0x3831b7['words']=_0x3831b7[_0x3da7fc(0x1db)][_0x3da7fc(0x19e)](/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[],_0x3831b7;}),_0x1278b4={'alpha':0x1,'color':_0x160880(0x1be),'lineWidth':0x3},_0x15db73=(_0x2e55ef,_0x4f7e5b,_0x4dae33,_0x5d7212)=>{const _0x47bc43=_0x160880;_0x2e55ef['globalAlpha']=_0x4f7e5b['alpha'],_0x2e55ef['strokeStyle']=_0x4f7e5b[_0x47bc43(0x1e3)],_0x2e55ef[_0x47bc43(0x1e0)]=_0x4f7e5b[_0x47bc43(0x1e0)],_0x2e55ef['beginPath'](),_0x2e55ef[_0x47bc43(0x1dd)](_0x4dae33['startX']+_0x4dae33[_0x47bc43(0x1e6)]*_0x5d7212,_0x4dae33[_0x47bc43(0x1b4)],_0x4dae33[_0x47bc43(0x1d0)],0x0,0x2*Math['PI']),_0x2e55ef[_0x47bc43(0x1ad)]();},_0x5af829=(_0x1aa112,_0xa1c6ff,_0x2449ba,_0x2fb802,_0x3f0c0d,_0x3615ec)=>{const _0xd4e474=_0x160880,_0x4c3165=_0x2449ba[_0xd4e474(0x1a6)]+_0x2449ba[_0xd4e474(0x1e6)]*_0x2fb802,_0x4e51eb=_0x2449ba[_0xd4e474(0x1b4)],_0x4d199a=_0x3f0c0d[_0xd4e474(0x1a6)]+_0x3f0c0d[_0xd4e474(0x1e6)]*_0x3615ec,_0x5439fd=_0x3f0c0d['startY'];_0x1aa112['globalAlpha']=_0xa1c6ff[_0xd4e474(0x1fa)],_0x1aa112[_0xd4e474(0x1a5)]=_0xa1c6ff[_0xd4e474(0x1e3)],_0x1aa112[_0xd4e474(0x1e0)]=_0xa1c6ff[_0xd4e474(0x1e0)],_0x1aa112[_0xd4e474(0x1ce)](),_0x1aa112[_0xd4e474(0x1d3)](_0x4c3165,_0x4e51eb),_0x1aa112[_0xd4e474(0x1fe)](_0x4d199a,_0x5439fd),_0x1aa112[_0xd4e474(0x1ad)]();},_0x1d971c=_0x21c055=>{return _0x21c055['reduce']((_0x590669,_0x168889)=>{return _0x590669[_0x168889]=(_0x590669[_0x168889]??0x0)+0x1,_0x590669;},{});},_0x1f9380=_0x1d971c(_0x2d3d60[_0x160880(0x1e7)](_0xba66c2=>_0xba66c2['words'])['reduce']((_0x5dc0fc,_0x468e1c)=>_0x5dc0fc[_0x160880(0x1c3)](_0x468e1c),[])),_0x47e336=(_0x46e786,_0x299f60,_0x22ee5c)=>{const _0xbab3f3=_0x160880,_0x37e3fa=_0x299f60[_0xbab3f3(0x19e)](/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[];if(_0x37e3fa['length']<=0x0)return _0xbab3f3(0x1d7);const _0x27ebcc=_0x1d971c(_0x37e3fa),_0x9adbb2=Object['keys'](_0x27ebcc)['map'](_0x26797c=>({'word':_0x26797c,'reqCount':_0x27ebcc[_0x26797c],'existsCount':_0x1f9380[_0x26797c]??0x0}))[_0xbab3f3(0x1c5)](_0x2c6579=>_0x2c6579['reqCount']>_0x2c6579['existsCount']);if(_0x9adbb2[_0xbab3f3(0x1b8)]>0x0){const _0x114e15=_0x9adbb2[_0xbab3f3(0x1e7)](_0xcf909b=>_0xcf909b[_0xbab3f3(0x19a)]+':'+(_0xcf909b[_0xbab3f3(0x1d4)]-_0xcf909b[_0xbab3f3(0x1a3)])+'個')[_0xbab3f3(0x1e9)](',\x20');return _0xbab3f3(0x1e8)+_0x114e15;}const _0x258571=[];{const _0x16e9e0=new Map();_0x37e3fa[_0xbab3f3(0x1bc)](_0xa1dce3=>{const _0x232aa6=_0xbab3f3,_0x150d12=_0x16e9e0[_0x232aa6(0x1da)](_0xa1dce3),_0x3d07de=_0x150d12?.[_0x232aa6(0x1b6)]??0x0;for(let _0x4c68b6=_0x3d07de;_0x4c68b6<_0x2d3d60[_0x232aa6(0x1b8)];_0x4c68b6+=0x1){const _0x544c7d=_0x2d3d60[_0x4c68b6],_0x4daebe=_0x4c68b6===_0x3d07de&&_0x150d12?_0x150d12[_0x232aa6(0x1af)]+0x1:0x0,_0x53571c=_0x544c7d['words'][_0x232aa6(0x1f7)](_0xa1dce3,_0x4daebe);if(_0x53571c>-0x1){_0x16e9e0[_0x232aa6(0x1c1)](_0xa1dce3,{'line':_0x4c68b6,'index':_0x53571c}),_0x258571['push']({'word':_0xa1dce3,'line':_0x4c68b6,'index':_0x53571c});return;}}});}return _0x22ee5c?(_0x258571[_0xbab3f3(0x1ca)]((_0x580654,_0x486f8c)=>{const _0x2c8814=_0xbab3f3;return _0x580654&&_0x5af829(_0x46e786,_0x1278b4,_0x2d3d60[_0x580654[_0x2c8814(0x1b6)]],_0x580654[_0x2c8814(0x1af)],_0x2d3d60[_0x486f8c[_0x2c8814(0x1b6)]],_0x486f8c['index']),_0x486f8c;},null),_0x258571[_0xbab3f3(0x1bc)](_0x3c0887=>{const _0x402dec=_0xbab3f3,_0x547c00=_0x2d3d60[_0x3c0887[_0x402dec(0x1b6)]],_0x8f2059=_0x547c00['startX']+_0x547c00[_0x402dec(0x1e6)]*_0x3c0887['index'],_0x155d4f=_0x547c00[_0x402dec(0x1b4)],_0x5187e5=_0x547c00['radius'];_0x46e786[_0x402dec(0x1e5)](),_0x46e786[_0x402dec(0x1ce)](),_0x46e786[_0x402dec(0x1dd)](_0x8f2059,_0x155d4f,_0x5187e5,0x0,0x2*Math['PI']),_0x46e786[_0x402dec(0x1c6)](),_0x46e786[_0x402dec(0x1eb)](_0x8f2059-_0x5187e5,_0x155d4f-_0x5187e5,_0x5187e5*0x2,_0x5187e5*0x2),_0x46e786['closePath'](),_0x46e786['restore'](),_0x15db73(_0x46e786,_0x1278b4,_0x2d3d60[_0x3c0887[_0x402dec(0x1b6)]],_0x3c0887['index']);})):_0x258571[_0xbab3f3(0x1bc)](_0x15745d=>{const _0x60f6e1=_0xbab3f3;_0x15db73(_0x46e786,_0x1278b4,_0x2d3d60[_0x15745d[_0x60f6e1(0x1b6)]],_0x15745d['index']);}),'';};{const _0x5df540=Object[_0x160880(0x19b)](_0x1f9380);_0x5df540[_0x160880(0x1cf)](),document[_0x160880(0x1ed)]('#useableWordsDisp')['value']=_0x5df540[_0x160880(0x1e9)]('');}const _0xb60420=document['querySelector']('#targetText'),_0x2959e7=document['querySelector'](_0x160880(0x1cc)),_0x1a367b=document[_0x160880(0x1ed)]('#startButton'),_0x38e8d2=document[_0x160880(0x1ed)]('#errorText'),_0x4e5d0b=()=>{const _0x217d99=_0x160880;_0x46ccfe[_0x217d99(0x1eb)](0x0,0x0,_0x58bc62,_0x14aeb7),_0x38e8d2[_0x217d99(0x1a8)]=_0x47e336(_0x46ccfe,_0xb60420[_0x217d99(0x1fc)],_0x2959e7['checked']);};_0x1a367b[_0x160880(0x1bf)](_0x160880(0x1e4),_0x4e5d0b),_0x2959e7[_0x160880(0x1bf)](_0x160880(0x1e4),_0x4e5d0b),_0xb60420[_0x160880(0x1bf)](_0x160880(0x1c0),_0x1b3887=>{const _0x3377ab=_0x160880;!_0x1b3887[_0x3377ab(0x1de)]&&_0x1b3887[_0x3377ab(0x1a2)]===_0x3377ab(0x1a7)&&_0x4e5d0b();}),_0xb60420[_0x160880(0x19c)](),_0xb60420[_0x160880(0x1fc)]=_0x160880(0x1b7),_0x1a367b[_0x160880(0x1e4)]();})();function _0x22b3(_0x401fc4,_0x270245){const _0x48ab55=_0x48ab();return _0x22b3=function(_0x22b38c,_0xc2497d){_0x22b38c=_0x22b38c-0x199;let _0x1df5ac=_0x48ab55[_0x22b38c];return _0x1df5ac;},_0x22b3(_0x401fc4,_0x270245);}function _0x48ab(){const _0x2ada17=['stepX','map','指定した文字が不足\x20...\x20','join','1332344nEtsMz','clearRect','createElement','querySelector','5qkdMJc','getHours','getContext','170HecYdN','classList','getOwnPropertyNames','onload','のコレクションキキットカットキキ王国キキ見て聞いて人形師の宴操り人形','add','indexOf','#baseCanvas','height','alpha','紫水晶のかけら傀儡遊戯キキ切りん支配進行中パペカットキキさま操縦中','value','createObjectURL','lineTo','string','word','keys','focus','onerror','match','download','キキの宝物庫キキにおいでよキキ絵々魅惑のパペットショーキキ様がみてる','258378KTcSlw','key','existsCount','style','strokeStyle','startX','Enter','textContent','5654FNAVtx','from','getMonth','110097WKEYJW','stroke','ラブレターキキの書物庫紫水研究報告器探しの旅ゾゾの仲間の絵','index','exec','change','538790utzwUM','#main\x20>\x20canvas','startY','キ展キキのマリオネットパペットぱれっとパペットまーけっとここみてしす','line','すきなテキストを発見アプリ','length','紫水の里歴史ノート紫水キキ献上品展示室ドールハウスアトリエ紫水明鏡','#version','4LiTNDe','forEach','紫水館紫水工房キキ様放送中キキ日記キキーラストキキ軟禁所キキギャラリ','#FFFF00','addEventListener','keydown','set','appendChild','concat','しすいのじかん切り抜キキキキ抜き紫水の館キキさまーと紫水支配中キキ','filter','clip','charCodeAt','setAttribute','drawImage','reduce','baseimage-n.png','#requireLine','getMinutes','beginPath','sort','radius','ききのおままごとキキ上手キキ様の肖像キキ絡繰り中パペ絵トキキの画廊','1016570sztExW','moveTo','reqCount','getFullYear','src','テキストが空です','width','キキはげんきですキキ様に献上する絵キキの為のパンドラ紫水夜想曲人形展','get','text','画像-','arc','isComposing','#drawCanvas','lineWidth','#main','208818JsRPtI','color','click','save'];_0x48ab=function(){return _0x2ada17;};return _0x48ab();}
    
  </script>
</body>
</html>
