<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="ゲーミング不磨わっと">
  <meta property="og:url"   content="https://pecmm.github.io/GamingLandoltRing/human.html" />
  <meta property="og:image" content="https://pecmm.github.io/GamingLandoltRing/thumb/thumb-human.png?a7f1962a">
  <title>ゲーミング不磨わっと</title>
  <link rel='stylesheet' href='../assets/tooltip.css' />
  <style>
    #main {
      height: 100%;
      margin: 1.5em;
    }
    #main canvas {
      position: absolute;
    }
    
    #controller,
    #controller input,
    #controller textarea,
    #controller button {
      font-size: 1.1em;
    }
    #controller button {
      margin-top: 0.5em;
    }
    #controller input[type='text'] {
      width: 35em;
    }
    #controller input[type='number'] {
      width: 5em;
      text-align: right;
    }
    #controller textarea {
      width: 40em;
    }
    #controller th {
      text-align: right;
    }
    #controller .help {
      font-size: 80%;
    }
    #controller label {
      user-select: none;
    }
  </style>
</head>
<body>
  <div id='main'>
    <canvas id='textCanvas'></canvas>
    <canvas id='wassan'></canvas>
  </div>
  <div id='controller'>
    <hr />
    
    <table border='1' cellpadding='3'>
      <tr> <th>動かすテキスト</th> <td><textarea id='blinkText' rows='4' /></textarea><div class='tltp-for-prev-input'>複数行の場合、それぞれの行が順番に流れて表示されます。</div></td> </tr>
      <tr> <th>フォントサイズ</th> <td><input type='number' id='fontSize' /><div class='tltp-for-prev-input'>動かすテキストのフォントサイズを指定します。</div></td> </tr>
      <tr> <th>フォント名</th> <td><input type='text' id='fontName' /><div class='tltp-for-prev-input'>動かすテキストのフォントを指定します。<br />お使いの端末にインストールされているフォントの名前で指定してください。<br />空欄ならば、ブラウザ設定デフォルトのフォントが使用されます。</div></td> </tr>
      <tr> <th>背景色</th> <td><span id='coloring' class='tltp-on-hover tltp-always' data-tltp-text='アニメーションで変更する背景色の表示方法です'></span></td> </tr>
      <tr> <th>アニメーションの間隔</th> <td><label><input type='number' id='animationIntervalMS' /><div class='tltp-for-prev-input'>フレームの間隔です。(この数値が 17 で約 60FPS)<br />この数値を小さくすると、色の点滅とテキストの移動が速くなります。<br />小さくし過ぎても処理性能の限界があり、一定以上速くなりません。</div> ms/フレーム</label></td> </tr>
      <tr> <th>文字の移動速度</th> <td><label><input type='number' id='textAngleVelocity' /><div class='tltp-for-prev-input'>1フレームでの移動(回転)速度です。<br />この数値を大きくすると、テキストの移動が速くなります。<br />大きくし過ぎると文字がワープして見えます。</div> ラジアン/フレーム</label></td> </tr>
      <tr> <th>アニメーションの保存</th> <td><label class='tltp-on-hover tltp-always' data-tltp-text='ON の場合、停止後にアニメーションを保存します。&#10;動画記録のために描画性能が劣化する可能性があります。&#10;アニメーションの間隔を大きくするなどして対応してください'><input type='checkbox' id='saveMedia' /> 動画として保存する</label></td> </tr>
    </table>
    <button id='toggleStart'>開始する</button>
    
    <hr style='margin-top:3em;'/>
    <ul>
      <li>version: <span id="version"></span></li>
      <li>PC Chrome ブラウザで動作確認しています。</li>
    </ul>
  </div>
  
  <script>
    const AppVersion = "1.0.0";
    document.querySelector('#version').textContent = AppVersion;
    
const _0x3f18=['measureText','addColorStop','video/webm','readonly','getBoundingClientRect','initializeBackground','#toggleStart','getContext','#0033FF','getDate','#textAngleVelocity','parentElement','filter','split','globalCompositeOperation','#FF6600','unexpected\x20coloring\x20checked\x20value:\x20\x27','radio','coloringGradient','#00FF33','開始する','length','start','#00FF99','human-leg.png','fontSize','#FF00FF','disabled','scrollX','target','#FF3300','checked','style','bottom','value','querySelector','#0099FF','querySelectorAll','destination-over','autoStart','src','drawImage','createElement','scrollTo','ondataavailable','[name=\x22coloring\x22]:checked','rotate','forEach','px\x20','onload','onerror','animationIntervalMS','concat','save','coloring','#blinkText','900\x20','#66FF00','textContent','toString','atan2','#9900FF','blinkText','scrollY','#FF00CC','removeAttribute','#FF0000','stop','#fontSize','#saveMedia','#0000FF','getSeconds','fillRect','appendChild','#CCBBDD','string','clearRect','width','colorings','from','#FFCC00','href','0.0005','#fontName','input','getFullYear','data','#0066FF','type','step','#FF9900','human.png','height','cos','addEventListener','click','getMinutes','#CC00FF','#00CCFF','human-base.png','fontName','firstChild','#00FFCC','fillStyle','textAngleVelocity','グラディエーション','text','generateShowLoop','label','#3300FF','#00FFFF','source-atop','restore','selected','#99FF00','reduce','getOwnPropertyNames','setAttribute','textBaseline','min','captureStream','classList','[name=\x22coloring\x22]:not(:checked)','add','map','saveMedia','#33FF00'];(function(_0xfde6a,_0x2fc823){const _0x3f18fb=function(_0x3ed598){while(--_0x3ed598){_0xfde6a['push'](_0xfde6a['shift']());}};_0x3f18fb(++_0x2fc823);}(_0x3f18,0x8d));const _0x3ed5=function(_0xfde6a,_0x2fc823){_0xfde6a=_0xfde6a-0x9a;let _0x3f18fb=_0x3f18[_0xfde6a];return _0x3f18fb;};const _0x590318=_0x3ed5;function newElem(_0x352d0b,_0x3f22c6=[],_0x1d6137=[],_0x328057={}){const _0x44bf90=_0x3ed5,_0x3dd823=document[_0x44bf90(0xb6)](_0x352d0b);return _0x1d6137[_0x44bf90(0xa1)]>0x0&&_0x3dd823[_0x44bf90(0x105)][_0x44bf90(0x107)](..._0x1d6137),Object[_0x44bf90(0x100)](_0x328057)['forEach'](_0x3272a3=>{_0x3dd823['setAttribute'](_0x3272a3,_0x328057[_0x3272a3]);}),_0x3f22c6[_0x44bf90(0xbb)](_0x1feb99=>{const _0x4e6238=_0x44bf90;typeof _0x1feb99===_0x4e6238(0xd7)?_0x3dd823['appendChild'](document['createTextNode'](_0x1feb99)):_0x3dd823[_0x4e6238(0xd5)](_0x1feb99);}),_0x3dd823;}function loadSyncImage(_0x571b20){return new Promise((_0x256c67,_0x20442)=>{const _0x1fd5ee=_0x3ed5,_0x1f183d=new Image();_0x1f183d[_0x1fd5ee(0xbd)]=()=>_0x256c67(_0x1f183d),_0x1f183d[_0x1fd5ee(0xbe)]=_0x5d1ad0=>_0x20442(_0x5d1ad0),_0x1f183d[_0x1fd5ee(0xb4)]=_0x571b20;});}function pad0String(_0x51d5e6,_0x429532){const _0x5d760e=_0x3ed5;return _0x429532[_0x5d760e(0xc7)]()['padStart'](_0x51d5e6,'0');}function getDateStringForFile(_0x1400f5){const _0x2b3fb0=_0x3ed5;return _0x1400f5[_0x2b3fb0(0xe1)]()+'年'+pad0String(0x2,_0x1400f5['getMonth']()+0x1)+'月'+pad0String(0x2,_0x1400f5[_0x2b3fb0(0x114)]())+'日-'+pad0String(0x2,_0x1400f5['getHours']())+'時'+pad0String(0x2,_0x1400f5[_0x2b3fb0(0xec)]())+'分'+pad0String(0x2,_0x1400f5[_0x2b3fb0(0xd3)]())+'秒';}const coloringSimple='coloringSimple',coloringGradient=_0x590318(0x9e),cntX=0x435,cntY=0x29e,radR=0x384,end1=1.04,end0=0.9785,end_=0.975,end2=0.8875,end3=0.8712,end9=0.8385,end4=0.7742,offsetX3=0x0,offsetY3=0x23,offsetX4=-0x12,offsetY4=0x78,firstAngle=end_,rectX=0x72,rectY=0x14d,rectW=0x172,rectH=0x1dd;(async _0x5c6cc3=>{const _0x448cff=_0x590318,_0x2a3004={'plotPoint':(_0x60e933,_0xb05474,_0x29e4d2=0x5)=>{_0x1dfbf5['fillRect'](_0x60e933-_0x29e4d2,_0xb05474-_0x29e4d2,_0x29e4d2*0x2,_0x29e4d2*0x2);}},_0x2e572f={},_0x1ec975=document['querySelector']('#textCanvas'),_0x1dfbf5=_0x1ec975[_0x448cff(0x112)]('2d'),_0x20d111=await loadSyncImage(_0x448cff(0xe7)),_0x4a6e2c=await loadSyncImage(_0x448cff(0xa4));{const _0x15f639=document[_0x448cff(0xaf)]('#wassan'),_0x28bedd=_0x15f639[_0x448cff(0x112)]('2d');_0x15f639[_0x448cff(0xd9)]=_0x20d111['width'],_0x15f639[_0x448cff(0xe8)]=_0x20d111[_0x448cff(0xe8)],_0x1ec975[_0x448cff(0xd9)]=_0x20d111[_0x448cff(0xd9)],_0x1ec975[_0x448cff(0xe8)]=_0x20d111[_0x448cff(0xe8)],_0x28bedd[_0x448cff(0xb5)](_0x20d111,0x0,0x0),_0x1ec975[_0x448cff(0x116)][_0x448cff(0xac)][_0x448cff(0xe8)]=_0x20d111[_0x448cff(0xe8)]+'px';const _0xc1cfd3=await loadSyncImage(_0x448cff(0xef));_0x2e572f[_0x448cff(0x110)]=()=>{const _0x17d3aa=_0x448cff;_0x1dfbf5[_0x17d3aa(0xb5)](_0xc1cfd3,0x0,0x0);};}{const _0x117c72=[_0x448cff(0xce),_0x448cff(0xaa),_0x448cff(0x9b),_0x448cff(0xe6),_0x448cff(0xdc),'#FFFF00','#CCFF00',_0x448cff(0xfe),_0x448cff(0xc5),_0x448cff(0x10a),'#00FF00',_0x448cff(0x9f),'#00FF66',_0x448cff(0xa3),_0x448cff(0xf2),_0x448cff(0xfa),_0x448cff(0xee),_0x448cff(0xb0),_0x448cff(0xe3),_0x448cff(0x113),_0x448cff(0xd2),_0x448cff(0xf9),'#6600FF',_0x448cff(0xc9),_0x448cff(0xed),_0x448cff(0xa6),_0x448cff(0xcc),'#FF0099','#FF0066','#FF0033'],_0x25ed61='#000000',_0x1507cc=0x0;_0x1dfbf5[_0x448cff(0x102)]=_0x448cff(0xad);const _0x6c9b6f=_0x117c72[_0x448cff(0x108)]((_0x24b2ba,_0x1a7b24)=>{const _0x170044=_0x448cff,_0x18f2f8=_0x1dfbf5['createLinearGradient'](rectX,rectY+rectH,rectX+rectW,rectY);return _0x18f2f8[_0x170044(0x10c)](0x0,_0x117c72[(_0x1a7b24+0x0/0x3*_0x117c72[_0x170044(0xa1)])%_0x117c72[_0x170044(0xa1)]]),_0x18f2f8[_0x170044(0x10c)](0.5,_0x117c72[(_0x1a7b24+0x1/0x3*_0x117c72['length'])%_0x117c72[_0x170044(0xa1)]]),_0x18f2f8['addColorStop'](0x1,_0x117c72[(_0x1a7b24+0x2/0x3*_0x117c72[_0x170044(0xa1)])%_0x117c72[_0x170044(0xa1)]]),_0x18f2f8;}),_0x33aa78=_0x39656f=>{return _0x39656f/radR;},_0x2db475=(_0x12e52b,_0x1e323d)=>{const _0x320f3f=_0x448cff;return Array[_0x320f3f(0xdb)](_0x12e52b)[_0x320f3f(0xff)]((_0xa65cf0,_0xe78fa3)=>{const _0x467f20=_0x320f3f;_0x1dfbf5[_0x467f20(0xc1)]();const _0x5749d0=_0x33aa78(_0x1dfbf5[_0x467f20(0x10b)](_0xe78fa3)['width']),_0xe6413b=_0xa65cf0-_0x5749d0/Math['PI'],[_0x1eccb7,_0x3556a4]=_0x4a9902(_0xa65cf0),[_0x25b09d,_0x4fa515]=_0x4a9902(_0xe6413b);if(_0x1eccb7===null||_0x25b09d===null){}else _0x1dfbf5['translate'](_0x1eccb7,_0x3556a4),_0x1dfbf5[_0x467f20(0xba)](Math[_0x467f20(0xc8)](_0x4fa515-_0x3556a4,_0x25b09d-_0x1eccb7)),_0x1dfbf5['fillText'](_0xe78fa3,0x0,0x0);return _0x1dfbf5[_0x467f20(0xfc)](),_0xe6413b;},_0x1e323d);},_0x4a9902=_0x3c8b15=>{const _0x108931=_0x448cff;return end1>=_0x3c8b15&&_0x3c8b15>end4?[cntX+radR*Math[_0x108931(0xe9)](_0x3c8b15*Math['PI']),cntY+radR*Math['sin'](_0x3c8b15*Math['PI'])]:[null,null];};{}_0x2e572f[_0x448cff(0xf7)]=_0x5eaedf=>{const _0x4bec63=_0x448cff,_0x18e758=_0x5eaedf[_0x4bec63(0xf4)],_0x5df392=_0x4bec63(0xd6),_0x22620d=_0x4bec63(0xc4)+_0x5eaedf[_0x4bec63(0xa5)]+_0x4bec63(0xbc)+_0x5eaedf[_0x4bec63(0xf0)],_0x4ea212=0.04,_0x58be2c=end9-_0x4ea212,_0x751975=_0x58be2c,_0x47f340=(()=>{const _0x53f536=_0x4bec63,_0x1ec4b3=_0x5eaedf['text'][_0x53f536(0x118)]('\x0a')[_0x53f536(0x117)](_0x591701=>_0x591701);if(_0x1ec4b3[_0x53f536(0xa1)]===0x0)return()=>'';else{if(_0x1ec4b3['length']===0x1)return()=>_0x1ec4b3[0x0];else{let _0x821266=-0x1;return()=>{return _0x821266+=0x1,_0x821266>=_0x1ec4b3['length']&&(_0x821266=0x0),_0x1ec4b3[_0x821266];};}}})(),_0x4345fc=(()=>{const _0x2a8dde=_0x4bec63;if(_0x5eaedf[_0x2a8dde(0xc2)]===coloringSimple){let _0x47109c=-0x1;return()=>{return _0x47109c+=0x1,_0x47109c>=_0x117c72['length']&&(_0x47109c=0x0),_0x117c72[_0x47109c];};}else{if(_0x5eaedf['coloring']===coloringGradient){let _0x33f4ac=-0x1;return()=>{const _0xf80f8a=_0x2a8dde;return _0x33f4ac+=0x1,_0x33f4ac>=_0x6c9b6f[_0xf80f8a(0xa1)]&&(_0x33f4ac=0x0),_0x6c9b6f[_0x33f4ac];};}else throw new((_0x2a8dde(0x9c))+_0x5eaedf['coloring']+'\x27')();}})();let _0xfc5751=_0x47f340(),_0x5c6352=_0x751975;const _0x26e380=()=>{const _0x4c7847=_0x4bec63;_0x1dfbf5['save'](),_0x1dfbf5[_0x4c7847(0xd8)](0x0,0x0,_0x20d111[_0x4c7847(0xd9)],_0x20d111['height']),_0x1dfbf5[_0x4c7847(0xb5)](_0x4a6e2c,0x0,0x0),_0x1dfbf5[_0x4c7847(0x9a)]=_0x4c7847(0xfb),_0x1dfbf5[_0x4c7847(0xf3)]=_0x5df392,_0x1dfbf5['font']=_0x22620d;const _0xa604b5=_0x2db475(_0xfc5751,_0x5c6352);_0xa604b5>end0?(_0x5c6352=_0x58be2c,_0xfc5751=_0x47f340()):_0x5c6352+=_0x18e758,_0x1dfbf5[_0x4c7847(0x9a)]=_0x4c7847(0xb2),_0x1dfbf5[_0x4c7847(0xf3)]=_0x4345fc(),_0x1dfbf5[_0x4c7847(0xd4)](rectX,rectY,rectW,rectH),_0x1dfbf5['restore'](),_0x5eaedf['saveMedia']&&_0x1dfbf5[_0x4c7847(0xb5)](_0x20d111,0x0,0x0);};return _0x26e380;};}{const _0x49736c=document['querySelector'](_0x448cff(0xc3)),_0xca9400=document[_0x448cff(0xaf)](_0x448cff(0xd0)),_0x43baf6=document['querySelector'](_0x448cff(0xdf)),_0x1be538=document[_0x448cff(0xaf)]('#animationIntervalMS'),_0x6dca22=document[_0x448cff(0xaf)](_0x448cff(0x115)),_0x5a6462=document[_0x448cff(0xaf)](_0x448cff(0xd1)),_0x5da171=[_0x49736c,_0xca9400,_0x43baf6,_0x1be538,_0x6dca22],_0x54d607=()=>{const _0x3a91b7=_0x448cff;_0x5da171[_0x3a91b7(0xbb)](_0x169e6a=>_0x169e6a[_0x3a91b7(0x101)](_0x3a91b7(0x10e),_0x3a91b7(0x10e))),Array[_0x3a91b7(0xdb)](document['querySelectorAll'](_0x3a91b7(0x106)))[_0x3a91b7(0xc0)]([_0x5a6462])[_0x3a91b7(0xbb)](_0x170e29=>_0x170e29[_0x3a91b7(0x101)](_0x3a91b7(0xa7),_0x3a91b7(0xa7)));},_0x3dd244=()=>{const _0xc563=_0x448cff;_0x5da171[_0xc563(0xbb)](_0x33b15d=>_0x33b15d[_0xc563(0xcd)]('readonly')),Array[_0xc563(0xdb)](document[_0xc563(0xb1)](_0xc563(0x106)))['concat']([_0x5a6462])[_0xc563(0xbb)](_0xb7701f=>_0xb7701f[_0xc563(0xcd)](_0xc563(0xa7)));};_0x49736c[_0x448cff(0xae)]=_0x5c6cc3[_0x448cff(0xca)],_0xca9400[_0x448cff(0xae)]=_0x5c6cc3[_0x448cff(0xa5)],_0xca9400[_0x448cff(0x103)]='1',_0x43baf6[_0x448cff(0xae)]=_0x5c6cc3['fontName'],_0x1be538[_0x448cff(0xae)]=_0x5c6cc3[_0x448cff(0xbf)],_0x1be538[_0x448cff(0x103)]='1',_0x6dca22[_0x448cff(0xae)]=_0x5c6cc3[_0x448cff(0xf4)],_0x6dca22[_0x448cff(0xe5)]=_0x448cff(0xde),_0x6dca22[_0x448cff(0x103)]=_0x6dca22[_0x448cff(0xe5)],saveMedia[_0x448cff(0xab)]=_0x5c6cc3[_0x448cff(0x109)],_0x5c6cc3[_0x448cff(0xda)][_0x448cff(0x108)](_0x101f01=>newElem(_0x448cff(0xf8),[newElem(_0x448cff(0xe0),[],[],Object['assign']({'type':_0x448cff(0x9d),'name':_0x448cff(0xc2),'value':_0x101f01[_0x448cff(0xae)]},_0x101f01[_0x448cff(0xfd)]?{'checked':''}:{})),_0x101f01[_0x448cff(0xf6)]]))[_0x448cff(0xff)]((_0x1dd6c3,_0x41e9db)=>{const _0x5d0dae=_0x448cff;return _0x1dd6c3[_0x5d0dae(0xf1)]&&_0x1dd6c3[_0x5d0dae(0xd5)](newElem('br')),_0x1dd6c3[_0x5d0dae(0xd5)](_0x41e9db),_0x1dd6c3;},document[_0x448cff(0xaf)]('#coloring')),_0x2e572f[_0x448cff(0x110)]();const _0xd1b084=(()=>{let _0x2845c3=null;const _0x2ec487=_0x2a9b30=>{const _0x48f354=_0x3ed5;_0x2845c3=new MediaRecorder(new MediaStream(_0x2a9b30[_0x48f354(0x104)]()),{'mimeType':_0x48f354(0x10d)}),_0x2845c3[_0x48f354(0xb8)]=_0x2d886d=>{const _0x1e5a22=_0x48f354,_0x4bbc97=URL['createObjectURL'](new Blob([_0x2d886d[_0x1e5a22(0xe2)]],{'type':_0x2d886d['data'][_0x1e5a22(0xe4)]})),_0x348652=newElem('a',[]);_0x348652['download']='ゲーミング不磨わっと-'+getDateStringForFile(new Date()),_0x348652[_0x1e5a22(0xdd)]=_0x4bbc97,_0x348652[_0x1e5a22(0xeb)]();},_0x2845c3[_0x48f354(0xa2)]();},_0x467cc4=()=>{const _0x57b21d=_0x3ed5;_0x2845c3&&(_0x2845c3[_0x57b21d(0xcf)](),_0x2845c3=null);};return{'start':_0x2ec487,'stop':_0x467cc4};})();let _0x178235=null;document['querySelector'](_0x448cff(0x111))[_0x448cff(0xea)](_0x448cff(0xeb),_0x175abc=>{const _0x5db364=_0x448cff,_0x2152fa=Number(_0x1be538[_0x5db364(0xae)]),_0x12b6f8=_0x5a6462[_0x5db364(0xab)],_0x4ec18d={'text':_0x49736c[_0x5db364(0xae)],'fontSize':Number(_0xca9400[_0x5db364(0xae)]),'fontName':'\x22'+_0x43baf6['value']+'\x22','coloring':document['querySelector'](_0x5db364(0xb9))['value'],'textAngleVelocity':Number(_0x6dca22['value']),'saveMedia':_0x12b6f8};if(!_0x178235){window[_0x5db364(0xb7)](window[_0x5db364(0xa8)],window[_0x5db364(0xcb)]+_0x1ec975[_0x5db364(0x10f)]()['top']),_0x175abc[_0x5db364(0xa9)][_0x5db364(0xc6)]='停止する';const _0x3115a3=_0x2e572f[_0x5db364(0xf7)](_0x4ec18d);_0x54d607(),_0x178235=setInterval(_0x3115a3,_0x2152fa),_0x12b6f8&&_0xd1b084[_0x5db364(0xa2)](_0x1ec975);}else _0xd1b084[_0x5db364(0xcf)](),clearInterval(_0x178235),_0x3dd244(),_0x175abc['target'][_0x5db364(0xc6)]=_0x5db364(0xa0),_0x2e572f[_0x5db364(0x110)](),_0x178235=null;}),_0x5c6cc3[_0x448cff(0xb3)]&&document[_0x448cff(0xaf)](_0x448cff(0x111))['click']();}})({'blinkText':'Immortal\x0aなんなノ～!?\x0aなんなノなんなノ～!?\x0a','fontSize':0x48,'fontName':'','animationIntervalMS':0x1e,'textAngleVelocity':0.003,'saveMedia':![],'colorings':[{'text':'塗りつぶし','value':coloringSimple,'selected':![]},{'text':_0x590318(0xf5),'value':coloringGradient,'selected':!![]}],'autoStart':![]});
  </script>
</body>
</html>
