<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>ブイアパクリスマス2020のビンゴカード作る</title>
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="ブイアパクリスマス2020 ビンゴカードジェネレーター">
  <meta property="og:url"   content="https://pecmm.github.io/vapartChristmas/BingoCardMaker.html" />
  <meta property="og:image" content="https://pecmm.github.io/vapartChristmas/thumb/thumb.png?de701475">
  <link rel='stylesheet' href='../assets/tooltip.css' />
  <style>
    #main {
      height: 100%;
      margin: 1.5em;
    }
    
    #controller,
    #controller input,
    #controller textarea,
    #controller button {
      font-size: 1.1em;
    }
    #controller button {
      margin-top: 0.5em;
    }
    #controller input[type='text'] {
      width: 35em;
    }
    #controller #manualNumberText {
      width: 40em;
    }
    #controller input[type='number'] {
      width: 5em;
      text-align: right;
    }
    #controller th {
      text-align: right;
    }
    #controller label {
      user-select: none;
      vertical-align: middle;
    }
    #controller td {
      vertical-align: middle;
    }
    #controller #fontColorValue {
      display: inline-block;
      width: 5.5em;
      height: 1em;
      border: 1px solid #CCCCCC;
      padding: 4px;
      font-size: 90%;
      text-align: center;
    }
    
    .tltp-on-hover:hover::after {
      text-align: left;
    }
  </style>
</head>
<body>
  <div id='main'>
    <canvas id='canvas'></canvas>
  </div>
  <div id='controller'>
    <hr />
    
    <table border='1' cellpadding='3'>
      <tr> <th>フォントサイズ</th> <td><input type='number' id='fontSize' /><div class='tltp-for-prev-input'>フォントサイズを指定します。</div></td> </tr>
      <tr> <th>フォント名</th> <td><input type='text' id='fontName' /><div class='tltp-for-prev-input'>フォントを指定します。<br />お使いの端末にインストールされているフォントの名前で指定してください。<br />空欄ならば、ブラウザ設定デフォルトのフォントが使用されます。</div></td> </tr>
      <tr> <th>フォント色</th> <td><label><input type='color' id='fontColor' /> <span id='fontColorValue'></span></label><br />
        <label><input type='checkbox' id='hade' /> 派手にする(若干見難い)</label></td> </tr>
      <tr> <th>番号</th> <td><label><input type='checkbox' id='autoNumber' /> 自動で番号を決定する</label>
        <div><textarea id='manualNumberText' rows='5'></textarea><div class='tltp-for-prev-input'>スペース、カンマ、改行で区切られた24個の数字を入力してください。</div></div></td> </tr>
    </table>
    <button id='start' class='tltp-on-hover tltp-disabled' data-tltp-text=''>画像を作り直す</button>
    <br />
    <br />
    <button id='saveImage'>画像として保存</button>
    <br />
    <p>win10 Chrome で動作確認しています。<br/>ブラウザとフォントの組み合わせによって数字が上下にズレて表示される可能性があります。組み合わせを変えて試してみてください。</p>
  </div>
  <hr />
  <footer>
     #ブイアパクリスマス2020 <a href="https://twitter.com/Uge_And/status/1341326316323315713">ビンゴ参加要項ツイート</a>
  </footer>
  
  <script>
const _0x5b2e=['display','#cc99dd','maxHeight','measureText','toString','random','fontSize','toDataURL','clearRect','getMonth','style','setAttribute','onerror','自然数以外が入力されています：\x22','from','hade','charCodeAt','addColorStop','fillText','ブイアパクリスマス2020-','#FF00FF','checked','drawImage','padStart','addEventListener','entries','width','重複：\x22','#autoNumber','100%','fillStyle','trim','autoNumber','px\x20\x22','fontName','test','#hade','getFullYear','createObjectURL','getDate','#0000FF','getSeconds','#manualNumberText','数字の先頭に0を入れないでください：\x22','getContext','removeAttribute','#00FFFF','value','download','\x201\x20\x202\x20\x203\x20\x204\x20\x205\x0a\x206\x20\x207\x20\x208\x20\x209\x2010\x0a11\x2012\x20\x20\x20\x2014\x2015\x0a16\x2017\x2018\x2019\x2020\x0a21\x2022\x2023\x2024\x2025','length','#fontSize','src','#00FF80','floor','1200px','createElement','getMinutes','#fontColorValue','24個入力してください。現在の入力数：','の数を入力してください：\x22','none','onload','split','click','fontColor','#fontName','#80FF00','data-tltp-text','height','disabled','input','createLinearGradient','querySelector','たぬき油性マジック','#fontColor','getHours','900\x20','parentElement','block','splice','alphabetic','#canvas'];(function(_0x4cb489,_0x14658e){const _0x5b2e60=function(_0x3ffa99){while(--_0x3ffa99){_0x4cb489['push'](_0x4cb489['shift']());}};_0x5b2e60(++_0x14658e);}(_0x5b2e,0x136));const _0x3ffa=function(_0x4cb489,_0x14658e){_0x4cb489=_0x4cb489-0x142;let _0x5b2e60=_0x5b2e[_0x4cb489];return _0x5b2e60;};const _0x130c33=_0x3ffa;function randRangedInt(_0x229a88,_0x3b720f){const _0x3ff1a7=_0x3ffa;return Math[_0x3ff1a7(0x18e)](Math[_0x3ff1a7(0x15d)]()*_0x3b720f)+_0x229a88;}function loadSyncImage(_0x1b2e06){return new Promise((_0x12e344,_0x4e39bc)=>{const _0xfbe38b=_0x3ffa,_0x1ffd73=new Image();_0x1ffd73[_0xfbe38b(0x143)]=()=>_0x12e344(_0x1ffd73),_0x1ffd73[_0xfbe38b(0x164)]=_0x1c8b56=>_0x4e39bc(_0x1c8b56),_0x1ffd73[_0xfbe38b(0x18c)]=_0x1b2e06;});}function srcToURL(_0x29f831){const _0x1ea4c4=_0x3ffa,_0x539352=atob(_0x29f831[_0x1ea4c4(0x144)](',')[0x1]),_0xc669e4=/:([a-zA-Z\/]+);/['exec'](_0x29f831)[0x1],_0xf4cd98=Uint8Array[_0x1ea4c4(0x166)](_0x539352[_0x1ea4c4(0x144)](''),_0x348804=>_0x348804[_0x1ea4c4(0x168)]()),_0xe6c967=new Blob([_0xf4cd98],{'type':_0xc669e4});return URL[_0x1ea4c4(0x17e)](_0xe6c967);}function pad0String(_0x23018e,_0x1e7172){const _0x9c8eb6=_0x3ffa;return _0x1e7172[_0x9c8eb6(0x15c)]()[_0x9c8eb6(0x16f)](_0x23018e,'0');}function getDateStringForFile(_0x2d060e){const _0x257193=_0x3ffa;return _0x2d060e[_0x257193(0x17d)]()+'年'+pad0String(0x2,_0x2d060e[_0x257193(0x161)]()+0x1)+'月'+pad0String(0x2,_0x2d060e[_0x257193(0x17f)]())+'日-'+pad0String(0x2,_0x2d060e[_0x257193(0x151)]())+'時'+pad0String(0x2,_0x2d060e[_0x257193(0x191)]())+'分'+pad0String(0x2,_0x2d060e[_0x257193(0x181)]())+'秒';}const maxNumber=0x4b;(async _0x21161e=>{const _0x350337=_0x3ffa,_0x19a0d4=document[_0x350337(0x14e)](_0x350337(0x157)),_0x547e17=_0x19a0d4[_0x350337(0x184)]('2d'),_0x5340ca=await loadSyncImage('base.jpg');{_0x19a0d4['width']=_0x5340ca[_0x350337(0x172)],_0x19a0d4[_0x350337(0x14a)]=_0x5340ca[_0x350337(0x14a)],_0x19a0d4[_0x350337(0x162)]['height']=_0x350337(0x175),_0x19a0d4[_0x350337(0x162)][_0x350337(0x15a)]=_0x350337(0x18f),_0x547e17[_0x350337(0x16e)](_0x5340ca,0x0,0x0);}const _0x3b039a=document['querySelector'](_0x350337(0x18b)),_0x4a9f59=document['querySelector'](_0x350337(0x147)),_0x4e64ca=document['querySelector'](_0x350337(0x150)),_0x359cce=document[_0x350337(0x14e)](_0x350337(0x192)),_0x543a35=document['querySelector'](_0x350337(0x17c)),_0x42d8ab=document[_0x350337(0x14e)](_0x350337(0x174)),_0x524f0c=document[_0x350337(0x14e)](_0x350337(0x182)),_0x30aef0=_0x524f0c[_0x350337(0x153)],_0x3386e0=document[_0x350337(0x14e)]('#start'),_0x2b9045=_0x1536bd=>{const _0xb0b05c=_0x350337,_0x4abd46=_0x1536bd||(()=>{const _0x1354e0=_0x3ffa,_0x18b497=manualNumberText['value'][_0x1354e0(0x177)]()[_0x1354e0(0x144)](/[ ,\n]+/);if(_0x18b497[_0x1354e0(0x18a)]!==0x18)return _0x3386e0[_0x1354e0(0x163)](_0x1354e0(0x149),_0x1354e0(0x193)+_0x18b497['length']+'個'),![];for(let _0x474489 of _0x18b497){if(/[^0-9]/[_0x1354e0(0x17b)](_0x474489))return _0x3386e0[_0x1354e0(0x163)](_0x1354e0(0x149),_0x1354e0(0x165)+_0x474489+'\x22'),![];const _0x346560=Number(_0x474489);if(_0x346560<=0x0||_0x346560>maxNumber)return _0x3386e0[_0x1354e0(0x163)](_0x1354e0(0x149),'1～'+maxNumber+_0x1354e0(0x194)+_0x474489+'\x22'),![];if(/^0/[_0x1354e0(0x17b)](_0x474489))return _0x3386e0[_0x1354e0(0x163)](_0x1354e0(0x149),_0x1354e0(0x183)+_0x474489+'\x22'),![];}const _0x5ed3ee=_0x18b497['reduce']((_0x542d23,_0x2139e6)=>{return _0x542d23[_0x2139e6]=_0x542d23[_0x2139e6]+0x1||0x1,_0x542d23;},{});for(let [_0x5f37af,_0x1441e0]of Object[_0x1354e0(0x171)](_0x5ed3ee)){if(_0x1441e0>0x1)return _0x3386e0[_0x1354e0(0x163)]('data-tltp-text',_0x1354e0(0x173)+_0x5f37af+'\x22\x20が'+_0x1441e0+'個あります'),![];}return!![];})();_0x4abd46?(_0x3386e0[_0xb0b05c(0x163)]('data-tltp-text',''),_0x3386e0[_0xb0b05c(0x185)]('disabled')):_0x3386e0[_0xb0b05c(0x163)](_0xb0b05c(0x14b),_0xb0b05c(0x14b));};_0x3b039a[_0x350337(0x187)]=_0x21161e[_0x350337(0x15e)],_0x4a9f59[_0x350337(0x187)]=_0x21161e[_0x350337(0x17a)],_0x4e64ca['value']=_0x21161e[_0x350337(0x146)];const _0x1597d1=()=>{const _0x14e429=_0x350337;_0x359cce['textContent']=_0x4e64ca[_0x14e429(0x187)];};_0x4e64ca[_0x350337(0x170)](_0x350337(0x14c),_0x1597d1),_0x1597d1(),_0x543a35[_0x350337(0x16d)]=_0x21161e[_0x350337(0x167)];const _0x451d52=()=>{const _0x166459=_0x350337;_0x543a35['checked']?(_0x4e64ca['setAttribute'](_0x166459(0x14b),_0x166459(0x14b)),_0x359cce['setAttribute'](_0x166459(0x14b),_0x166459(0x14b))):(_0x4e64ca[_0x166459(0x185)](_0x166459(0x14b)),_0x359cce[_0x166459(0x185)](_0x166459(0x14b)));};_0x543a35['addEventListener']('click',_0x451d52),_0x451d52(),manualNumberText['value']=_0x350337(0x189),manualNumberText[_0x350337(0x170)]('blur',_0x44a0d6=>{_0x2b9045();}),_0x42d8ab['checked']=_0x21161e[_0x350337(0x178)];const _0x5bb4ca=()=>{const _0x33b31d=_0x350337;_0x42d8ab[_0x33b31d(0x16d)]?(_0x30aef0[_0x33b31d(0x162)][_0x33b31d(0x158)]=_0x33b31d(0x142),_0x2b9045(!![])):(_0x30aef0['style'][_0x33b31d(0x158)]=_0x33b31d(0x154),_0x2b9045());};_0x42d8ab[_0x350337(0x170)](_0x350337(0x145),_0x5bb4ca),_0x5bb4ca(),document[_0x350337(0x14e)]('#saveImage')[_0x350337(0x170)]('click',_0xd545e0=>{const _0x60aa63=_0x350337,_0xbc7254=srcToURL(_0x19a0d4[_0x60aa63(0x15f)]()),_0x44e07b=document[_0x60aa63(0x190)]('a');_0x44e07b['href']=_0xbc7254,_0x44e07b[_0x60aa63(0x188)]=_0x60aa63(0x16b)+getDateStringForFile(new Date()),_0x44e07b[_0x60aa63(0x145)]();});const _0x26be70=_0x159d83=>{const _0x5c21d7=_0x350337,_0x3d31d8=()=>{const _0x531ef7=_0x3ffa,_0x195382=['#FF0000','#FF8000','#FFFF00',_0x531ef7(0x148),'#00FF00',_0x531ef7(0x18d),_0x531ef7(0x186),'#0080FF',_0x531ef7(0x180),'#8000FF',_0x531ef7(0x16c),'#FF0080'],_0x15e652=_0x547e17[_0x531ef7(0x14d)](_0xcf2e8d,_0x400257,_0x2e66fd,_0x5a9046);for(let _0x4c2183=0x0;_0x4c2183<=_0x195382[_0x531ef7(0x18a)];_0x4c2183+=0x1){_0x15e652[_0x531ef7(0x169)](_0x4c2183/_0x195382[_0x531ef7(0x18a)],_0x195382[_0x4c2183%_0x195382[_0x531ef7(0x18a)]]);}return _0x15e652;},_0x1bca77=0xcc,_0x3d007b=0xd1,_0x1d003c=0x86,_0x2c0341=0x168,_0xcf2e8d=0x2c,_0x2e66fd=0x40e,_0x400257=0x10c,_0x5a9046=0x50d,_0x201926=(()=>{const _0x13566c=_0x3ffa;if(_0x42d8ab[_0x13566c(0x16d)]){const _0x55309a=Array[_0x13566c(0x166)]({'length':maxNumber},(_0x56f284,_0x1e1d8d)=>_0x1e1d8d+0x1);return()=>{const _0x276dd8=_0x13566c;return _0x55309a['splice'](randRangedInt(0x0,_0x55309a[_0x276dd8(0x18a)]),0x1)[0x0];};}else{const _0x53db9e=manualNumberText['value'][_0x13566c(0x177)]()[_0x13566c(0x144)](/[ ,\n]+/);return()=>{const _0x4f7237=_0x13566c;return _0x53db9e[_0x4f7237(0x155)](0x0,0x1)[0x0];};}})();_0x547e17[_0x5c21d7(0x176)]=_0x543a35[_0x5c21d7(0x16d)]?_0x3d31d8():_0x4e64ca[_0x5c21d7(0x187)];const _0x1e824f=Number(_0x3b039a[_0x5c21d7(0x187)]);_0x547e17['font']=_0x5c21d7(0x152)+_0x1e824f+_0x5c21d7(0x179)+_0x4a9f59[_0x5c21d7(0x187)]+'\x22',_0x547e17['textBaseline']=_0x5c21d7(0x156);const _0x213363=_0x1e824f/0x3;_0x547e17[_0x5c21d7(0x160)](0x0,0x0,_0x5340ca[_0x5c21d7(0x172)],_0x5340ca[_0x5c21d7(0x14a)]),_0x547e17['drawImage'](_0x5340ca,0x0,0x0);for(let _0x39e748=0x0;_0x39e748<0x5;_0x39e748++){for(let _0x120b88=0x0;_0x120b88<0x5;_0x120b88++){if(_0x120b88==0x2&&_0x39e748==0x2)continue;const _0x21e01d=_0x201926(),_0x45ae0c=_0x547e17[_0x5c21d7(0x15b)](_0x21e01d);_0x547e17[_0x5c21d7(0x16a)](_0x21e01d,_0x120b88*_0x1bca77+_0x1d003c-_0x45ae0c[_0x5c21d7(0x172)]/0x2,_0x39e748*_0x3d007b+_0x2c0341+_0x213363);}}};_0x3386e0[_0x350337(0x170)](_0x350337(0x145),_0x26be70),_0x21161e['autoStart']&&_0x26be70();})({'fontSize':0x60,'fontName':_0x130c33(0x14f),'fontColor':_0x130c33(0x159),'hade':![],'autoNumber':!![],'autoStart':!![]});
  </script>
</body>
</html>
