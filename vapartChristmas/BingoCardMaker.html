<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>ビンゴカードジェネレーター</title>
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="ビンゴカードジェネレーター">
  <meta property="og:url"   content="https://pecmm.github.io/vapartChristmas/BingoCardMaker.html" />
  <meta property="og:image" content="https://pecmm.github.io/vapartChristmas/thumb/thumb.png?de701475">
  <link rel='stylesheet' href='../assets/tooltip.css' />
  <style>
    #main {
      height: 100%;
      margin: 1.5em;
    }
    
    #controller,
    #controller input,
    #controller textarea,
    #controller button {
      font-size: 1.1em;
    }
    #controller button {
      margin-top: 0.5em;
    }
    #controller input[type='text'] {
      width: 35em;
    }
    #controller #manualNumberText {
      width: 40em;
    }
    #controller input[type='number'] {
      width: 5em;
      text-align: right;
    }
    #controller th {
      text-align: right;
    }
    #controller label {
      user-select: none;
      vertical-align: middle;
    }
    #controller td {
      vertical-align: middle;
    }
    #controller #fontColorValue {
      display: inline-block;
      width: 5.5em;
      height: 1em;
      border: 1px solid #CCCCCC;
      padding: 4px;
      font-size: 90%;
      text-align: center;
    }
  </style>
</head>
<body>
  <div id='main'>
    <canvas id='canvas'></canvas>
  </div>
  <div id='controller'>
    <hr />
    
    <table border='1' cellpadding='3'>
      <tr> <th>フォントサイズ</th> <td><input type='number' id='fontSize' /><div class='tltp-for-prev-input'>フォントサイズを指定します。</div></td> </tr>
      <tr> <th>フォント名</th> <td><input type='text' id='fontName' /><div class='tltp-for-prev-input'>フォントを指定します。<br />お使いの端末にインストールされているフォントの名前で指定してください。<br />空欄ならば、ブラウザ設定デフォルトのフォントが使用されます。</div></td> </tr>
      <tr> <th>フォント色</th> <td><label><input type='color' id='fontColor' /> <span id='fontColorValue'></span></label><br />
        <label><input type='checkbox' id='hade' /> 派手にする(若干見難い)</label></td> </tr>
      <tr> <th>番号</th> <td><label><input type='checkbox' id='autoNumber' /> 自動で番号を決定する</label>
        <div><textarea id='manualNumberText'></textarea><div class='tltp-for-prev-input'>スペース、カンマ、改行で区切られた24個の数字を入力してください。</div></div></td> </tr>
    </table>
    <button id='start' class='tltp-on-hover tltp-disabled' data-tltp-text=''>画像を作り直す</button>
    <br />
    <br />
    <button id='saveImage'>画像として保存</button>
    <br />
    <p>win10 Chrome で動作確認しています。<br/>ブラウザとフォントの組み合わせによって数字が上下にズレて表示される可能性があります。組み合わせを変えて試してみてください。</p>
  </div>
  <hr />
  <footer></footer>
  
  <script>
const _0x251c=['cols','insertAdjacentHTML','width','click','data-tltp-text','from','test','none','globalAlpha','src','map','#hade','bingo-vapartChristmas2020.js','left','#00FF00','getMinutes','#00FF80','height','paramScript','searchParams','firstLeft','href','getDate','addEventListener','getSeconds','xStep','top','clearRect','input','trim','box','maxNumber','block','#80FF00','yOffset','style','centerCol','name','fontSize','save','onerror','referenceHTML','#0080FF','個あります','stroke','setAttribute','#0000FF','getContext','title','getHours','textBaseline','xOffset','fillRect','display','cellCount','fillStyle','centerRow','#FF8000','location','drawImage','px\x20\x22','floor','splice','checked','entries','split','removeAttribute','text','#fontName','random','#start','#fontSize','たぬき油性マジック','querySelector','length','createLinearGradient','fillText','fontColor','paramScriptName','parentElement','#manualNumberText','download','yStep','disabled','value','join','addColorStop','autoStart','default','charCodeAt','個入力してください。現在の入力数：','exec','getFullYear','autoNumber','#canvas','font','debug','数字の先頭に0を入れないでください：\x22','firstTop','fontName','freeCenter','#fontColorValue','#00FFFF','自然数以外が入力されています：\x22','hade','lineTo','beginPath','restore','#saveImage','bingo','rows','toString'];(function(_0x4149ee,_0xe70d96){const _0x251c7c=function(_0x2ca571){while(--_0x2ca571){_0x4149ee['push'](_0x4149ee['shift']());}};_0x251c7c(++_0xe70d96);}(_0x251c,0x9d));const _0x2ca5=function(_0x4149ee,_0xe70d96){_0x4149ee=_0x4149ee-0x7f;let _0x251c7c=_0x251c[_0x4149ee];return _0x251c7c;};const _0x506451=_0x2ca5;function randRangedInt(_0x3a8f2d,_0x2a83db){const _0x200f6f=_0x2ca5;return Math[_0x200f6f(0x8f)](Math[_0x200f6f(0x97)]()*_0x2a83db)+_0x3a8f2d;}function loadSyncImage(_0x508566){return new Promise((_0x5f123e,_0x516dfd)=>{const _0x97b3b8=_0x2ca5,_0x18a083=new Image();_0x18a083['onload']=()=>_0x5f123e(_0x18a083),_0x18a083[_0x97b3b8(0xea)]=_0x415ab2=>_0x516dfd(_0x415ab2),_0x18a083[_0x97b3b8(0xcb)]=_0x508566;});}function srcToURL(_0x2b4136){const _0x24fc9c=_0x2ca5,_0x58b9d1=atob(_0x2b4136[_0x24fc9c(0x93)](',')[0x1]),_0x16e33e=/:([a-zA-Z\/]+);/[_0x24fc9c(0xad)](_0x2b4136)[0x1],_0x3e5bdc=Uint8Array[_0x24fc9c(0xc7)](_0x58b9d1[_0x24fc9c(0x93)](''),_0x39ab23=>_0x39ab23[_0x24fc9c(0xab)]()),_0x13452b=new Blob([_0x3e5bdc],{'type':_0x16e33e});return URL['createObjectURL'](_0x13452b);}function pad0String(_0x1ff0c5,_0x363ba4){const _0x2c0979=_0x2ca5;return _0x363ba4[_0x2c0979(0xc1)]()['padStart'](_0x1ff0c5,'0');}function getDateStringForFile(_0x136957){const _0x4b4f96=_0x2ca5;return _0x136957[_0x4b4f96(0xae)]()+'年'+pad0String(0x2,_0x136957['getMonth']()+0x1)+'月'+pad0String(0x2,_0x136957[_0x4b4f96(0xd8)]())+'日-'+pad0String(0x2,_0x136957[_0x4b4f96(0x83)]())+'時'+pad0String(0x2,_0x136957[_0x4b4f96(0xd1)]())+'分'+pad0String(0x2,_0x136957[_0x4b4f96(0xda)]())+'秒';}function toRelativeName(_0x3d93ba){const _0x23cae2=_0x2ca5;return/:\/\//['test'](_0x3d93ba)?_0x3d93ba:/^[.\/]/[_0x23cae2(0xc8)](_0x3d93ba)?_0x3d93ba:'./'+_0x3d93ba;}(async _0x38df73=>{const _0x5c4c05=_0x2ca5,_0x17bc93=new URL(window[_0x5c4c05(0x8c)])[_0x5c4c05(0xd5)]['get'](_0x5c4c05(0xd4))||_0x38df73[_0x5c4c05(0xa0)];if(_0x17bc93){const _0x24b7cb=await import(toRelativeName(_0x17bc93));_0x38df73[_0x5c4c05(0xbf)]=_0x24b7cb[_0x5c4c05(0xaa)];}const _0x3540c8=_0x38df73[_0x5c4c05(0xbf)];_0x3540c8['cellCount']=_0x3540c8['rows']*_0x3540c8[_0x5c4c05(0xc2)]-(_0x3540c8[_0x5c4c05(0xb6)]?0x1:0x0);_0x3540c8[_0x5c4c05(0xb6)]&&(_0x3540c8[_0x5c4c05(0xe6)]=Math['floor'](_0x3540c8[_0x5c4c05(0xc2)]/0x2),_0x3540c8[_0x5c4c05(0x8a)]=Math[_0x5c4c05(0x8f)](_0x3540c8['rows']/0x2));const _0x5e0b59=document[_0x5c4c05(0x9b)](_0x5c4c05(0xb0)),_0x2f9a24=_0x5e0b59[_0x5c4c05(0x81)]('2d'),_0x3d3092=await loadSyncImage(_0x3540c8['imagePath']);{_0x5e0b59['width']=_0x3d3092['width'],_0x5e0b59[_0x5c4c05(0xd3)]=_0x3d3092['height'];for(let [_0x51c9f4,_0x3fe5f3]of Object[_0x5c4c05(0x92)](_0x3540c8['imageStyle'])){_0x5e0b59[_0x5c4c05(0xe5)][_0x51c9f4]=_0x3fe5f3;}_0x2f9a24[_0x5c4c05(0x8d)](_0x3d3092,0x0,0x0);}document[_0x5c4c05(0x82)]=_0x3540c8[_0x5c4c05(0xe7)]?_0x3540c8['name']+'\x20'+document['title']:document[_0x5c4c05(0x82)],document[_0x5c4c05(0x9b)]('footer')[_0x5c4c05(0xc3)]('afterbegin',_0x3540c8[_0x5c4c05(0xeb)]);const _0x2c49a9=document[_0x5c4c05(0x9b)](_0x5c4c05(0x99)),_0x55783d=document[_0x5c4c05(0x9b)](_0x5c4c05(0x96)),_0x44a830=document[_0x5c4c05(0x9b)]('#fontColor'),_0x5568ff=document[_0x5c4c05(0x9b)](_0x5c4c05(0xb7)),_0x22cb05=document[_0x5c4c05(0x9b)](_0x5c4c05(0xcd)),_0x247cad=document[_0x5c4c05(0x9b)]('#autoNumber'),_0x258005=document[_0x5c4c05(0x9b)](_0x5c4c05(0xa2)),_0x3b3988=_0x258005[_0x5c4c05(0xa1)],_0x30ec98=document[_0x5c4c05(0x9b)](_0x5c4c05(0x98)),_0x56deaf=_0x4f92f6=>{const _0x3e4ca9=_0x5c4c05,_0x128343=_0x4f92f6||(()=>{const _0x122f57=_0x2ca5,_0x424ac4=manualNumberText['value'][_0x122f57(0xdf)]()['split'](/[ ,\n]+/);if(_0x424ac4['length']!==_0x3540c8[_0x122f57(0x88)])return _0x30ec98[_0x122f57(0x7f)](_0x122f57(0xc6),_0x3540c8[_0x122f57(0x88)]+_0x122f57(0xac)+_0x424ac4[_0x122f57(0x9c)]+'個'),![];for(let _0x2bb8de of _0x424ac4){if(/[^0-9]/[_0x122f57(0xc8)](_0x2bb8de))return _0x30ec98[_0x122f57(0x7f)](_0x122f57(0xc6),_0x122f57(0xb9)+_0x2bb8de+'\x22'),![];const _0x45e213=Number(_0x2bb8de);if(_0x45e213<=0x0||_0x45e213>_0x3540c8[_0x122f57(0xe1)])return _0x30ec98[_0x122f57(0x7f)](_0x122f57(0xc6),'1～'+_0x3540c8['maxNumber']+'の数を入力してください：\x22'+_0x2bb8de+'\x22'),![];if(/^0/['test'](_0x2bb8de))return _0x30ec98[_0x122f57(0x7f)](_0x122f57(0xc6),_0x122f57(0xb3)+_0x2bb8de+'\x22'),![];}const _0x40944b=_0x424ac4['reduce']((_0x31d62a,_0x177a1e)=>{return _0x31d62a[_0x177a1e]=_0x31d62a[_0x177a1e]+0x1||0x1,_0x31d62a;},{});for(let [_0x6243ed,_0x1edefa]of Object[_0x122f57(0x92)](_0x40944b)){if(_0x1edefa>0x1)return _0x30ec98['setAttribute'](_0x122f57(0xc6),'重複：\x22'+_0x6243ed+'\x22\x20が'+_0x1edefa+_0x122f57(0xed)),![];}return!![];})();_0x128343?(_0x30ec98[_0x3e4ca9(0x7f)](_0x3e4ca9(0xc6),''),_0x30ec98['removeAttribute']('disabled')):_0x30ec98['setAttribute'](_0x3e4ca9(0xa5),_0x3e4ca9(0xa5));};_0x2c49a9[_0x5c4c05(0xa6)]=_0x3540c8['text'][_0x5c4c05(0xe8)],_0x55783d[_0x5c4c05(0xa6)]=_0x38df73[_0x5c4c05(0xb5)],_0x44a830[_0x5c4c05(0xa6)]=_0x38df73[_0x5c4c05(0x9f)];const _0x2124ef=()=>{_0x5568ff['textContent']=_0x44a830['value'];};_0x44a830[_0x5c4c05(0xd9)](_0x5c4c05(0xde),_0x2124ef),_0x2124ef(),_0x22cb05[_0x5c4c05(0x91)]=_0x38df73[_0x5c4c05(0xba)];const _0x171374=()=>{const _0x4f362d=_0x5c4c05;_0x22cb05['checked']?(_0x44a830[_0x4f362d(0x7f)]('disabled',_0x4f362d(0xa5)),_0x5568ff['setAttribute'](_0x4f362d(0xa5),_0x4f362d(0xa5))):(_0x44a830[_0x4f362d(0x94)]('disabled'),_0x5568ff[_0x4f362d(0x94)](_0x4f362d(0xa5)));};_0x22cb05[_0x5c4c05(0xd9)]('click',_0x171374),_0x171374(),manualNumberText[_0x5c4c05(0xa6)]=(()=>{const _0x5911ef=_0x5c4c05,_0x57459e=_0x3540c8[_0x5911ef(0xe1)][_0x5911ef(0xc1)]()[_0x5911ef(0x9c)],_0x2d2ae2=Array[_0x5911ef(0xc7)]({'length':_0x3540c8['rows']},(_0x11663e,_0x325b73)=>Array[_0x5911ef(0xc7)]({'length':_0x3540c8['cols']},(_0x52ea97,_0x343b91)=>_0x325b73*_0x3540c8[_0x5911ef(0xc2)]+_0x343b91+0x1));return _0x3540c8[_0x5911ef(0xb6)]&&(_0x2d2ae2[_0x3540c8[_0x5911ef(0x8a)]][_0x3540c8[_0x5911ef(0xe6)]]='\x20'),_0x2d2ae2[_0x5911ef(0xcc)](_0x241827=>_0x241827[_0x5911ef(0xcc)](_0x6b6ef9=>_0x6b6ef9[_0x5911ef(0xc1)]()['padStart'](_0x57459e,'\x20'))[_0x5911ef(0xa7)]('\x20'))[_0x5911ef(0xa7)]('\x0a');})(),manualNumberText[_0x5c4c05(0xd9)]('blur',_0x483494=>{_0x56deaf();}),manualNumberText['rows']=_0x3540c8[_0x5c4c05(0xc0)],_0x247cad[_0x5c4c05(0x91)]=_0x38df73[_0x5c4c05(0xaf)];const _0xe1ea50=()=>{const _0x4a2b61=_0x5c4c05;_0x247cad[_0x4a2b61(0x91)]?(_0x3b3988['style'][_0x4a2b61(0x87)]=_0x4a2b61(0xc9),_0x56deaf(!![])):(_0x3b3988[_0x4a2b61(0xe5)][_0x4a2b61(0x87)]=_0x4a2b61(0xe2),_0x56deaf());};_0x247cad[_0x5c4c05(0xd9)](_0x5c4c05(0xc5),_0xe1ea50),_0xe1ea50(),document[_0x5c4c05(0x9b)](_0x5c4c05(0xbe))[_0x5c4c05(0xd9)]('click',_0x13f7f2=>{const _0x272ec8=_0x5c4c05,_0x45e76b=srcToURL(_0x5e0b59['toDataURL']()),_0x3d1c44=document['createElement']('a');_0x3d1c44[_0x272ec8(0xd7)]=_0x45e76b,_0x3d1c44[_0x272ec8(0xa3)]=_0x38df73[_0x272ec8(0xbf)][_0x272ec8(0xe7)]+'-'+getDateStringForFile(new Date()),_0x3d1c44[_0x272ec8(0xc5)]();});const _0x4aaa28=_0x512f98=>{const _0x29011a=_0x5c4c05,_0x252610=()=>{const _0x50d626=_0x2ca5,_0x16b5e0=['#FF0000',_0x50d626(0x8b),'#FFFF00',_0x50d626(0xe3),_0x50d626(0xd0),_0x50d626(0xd2),_0x50d626(0xb8),_0x50d626(0xec),_0x50d626(0x80),'#8000FF','#FF00FF','#FF0080'],_0x33af66=_0x3540c8[_0x50d626(0x95)][_0x50d626(0xe8)]/0x3,_0x170366=_0x3540c8[_0x50d626(0xe0)][_0x50d626(0xd6)]+_0x33af66,_0x3cb547=_0x3540c8[_0x50d626(0xe0)][_0x50d626(0xb4)]+_0x33af66,_0x211fbd=_0x3540c8[_0x50d626(0xe0)][_0x50d626(0xd6)]+_0x3540c8[_0x50d626(0xe0)][_0x50d626(0xdb)]*(_0x3540c8[_0x50d626(0xc2)]-0x1)+_0x3540c8['box'][_0x50d626(0xc4)]-_0x33af66,_0xa2489a=_0x3540c8[_0x50d626(0xe0)][_0x50d626(0xb4)]+_0x3540c8[_0x50d626(0xe0)]['yStep']*(_0x3540c8[_0x50d626(0xc0)]-0x1)+_0x3540c8['box']['height']-_0x33af66,_0x5bc0e3=_0x2f9a24[_0x50d626(0x9d)](_0x170366,_0x3cb547,_0x211fbd,_0xa2489a);_0x5bc0e3[_0x50d626(0xcf)]=_0x170366,_0x5bc0e3[_0x50d626(0xdc)]=_0x3cb547,_0x5bc0e3[_0x50d626(0xc4)]=_0x211fbd-_0x170366,_0x5bc0e3[_0x50d626(0xd3)]=_0xa2489a-_0x3cb547;for(let _0x1fdb5e=0x0;_0x1fdb5e<=_0x16b5e0[_0x50d626(0x9c)];_0x1fdb5e+=0x1){_0x5bc0e3[_0x50d626(0xa8)](_0x1fdb5e/_0x16b5e0['length'],_0x16b5e0[_0x1fdb5e%_0x16b5e0[_0x50d626(0x9c)]]);}return _0x5bc0e3;},_0x5859bd=_0x3540c8['box']['firstLeft']+_0x3540c8[_0x29011a(0x95)][_0x29011a(0x85)],_0x40fe8a=_0x3540c8[_0x29011a(0xe0)][_0x29011a(0xb4)]+_0x3540c8[_0x29011a(0x95)][_0x29011a(0xe4)],_0x1e4b7d=_0x3540c8[_0x29011a(0xe0)]['xStep'],_0x14e2fd=_0x3540c8['box'][_0x29011a(0xa4)],_0x4e7ea1=(()=>{const _0x2d25dc=_0x29011a;if(_0x247cad[_0x2d25dc(0x91)]){const _0x4faf68=Array[_0x2d25dc(0xc7)]({'length':_0x3540c8[_0x2d25dc(0xe1)]},(_0x485353,_0x5016b9)=>_0x5016b9+0x1);return()=>{const _0x41cc7e=_0x2d25dc;return _0x4faf68[_0x41cc7e(0x90)](randRangedInt(0x0,_0x4faf68[_0x41cc7e(0x9c)]),0x1)[0x0];};}else{const _0x216c02=manualNumberText[_0x2d25dc(0xa6)][_0x2d25dc(0xdf)]()['split'](/[ ,\n]+/);return()=>{const _0x4beb32=_0x2d25dc;return _0x216c02[_0x4beb32(0x90)](0x0,0x1)[0x0];};}})();_0x2f9a24[_0x29011a(0x89)]=_0x22cb05[_0x29011a(0x91)]?_0x252610():_0x44a830[_0x29011a(0xa6)];const _0x1fa42c=Number(_0x2c49a9[_0x29011a(0xa6)]);_0x2f9a24[_0x29011a(0xb1)]='900\x20'+_0x1fa42c+_0x29011a(0x8e)+_0x55783d[_0x29011a(0xa6)]+'\x22',_0x2f9a24[_0x29011a(0x84)]='alphabetic';const _0x1569e4=_0x1fa42c/0x3;_0x2f9a24[_0x29011a(0xdd)](0x0,0x0,_0x3d3092['width'],_0x3d3092[_0x29011a(0xd3)]),_0x2f9a24[_0x29011a(0x8d)](_0x3d3092,0x0,0x0);for(let _0x1ca717=0x0;_0x1ca717<_0x3540c8[_0x29011a(0xc0)];_0x1ca717++){for(let _0x159bbb=0x0;_0x159bbb<_0x3540c8[_0x29011a(0xc2)];_0x159bbb++){if(_0x3540c8['freeCenter']&&_0x159bbb==_0x3540c8['centerCol']&&_0x1ca717==_0x3540c8['centerRow'])continue;const _0x1b21f0=_0x4e7ea1(),_0x40fdf5=_0x2f9a24['measureText'](_0x1b21f0);_0x2f9a24[_0x29011a(0x9e)](_0x1b21f0,_0x159bbb*_0x1e4b7d+_0x5859bd-_0x40fdf5['width']/0x2,_0x1ca717*_0x14e2fd+_0x40fe8a+_0x1569e4),_0x3540c8[_0x29011a(0xb2)]&&(_0x2f9a24[_0x29011a(0xbc)](),_0x2f9a24['moveTo'](_0x159bbb*_0x1e4b7d+_0x5859bd-_0x40fdf5['width']/0x2,_0x1ca717*_0x14e2fd+_0x40fe8a),_0x2f9a24[_0x29011a(0xbb)](_0x159bbb*_0x1e4b7d+_0x5859bd+_0x40fdf5[_0x29011a(0xc4)]/0x2,_0x1ca717*_0x14e2fd+_0x40fe8a),_0x2f9a24[_0x29011a(0xee)](),_0x2f9a24[_0x29011a(0x86)](_0x159bbb*_0x1e4b7d+_0x5859bd-0x5,_0x1ca717*_0x14e2fd+_0x40fe8a-0x5,0xa,0xa));}}if(_0x3540c8[_0x29011a(0xb2)]){const _0x56bf7f=_0x252610();_0x2f9a24[_0x29011a(0xe9)](),_0x2f9a24[_0x29011a(0xca)]=0.5,_0x2f9a24[_0x29011a(0x89)]=_0x56bf7f,_0x2f9a24['fillRect'](_0x56bf7f[_0x29011a(0xcf)],_0x56bf7f[_0x29011a(0xdc)],_0x56bf7f[_0x29011a(0xc4)],_0x56bf7f[_0x29011a(0xd3)]),_0x2f9a24[_0x29011a(0xbd)]();}};_0x30ec98[_0x5c4c05(0xd9)](_0x5c4c05(0xc5),_0x4aaa28),_0x38df73[_0x5c4c05(0xa9)]&&_0x4aaa28();})({'paramScriptName':_0x506451(0xce),'fontName':_0x506451(0x9a),'fontColor':'#cc99dd','hade':![],'autoNumber':!![],'autoStart':!![]});
  </script>
</body>
</html>
