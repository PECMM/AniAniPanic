<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:title" content="生首いづみ クソコラアニメジェネレーター">
  <meta property="og:url"   content="https://pecmm.github.io/kusokoraanime/namakubi-izumi.html" />
  <meta property="og:image" content="https://pecmm.github.io/kusokoraanime/thumb/thumb-namakubi-izumi.png?220be70d">
  <title>雑アニメーション ジェネレーター</title>
  <style>
    #main {
      margin-bottom: 1em;
      position: relative;
    }
    #main canvas {
      position: absolute;
      border: solid 1px #333333;
    }
    
    #settingsTable th {
      text-align: right;
    }
    #settingsTable label {
      user-select: none;
    }
    
    #motionInputArea {
      display: flex;
      flex-flow: row nowrap;
    }
    #motionInputArea > div {
      padding-right: 1em;
    }
    #motionInputArea textarea {
      width : 300px;
      height: 360px;
    }
    
    input[type='number'] {
      width: 5em;
      text-align: right;
    }
  </style>
</head>
<body>
  <div id='main'>
    <canvas id='animationCanvas'></canvas>
  </div>
  
  <div>
    <button id='toggleMovingMotion'>開始/停止</button><br /><br />
    
    <table id='settingsTable' border='1' cellpadding='3'>
      <tr>
        <th>アニメーションの保存：</th>
        <td><label><input type='checkbox' id='saveMedia' />録画する</label><br />(※背景色の塗りつぶし有効化をオススメ)</td>
      </tr>
      <tr>
        <th>表示倍率</th>
        <td><label><input type='number' id='imageRate' min='0.01' step='0.01' />%</label></td>
      </tr>
      <tr>
        <th>背景色の塗りつぶし：</th>
        <td>
          <div id='backgroundTypeRadios'>
            <label><input type='radio' name='background-type' value='none'   />なし</label>
            <label><input type='radio' name='background-type' value='simple' />色の指定</label>
            <label><input type='radio' name='background-type' value='gaming' />ゲーミング</label>
          </div>
          
          <div id='simpleBackgroundArea'>
            <label><input type='color' id='backgroundColorValue' /></label>
          </div>
        </td>
      </tr>
      <tr>
        <th>アニメーション間隔：</th>
        <td><label><input type='number' id='movingMotionIntervalMS' /> ms/フレーム</label></td>
      </tr>
      <tr>
        <th>モーション設定：</th>
        <td>
          <div>サンプルモーション：<select id='sampleMotionSelector'></select></div>
          <br />
          <div id='motionInputArea'></div>
          <span>各パーツごとに、1フレーム1行で描画内容を指定します。<br />1行の書式：<strong>＜ x , y , angle ＞</strong><br />x,y は回転中心座標のデフォルト位置からの平行移動[px]（原点は画面左上）。<br />angleは時計周りの回転[rad]。</span>
        </td>
      </tr>
    </table>
    
    <hr style='margin-top:2em;' />
    <div>ver: <span id="version"></span></div>
    <footer></footer>
  </div>
  
  <script>
    const AppVersion = "1.0.0";
    
    // ここから
const _0x6e3b=['backgroundColor','motionSets','removeAttribute','12px\x200','編集中のモーション設定の数値がすべて上書きされますがよろしいですか？','captureStream','start','removeChild','110246isRLcW','drawImage','getOwnPropertyNames','altKey','title','partsSettings','createObjectURL','flat','getMinutes','width','Cancel','keydown','data','value','getSeconds','padStart','href','none','find','margin','mediaFilenamePrefix','checked','ondataavailable','appendChild','stopPropagation','Escape','#backgroundTypeRadios\x20[name=\x22background-type\x22]:checked','assign','focus','filter','download','marginBottom','join','stop','indexOf','classList','string','click','isFinite','map','marginTop','left','disabled','change','getMonth','parts','slice','label','78064LCAdZi','imageRate','style','20px','backgroundType','createTextNode','#version','repeat','metaKey','pre-line','simple','#backgroundColorValue','top','innerHeight','240px','trim','src','button','display','reduce','keypress','save','Tab','0px','borderRadius','getDate','all','sampleMotions','justifyContent','body','getContext','every','imagePath','border','#toggleMovingMotion','getHours','insertAdjacentHTML','round','#backgroundTypeRadios\x20input[value=\x22none\x22]','footer','referenceHTML','forEach','createDocumentFragment','gaming','div','アニメーション\x20開始する','isMoving','#saveMedia','preventDefault','partsWidth','add','translate','saveMedia','partsHeight','textarea','613SnRTJV','position','491857xreHQu','length','height','space-around','157770yjCQYI','key','#animationCanvas','addEventListener','textContent','#motionInputArea','defaultIsYes','minWidth','flex','toString','getComputedStyle','clearRect','getFullYear','514tUwKbb','intervalMS','push','ctrlKey','#backgroundTypeRadios\x20input[value=\x22gaming\x22]','canvasSettings','innerWidth','pageOptions','padding','#simpleBackgroundArea','1kWgDYB','centerX','zIndex','type','defaultValues','#000000','split','fixed','#backgroundTypeRadios\x20[name=\x22background-type\x22]','createElement','168757DmUQmK','block','border-box','querySelector','318919jjcWJm','shiftKey','reverse','whiteSpace','#movingMotionIntervalMS','span','toFixed','focusable','selected','setAttribute','opacity','recommendedIntervalMS','100%','solid\x20#DDDDDD\x203px','option','eonerror'];const _0x32c6fc=_0x18c3;(function(_0x3b94bb,_0x522177){const _0x19e96d=_0x18c3;while(!![]){try{const _0x5270d5=parseInt(_0x19e96d(0x1c7))+-parseInt(_0x19e96d(0x1ab))+parseInt(_0x19e96d(0x184))*parseInt(_0x19e96d(0x197))+parseInt(_0x19e96d(0x18a))+-parseInt(_0x19e96d(0x1f7))+parseInt(_0x19e96d(0x1a1))*parseInt(_0x19e96d(0x1af))+-parseInt(_0x19e96d(0x186));if(_0x5270d5===_0x522177)break;else _0x3b94bb['push'](_0x3b94bb['shift']());}catch(_0x142f0a){_0x3b94bb['push'](_0x3b94bb['shift']());}}}(_0x6e3b,0x27e0b),document['querySelector'](_0x32c6fc(0x1fd))[_0x32c6fc(0x18e)]=AppVersion);function loadSyncImage(_0x86b1b6){return new Promise((_0x1aa3ca,_0x4a95d4)=>{const _0x1f8220=_0x18c3;let _0x5587c8=new Image();_0x5587c8['onload']=()=>_0x1aa3ca(_0x5587c8),_0x5587c8[_0x1f8220(0x1be)]=_0x1bd185=>_0x4a95d4(_0x1bd185),_0x5587c8[_0x1f8220(0x207)]=_0x86b1b6;});}function _0x18c3(_0x49a56b,_0x32615e){return _0x18c3=function(_0x6e3bb6,_0x18c394){_0x6e3bb6=_0x6e3bb6-0x164;let _0x37f347=_0x6e3b[_0x6e3bb6];return _0x37f347;},_0x18c3(_0x49a56b,_0x32615e);}function newElem(_0x457477,_0x16db15=[],_0x11c395=[],_0x4e872e={}){const _0x5b4143=_0x32c6fc,_0x5660de=document[_0x5b4143(0x1aa)](_0x457477);return _0x11c395[_0x5b4143(0x187)]>0x0&&_0x5660de[_0x5b4143(0x1ea)][_0x5b4143(0x17f)](..._0x11c395),Object[_0x5b4143(0x1c9)](_0x4e872e)[_0x5b4143(0x176)](_0x3fe30a=>{const _0x26ac12=_0x5b4143;_0x5660de[_0x26ac12(0x1b8)](_0x3fe30a,_0x4e872e[_0x3fe30a]);}),_0x16db15[_0x5b4143(0x176)](_0x33d734=>{const _0x8b8571=_0x5b4143;typeof _0x33d734===_0x8b8571(0x1eb)?_0x5660de[_0x8b8571(0x1de)](document[_0x8b8571(0x1fc)](_0x33d734)):_0x5660de['appendChild'](_0x33d734);}),_0x5660de;}function getDateStringForFile(_0x48e253){const _0xab4a4f=_0x32c6fc,_0x4b5562=(_0x2ea419,_0x25de42)=>_0x25de42['toString']()[_0xab4a4f(0x1d6)](_0x2ea419,'0');return _0x48e253[_0xab4a4f(0x196)]()+'年'+_0x4b5562(0x2,_0x48e253[_0xab4a4f(0x1f3)]()+0x1)+'月'+_0x4b5562(0x2,_0x48e253[_0xab4a4f(0x166)]())+'日-'+_0x4b5562(0x2,_0x48e253[_0xab4a4f(0x170)]())+'時'+_0x4b5562(0x2,_0x48e253[_0xab4a4f(0x1cf)]())+'分'+_0x4b5562(0x2,_0x48e253[_0xab4a4f(0x1d5)]())+'秒';}function generateRecorder(_0x55a561,_0x9abf85='video/webm'){let _0x42af9d=null;const _0x1d9d6f=_0x23c855=>{const _0x17f1eb=_0x18c3;_0x42af9d=new MediaRecorder(new MediaStream(_0x23c855[_0x17f1eb(0x1c4)]()),{'mimetype':_0x9abf85}),_0x42af9d[_0x17f1eb(0x1dd)]=_0x2093d8=>{const _0x431647=_0x17f1eb,_0x3e0270=URL[_0x431647(0x1cd)](new Blob([_0x2093d8[_0x431647(0x1d3)]],{'type':_0x2093d8[_0x431647(0x1d3)][_0x431647(0x1a4)]})),_0x1ee97b=newElem('a',[]);_0x1ee97b[_0x431647(0x1e5)]=_0x55a561+'-'+getDateStringForFile(new Date()),_0x1ee97b[_0x431647(0x1d7)]=_0x3e0270,_0x1ee97b[_0x431647(0x1ec)]();},_0x42af9d[_0x17f1eb(0x1c5)]();},_0x4e0ed8=()=>{const _0x1803f0=_0x18c3;_0x42af9d&&(_0x42af9d[_0x1803f0(0x1e8)](),_0x42af9d=null);};return{'start':_0x1d9d6f,'stop':_0x4e0ed8};}function showConfirmTextDialog(_0x3f5ee3,_0x2d0b32){const _0x1b3c7c=_0x32c6fc,_0x1e2645=newElem('p',[_0x3f5ee3]);return _0x1e2645['style'][_0x1b3c7c(0x1b2)]=_0x1b3c7c(0x200),showConfirmDialog(_0x1e2645,_0x2d0b32);}function showConfirmDialog(_0x2c96e8,_0x5e9554){const _0x46497f=_0x32c6fc;_0x5e9554=Object[_0x46497f(0x1e2)]({'baseElement':document[_0x46497f(0x16a)],'focusable':![],'yesLabel':'OK','noLabel':_0x46497f(0x1d1),'defaultIsYes':!![],'positionElement':window},_0x5e9554);const _0x350361=_0x5e9554['baseElement'],_0x44d687=_0x5e9554[_0x46497f(0x1b6)],_0x38cddb=_0x5e9554['yesLabel'],_0x332dbd=_0x5e9554['noLabel'],_0xc00e09=_0x5e9554[_0x46497f(0x190)],_0x53f32d=_0x5e9554['positionElement'],_0x13c431=_0x332dbd==='',_0x4c2c22=newElem(_0x46497f(0x208),[_0x38cddb]),_0x1be23e=newElem(_0x46497f(0x208),[_0x332dbd]);_0x13c431&&(_0x1be23e[_0x46497f(0x1f9)][_0x46497f(0x209)]='none');const _0x44a208=_0x13c431?[_0x4c2c22]:[_0x4c2c22,_0x1be23e],_0x157c4e=newElem(_0x46497f(0x179),_0x44a208),_0x2c51f6=newElem(_0x46497f(0x179),[_0x2c96e8,newElem('hr'),_0x157c4e],['confirmDialog']),_0x5ca143=newElem(_0x46497f(0x179)),_0x4f7520=0xf423f;_0x2c51f6['style'][_0x46497f(0x185)]='fixed',_0x2c51f6[_0x46497f(0x1f9)]['zIndex']=_0x4f7520,_0x2c51f6[_0x46497f(0x1f9)][_0x46497f(0x191)]=_0x46497f(0x205),_0x2c51f6[_0x46497f(0x1f9)]['boxSizing']=_0x46497f(0x1ad),_0x2c51f6[_0x46497f(0x1f9)]['border']=_0x46497f(0x1bc),_0x2c51f6['style'][_0x46497f(0x165)]=_0x46497f(0x1fa),_0x2c51f6[_0x46497f(0x1f9)][_0x46497f(0x1da)]=0x0,_0x2c51f6[_0x46497f(0x1f9)][_0x46497f(0x19f)]='5px\x2030px\x2010px',_0x2c51f6[_0x46497f(0x1f9)][_0x46497f(0x1bf)]='#FFFFFF',_0x157c4e[_0x46497f(0x1f9)]['display']=_0x46497f(0x192),_0x157c4e[_0x46497f(0x1f9)][_0x46497f(0x169)]=_0x46497f(0x189),_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x185)]=_0x46497f(0x1a8),_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x1a3)]=_0x4f7520-0x1,_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x203)]=0x0,_0x5ca143[_0x46497f(0x1f9)]['left']=0x0,_0x5ca143['style']['width']=_0x46497f(0x1bb),_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x188)]=_0x46497f(0x1bb),_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x16e)]=_0x46497f(0x164),_0x5ca143[_0x46497f(0x1f9)]['padding']=_0x46497f(0x164),_0x5ca143[_0x46497f(0x1f9)]['margin']=_0x46497f(0x164),_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x1bf)]=_0x46497f(0x1a6),_0x5ca143[_0x46497f(0x1f9)][_0x46497f(0x1b9)]=0.3;!_0x2c96e8[_0x46497f(0x1f9)][_0x46497f(0x1da)]&&!_0x2c96e8[_0x46497f(0x1f9)][_0x46497f(0x1ef)]&&!_0x2c96e8[_0x46497f(0x1f9)][_0x46497f(0x1e6)]&&(_0x2c96e8[_0x46497f(0x1f9)][_0x46497f(0x1da)]=_0x46497f(0x1c2));const _0x1a3c13=function(_0x5de8ee){const _0x502a23=_0x46497f,_0x364579=_0x5de8ee[0x0],_0x16f0cd=_0x5de8ee[_0x5de8ee[_0x502a23(0x187)]-0x1],_0x4d4c1b=[_0x16f0cd,_0x5de8ee,_0x364579][_0x502a23(0x1ce)]();return _0xe6a3b=>{const _0x3fbe7d=_0x502a23;if(_0xe6a3b['key']===_0x3fbe7d(0x20d)&&!_0xe6a3b[_0x3fbe7d(0x1ca)]&&!_0xe6a3b[_0x3fbe7d(0x19a)]&&!_0xe6a3b[_0x3fbe7d(0x1ff)]){_0xe6a3b[_0x3fbe7d(0x1df)](),_0xe6a3b[_0x3fbe7d(0x17d)]();const _0x3b7900=_0x4d4c1b[_0x3fbe7d(0x1e9)](_0xe6a3b['target'],0x1);_0x3b7900===-0x1?(_0xe6a3b[_0x3fbe7d(0x1b0)]?_0x16f0cd:_0x364579)[_0x3fbe7d(0x1e3)]():_0x4d4c1b[_0x3b7900+(_0xe6a3b[_0x3fbe7d(0x1b0)]?-0x1:0x1)]['focus']();}else _0xe6a3b[_0x3fbe7d(0x18b)]===_0x3fbe7d(0x1e0)&&!_0xe6a3b[_0x3fbe7d(0x1ca)]&&!_0xe6a3b[_0x3fbe7d(0x19a)]&&!_0xe6a3b[_0x3fbe7d(0x1b0)]&&!_0xe6a3b[_0x3fbe7d(0x1ff)]&&(_0xe6a3b['stopPropagation'](),_0xe6a3b['preventDefault'](),_0x1be23e[_0x3fbe7d(0x1ec)]());};},_0x2ec59f=_0x1a3c13(_0x44a208);[_0x4c2c22,_0x1be23e,_0x2c51f6,_0x5ca143][_0x46497f(0x176)](_0x96a6ed=>{const _0x1d9656=_0x46497f;_0x96a6ed[_0x1d9656(0x18d)](_0x1d9656(0x1d2),_0x2ec59f),_0x96a6ed[_0x1d9656(0x18d)](_0x1d9656(0x20b),_0x2ec59f);}),_0x350361[_0x46497f(0x1de)](_0x5ca143),_0x350361['appendChild'](_0x2c51f6);const _0x4fa57e=window[_0x46497f(0x194)](_0x2c51f6),_0x28bfe3=_0x53f32d===window?{'width':window[_0x46497f(0x19d)],'height':window[_0x46497f(0x204)]}:_0x53f32d['getBoundingClientRect']();return _0x2c51f6[_0x46497f(0x1f9)][_0x46497f(0x203)]=(_0x28bfe3['height']-parseInt(_0x4fa57e[_0x46497f(0x188)],0xa))/0x2+'px',_0x2c51f6[_0x46497f(0x1f9)][_0x46497f(0x1f0)]=(_0x28bfe3[_0x46497f(0x1d0)]-parseInt(_0x4fa57e[_0x46497f(0x1d0)],0xa))/0x2+'px',_0x13c431||_0xc00e09?_0x4c2c22[_0x46497f(0x1e3)]():_0x1be23e[_0x46497f(0x1e3)](),new Promise((_0x525cb8,_0x1ae90f)=>{const _0x1b73fb=_0x46497f;_0x4c2c22[_0x1b73fb(0x18d)]('click',()=>{const _0x1030cb=_0x1b73fb;_0x44a208[_0x1030cb(0x176)](_0x151d48=>_0x151d48[_0x1030cb(0x1b8)](_0x1030cb(0x1f1),_0x1030cb(0x1f1))),_0x350361[_0x1030cb(0x1c6)](_0x5ca143),_0x350361['removeChild'](_0x2c51f6),_0x525cb8(!![]);}),_0x1be23e[_0x1b73fb(0x18d)](_0x1b73fb(0x1ec),()=>{const _0x5172f4=_0x1b73fb;_0x44a208['forEach'](_0x12ab9a=>_0x12ab9a[_0x5172f4(0x1b8)](_0x5172f4(0x1f1),_0x5172f4(0x1f1))),_0x350361[_0x5172f4(0x1c6)](_0x5ca143),_0x350361[_0x5172f4(0x1c6)](_0x2c51f6),_0x525cb8(![]);});});}(async function(_0x5e4e8b){const _0x4127c7=_0x32c6fc,_0xf8e5f6=_0x5e4e8b[_0x4127c7(0x19c)]['width'],_0xa2daec=_0x5e4e8b['canvasSettings'][_0x4127c7(0x188)],_0x291e85=document[_0x4127c7(0x1ae)](_0x4127c7(0x18c));{document[_0x4127c7(0x1ae)]('#main')['style'][_0x4127c7(0x188)]=_0xa2daec+'px',_0x291e85['width']=_0xf8e5f6,_0x291e85[_0x4127c7(0x188)]=_0xa2daec,_0x5e4e8b[_0x4127c7(0x19e)]['title']&&(document[_0x4127c7(0x1cb)]=_0x5e4e8b['pageOptions'][_0x4127c7(0x1cb)]),_0x5e4e8b[_0x4127c7(0x19e)]['referenceHTML']&&document[_0x4127c7(0x1ae)](_0x4127c7(0x174))[_0x4127c7(0x171)]('afterbegin',_0x5e4e8b['pageOptions'][_0x4127c7(0x175)]);}let _0x48b1a0,_0xd47e05,_0x5a95d1;{const _0xd5ed95=_0x291e85[_0x4127c7(0x16b)]('2d'),_0x1a94ac=_0x3822c9=>_0x3822c9?loadSyncImage(_0x3822c9):_0x3822c9,_0x1b40b2=await Promise[_0x4127c7(0x167)](_0x5e4e8b[_0x4127c7(0x1cc)][_0x4127c7(0x1f4)][_0x4127c7(0x1f5)]()[_0x4127c7(0x1b1)]()[_0x4127c7(0x1ee)](_0x49503c=>_0x1a94ac(_0x49503c[_0x4127c7(0x16d)])));_0x48b1a0=(_0x512408,_0x4bd6b5,_0xe10cb)=>{const _0x189a45=_0x4127c7,_0x7567a3=Math['round'](_0x5e4e8b[_0x189a45(0x1cc)][_0x189a45(0x17e)]*_0x512408),_0x545afc=Math[_0x189a45(0x172)](_0x5e4e8b['partsSettings'][_0x189a45(0x182)]*_0x512408),_0x3ed773=(_0xf8e5f6-_0x7567a3)/0x2,_0x2e7692=0x0,_0x28f753=_0x5e4e8b[_0x189a45(0x1cc)][_0x189a45(0x1f4)]['slice']()['reverse']()[_0x189a45(0x1ee)](_0x37301a=>{const _0x517c00=_0x189a45;return{'x':Math['round'](_0x37301a[_0x517c00(0x1a2)]*_0x512408),'y':Math[_0x517c00(0x172)](_0x37301a['centerY']*_0x512408)};}),_0x4698=(_0xff617a,_0x413331)=>{const _0x1e7421=_0x189a45;_0x413331?(_0xd5ed95['fillStyle']=_0x413331,_0xd5ed95['fillRect'](0x0,0x0,_0xf8e5f6,_0xa2daec)):_0xd5ed95[_0x1e7421(0x195)](0x0,0x0,_0xf8e5f6,_0xa2daec),_0xff617a[_0x1e7421(0x1b1)]()[_0x1e7421(0x176)]((_0x65c346,_0x1c9e5f)=>{const _0x253eb5=_0x1e7421,[_0x2b018a,_0x40f02f,_0x1bb53c]=_0x65c346,_0x5efc33=_0x28f753[_0x1c9e5f]['x'],_0x30969c=_0x28f753[_0x1c9e5f]['y'];_0xd5ed95[_0x253eb5(0x20c)](),_0xd5ed95[_0x253eb5(0x180)](_0x3ed773+_0x5efc33+_0x2b018a,_0x2e7692+_0x30969c+_0x40f02f),_0xd5ed95['rotate'](_0x1bb53c),_0xd5ed95[_0x253eb5(0x1c8)](_0x1b40b2[_0x1c9e5f],-_0x5efc33,-_0x30969c,_0x7567a3,_0x545afc),_0xd5ed95['restore']();});},_0x28b02f=_0x4bd6b5[_0x189a45(0x187)],_0x554db5=_0x4bd6b5[_0x189a45(0x1ee)](_0x32dbe3=>_0x32dbe3['length']),_0x2951b7=_0x4bd6b5[_0x189a45(0x1ee)](_0x2f6b16=>0x0),_0x1f9448=_0xe10cb['length'];let _0x466d92=0x0;return()=>{const _0x3459d3=_0x189a45,_0x4e91f6=[];for(let _0x3c2034=0x0;_0x3c2034<_0x28b02f;_0x3c2034++){_0x4e91f6[_0x3459d3(0x199)](_0x4bd6b5[_0x3c2034][_0x2951b7[_0x3c2034]]),_0x2951b7[_0x3c2034]=(_0x2951b7[_0x3c2034]+0x1)%_0x554db5[_0x3c2034];}_0x466d92=(_0x466d92+0x1)%_0x1f9448,_0x4698(_0x4e91f6,_0xe10cb[_0x466d92]);};},_0x5a95d1=(_0x316ab9,_0x1f3951)=>{const _0x3337bb=_0x4127c7;_0x48b1a0(_0x316ab9,_0x5e4e8b[_0x3337bb(0x1cc)]['parts'][_0x3337bb(0x1ee)](_0xc0818a=>[[0x0,0x0,0x0]]),[_0x1f3951])();},_0xd47e05=(()=>{let _0x1e4a69=null;return{'isMoving':()=>_0x1e4a69!=null,'start':(_0x430b46,_0x4734ea)=>{!_0x1e4a69&&(_0x1e4a69=setInterval(_0x430b46,_0x4734ea));},'stop':()=>{_0x1e4a69&&(clearInterval(_0x1e4a69),_0x1e4a69=null);}};})();}{const _0x1fbfcf=document[_0x4127c7(0x1ae)](_0x4127c7(0x16f)),_0x284711=document[_0x4127c7(0x1ae)](_0x4127c7(0x17c)),_0x5cb6bb=document[_0x4127c7(0x1ae)]('#imageRate'),_0x1f9226=document[_0x4127c7(0x1ae)](_0x4127c7(0x173)),_0x386553=document[_0x4127c7(0x1ae)]('#backgroundTypeRadios\x20input[value=\x22simple\x22]'),_0x5e4d43=document['querySelector'](_0x4127c7(0x19b)),_0xa68d18=document[_0x4127c7(0x1ae)](_0x4127c7(0x1a0)),_0x56d142=document[_0x4127c7(0x1ae)](_0x4127c7(0x202)),_0x574117=document['querySelector'](_0x4127c7(0x1b3)),_0x14f7d1=document[_0x4127c7(0x1ae)]('#sampleMotionSelector'),_0x1eb3b5=[_0x284711,_0x5cb6bb,_0x1f9226,_0x386553,_0x5e4d43,_0x56d142,_0x574117,_0x14f7d1];_0x284711[_0x4127c7(0x1dc)]=_0x5e4e8b[_0x4127c7(0x1a5)][_0x4127c7(0x181)],_0x5cb6bb[_0x4127c7(0x1d4)]=_0x5e4e8b[_0x4127c7(0x1a5)][_0x4127c7(0x1f8)];let _0x321366;{document[_0x4127c7(0x1ae)]('#backgroundTypeRadios\x20[name=\x22background-type\x22][value=\x22'+_0x5e4e8b['defaultValues'][_0x4127c7(0x1fb)]+'\x22]')[_0x4127c7(0x1dc)]=!![],_0x56d142['value']=_0x5e4e8b[_0x4127c7(0x1a5)][_0x4127c7(0x1bf)];const _0x58729f=()=>{const _0x408c08=_0x4127c7;_0xa68d18[_0x408c08(0x1f9)]['display']=_0x386553[_0x408c08(0x1dc)]?_0x408c08(0x1ac):_0x408c08(0x1d8);};document['querySelectorAll'](_0x4127c7(0x1a9))['forEach'](_0x5ca230=>_0x5ca230[_0x4127c7(0x18d)](_0x4127c7(0x1f2),_0x58729f)),_0x58729f(),_0x321366=()=>{const _0x446dbf=_0x4127c7;switch(document['querySelector'](_0x446dbf(0x1e1))['value']){case _0x446dbf(0x1d8):return[null];case _0x446dbf(0x201):return[_0x56d142[_0x446dbf(0x1d4)]];case'gaming':return _0x5e4e8b['colorSets'][_0x446dbf(0x178)];}};}_0x574117[_0x4127c7(0x1d4)]=_0x5e4e8b[_0x4127c7(0x1a5)][_0x4127c7(0x198)];let _0x2f41ad,_0x514aa4;{_0x2f41ad=_0x5e4e8b[_0x4127c7(0x1cc)][_0x4127c7(0x1f4)]['map'](_0xbc4347=>{const _0x467896=_0x4127c7,_0x112f33=newElem(_0x467896(0x183),[]);return{'id':_0xbc4347['id'],'label':_0xbc4347[_0x467896(0x1f6)],'textarea':_0x112f33};});const _0x1a612f=(_0x49a061,_0xfd1949,_0xc16fce)=>{const _0x5a266d=_0x4127c7,_0x121608=_0x527aa2=>{const _0x1071fb=_0x18c3;return _0x527aa2>0x0?'\x20'[_0x1071fb(0x1fe)](_0x527aa2):'';};if(_0x49a061>=0x0){const _0x2abc97=_0x49a061[_0x5a266d(0x1b5)](_0xc16fce),_0x16706d=_0x2abc97[_0x5a266d(0x187)]-(_0xc16fce>0x0?_0xc16fce+0x1:0x0);return'\x20'+_0x121608(_0xfd1949-_0x16706d)+_0x2abc97;}else{const _0x59c3f1=_0x49a061['toFixed'](_0xc16fce),_0x5e56c5=_0x59c3f1[_0x5a266d(0x187)]-(_0xc16fce>0x0?_0xc16fce+0x1:0x0);return _0x121608(_0xfd1949-_0x5e56c5+0x1)+_0x59c3f1;}};_0x514aa4=(_0x3bc9cf,_0x3c0262=0x1)=>{const _0x1dd3e4=_0x4127c7,_0x57609d=_0x3bc9cf[_0x1dd3e4(0x206)]()[_0x1dd3e4(0x1a7)]('\x0a')[_0x1dd3e4(0x1e4)](_0x832422=>_0x832422);return _0x57609d[_0x1dd3e4(0x1ee)](_0x3a3279=>{const _0x371f5b=_0x1dd3e4,[_0x136432,_0xc20289,_0x572390]=_0x3a3279['split'](',')[_0x371f5b(0x1ee)](_0x476a98=>_0x476a98[_0x371f5b(0x206)]());return[Math[_0x371f5b(0x172)](parseInt(_0x136432,0xa)*_0x3c0262),Math[_0x371f5b(0x172)](parseInt(_0xc20289,0xa)*_0x3c0262),parseFloat(_0x572390,0xa)];});};const _0x3b331f=_0x5a5d6=>{const _0x36d5dc=_0x4127c7;Number[_0x36d5dc(0x1ed)](_0x5a5d6[_0x36d5dc(0x1ba)])&&(_0x574117[_0x36d5dc(0x1d4)]=_0x5a5d6[_0x36d5dc(0x1ba)]);const _0x137db1=_0x16f5f7=>{const _0x4e6510=_0x36d5dc;return[_0x1a612f(_0x16f5f7[0x0],0x4,0x0),_0x1a612f(_0x16f5f7[0x1],0x4,0x0),_0x1a612f(_0x16f5f7[0x2],0x3,0x2)][_0x4e6510(0x1e7)](',\x20');};_0x2f41ad[_0x36d5dc(0x176)](_0x4c71fe=>{const _0x278d52=_0x36d5dc;_0x4c71fe[_0x278d52(0x183)][_0x278d52(0x1d4)]=_0x5a5d6[_0x278d52(0x1c0)][_0x4c71fe['id']]['map'](_0x137db1)[_0x278d52(0x1e7)]('\x0a');});},_0x5f27ec=async(_0x3d305e=![])=>{const _0x21c56f=_0x4127c7,_0x399e8d=_0x5e4e8b['sampleMotions'][_0x21c56f(0x1d9)](_0x54dde4=>_0x54dde4['id']===_0x14f7d1[_0x21c56f(0x1d4)]);_0x399e8d&&(_0x3d305e||await showConfirmTextDialog(_0x21c56f(0x1c3))?(_0x31a328=_0x399e8d['id'],_0x3b331f(_0x399e8d)):_0x14f7d1[_0x21c56f(0x1d4)]=_0x31a328);};_0x14f7d1['appendChild'](_0x5e4e8b[_0x4127c7(0x168)][_0x4127c7(0x20a)]((_0x41bda6,_0x4970b7,_0x1055f8)=>{const _0x348284=_0x4127c7;return _0x4970b7['id']=_0x1055f8[_0x348284(0x193)](),_0x41bda6[_0x348284(0x1de)](newElem(_0x348284(0x1bd),[_0x4970b7[_0x348284(0x1f6)]],[],{'value':_0x1055f8})),_0x41bda6;},document['createDocumentFragment']())),document[_0x4127c7(0x1ae)](_0x4127c7(0x18f))[_0x4127c7(0x1de)](_0x2f41ad[_0x4127c7(0x20a)]((_0x463dcf,_0x1833dd)=>{const _0x3a9f9e=_0x4127c7;return _0x463dcf[_0x3a9f9e(0x1de)](newElem(_0x3a9f9e(0x179),[newElem(_0x3a9f9e(0x1b4),[_0x1833dd[_0x3a9f9e(0x1f6)]]),newElem('br'),_0x1833dd[_0x3a9f9e(0x183)]])),_0x463dcf;},document[_0x4127c7(0x177)]()));let _0x31a328=_0x14f7d1[_0x4127c7(0x1d4)]=(_0x5e4e8b[_0x4127c7(0x168)][_0x4127c7(0x1d9)](_0x14ac0f=>_0x14ac0f[_0x4127c7(0x1b7)])??_0x5e4e8b[_0x4127c7(0x168)][0x0])['id'];_0x14f7d1['addEventListener'](_0x4127c7(0x1f2),_0x3a9ac0=>{_0x5f27ec(![]);}),_0x5f27ec(!![]);}{const _0x16f7fb=()=>{const _0x13bc77=_0x4127c7;_0x1fbfcf['textContent']='アニメーション\x20停止する',_0x1eb3b5[_0x13bc77(0x176)](_0x49b036=>_0x49b036[_0x13bc77(0x1b8)]('disabled','disabled'));},_0x212cbd=()=>{const _0x3abdd6=_0x4127c7;_0x1fbfcf[_0x3abdd6(0x18e)]=_0x3abdd6(0x17a),_0x1eb3b5[_0x3abdd6(0x176)](_0x4e5765=>_0x4e5765[_0x3abdd6(0x1c1)](_0x3abdd6(0x1f1)));},_0x8bc360=generateRecorder(_0x5e4e8b[_0x4127c7(0x1db)]),_0x5d7821=()=>{const _0x27db81=_0x4127c7;if(_0xd47e05[_0x27db81(0x17b)]())_0x8bc360[_0x27db81(0x1e8)](),_0xd47e05['stop'](),_0x212cbd();else{const _0x407d91=parseFloat(_0x5cb6bb[_0x27db81(0x1d4)],0xa),_0x8c0f8=parseFloat(_0x574117[_0x27db81(0x1d4)],0xa),_0x5c9b87=_0x2f41ad[_0x27db81(0x1ee)](_0x81aee=>_0x514aa4(_0x81aee['textarea'][_0x27db81(0x1d4)],_0x407d91)),_0x5c4edc=_0x321366();Number[_0x27db81(0x1ed)](_0x407d91)&&Number[_0x27db81(0x1ed)](_0x8c0f8)&&_0x5c9b87[_0x27db81(0x16c)](_0x1eb3de=>_0x1eb3de[_0x27db81(0x187)]>0x0)&&(_0x16f7fb(),_0x284711[_0x27db81(0x1dc)]&&_0x8bc360[_0x27db81(0x1c5)](_0x291e85),_0xd47e05[_0x27db81(0x1c5)](_0x48b1a0(_0x407d91,_0x5c9b87,_0x5c4edc),_0x8c0f8));}};_0x1fbfcf['addEventListener'](_0x4127c7(0x1ec),_0x5d7821),_0x212cbd();}{_0x5a95d1(_0x5e4e8b[_0x4127c7(0x1a5)][_0x4127c7(0x1f8)],null);}}}(getInitValues()));
    
    function getInitValues() {
      return {
        pageOptions: {
          title        : '生首いづみ クソコラアニメジェネレーター',
          referenceHTML: [
            `<a href='https://twitter.com/search?q=%23%E6%9F%9A%E5%8E%9F%E3%81%84%E3%81%A5%E3%81%BF%E3%82%AF%E3%82%BD%E3%82%B3%E3%83%A9%E9%81%B8%E6%89%8B%E6%A8%A9' >#柚原いづみクソコラ選手権</a>`,
            `<a href='https://twitter.com/Izumi_Yunohara/status/1369672957572775937'>生首１号機＆２号機</a>`,
          ].join('<br />'),
        },
        
        defaultValues: {
          imageRate: 0.95,
          saveMedia: false,
          backgroundType: 'none', ///'simple',
          backgroundColor: '#AADDFF',
          intervalMS: 100,
        },
        
        mediaFilenamePrefix: 'クソコラいづみ',
        colorSets: {
          gaming: [
            '#FF0000', '#FF3300', '#FF6600', '#FF9900', '#FFCC00',
            '#FFFF00', '#CCFF00', '#99FF00', '#66FF00', '#33FF00',
            '#00FF00', '#00FF33', '#00FF66', '#00FF99', '#00FFCC',
            '#00FFFF', '#00CCFF', '#0099FF', '#0066FF', '#0033FF',
            '#0000FF', '#3300FF', '#6600FF', '#9900FF', '#CC00FF',
            '#FF00FF', '#FF00CC', '#FF0099', '#FF0066', '#FF0033',
          ],
        },
        canvasSettings: {
          width : 1280,
          height:  960,
        },
        partsSettings: {
          // 各パーツ画像はサイズが同じという前提
          partsWidth :  720,
          partsHeight: 1000,
          parts: [ // z-index の大きい順に記述
            {id:'m', label:'本体'                , imagePath:'img/izumi2nd-namakubi-m.png', centerX:360, centerY:500, },
            {id:'l', label:'向かって左側のおさげ', imagePath:'img/izumi2nd-namakubi-l.png', centerX:214, centerY:561, },
            {id:'r', label:'向かって右側のおさげ', imagePath:'img/izumi2nd-namakubi-r.png', centerX:516, centerY:561, },
          ],
        },
        
        sampleMotions: [
          { label: '各種の動作サンプル',
            recommendedIntervalMS: 200,
            motionSets: {
              m: [
                [  0, 0, 0 ],
                [ 10, 0, 0 ],
                [ 20, 0, 0 ],
                [ 30, 0, 0 ],
                [ 20, 0, 0 ],
                [ 10, 0, 0 ],
              ],
              l: [
                [ 0,  0, 0 ],
                [ 0, 10, 0 ],
                [ 0, 20, 0 ],
                [ 0, 30, 0 ],
                [ 0, 40, 0 ],
                [ 0, 30, 0 ],
                [ 0, 20, 0 ],
                [ 0, 10, 0 ],
              ],
              r: Array.from({length:12}).map((_,i,ary)=> i * 2*Math.PI / ary.length).map(angle=>[0,0,angle]),
            },
          },
          { label: 'プロペラみたいな回転',
            recommendedIntervalMS: 33.4,
            motionSets: {
              m: [
                [0, 0, 0],
              ],
              l: Array.from({length:15}).map((_,i,ary)=> -i * 2*Math.PI / ary.length).map(angle=>[0,0,angle]),
              r: Array.from({length:15}).map((_,i,ary)=> -i * 2*Math.PI / ary.length).map(angle=>[0,0,angle]),
            },
          },
          { label: '生首さんぽ',
            selected: true,
            recommendedIntervalMS: 40,
            motionSets: {
              m: [
                [   0,    0,    0.0 ],
                [   0,    3,    0.0 ],
                [   0,    5,   -0.0 ],
                [   0,    7,   -0.0 ],
                [   0,    8,   -0.0 ],
                [   0,    7,   -0.0 ],
                [   0,    5,   -0.0 ],
                [   0,    3,    0.0 ],
                [   0,    0,    0.0 ],
                [   0,    3,    0.0 ],
                [   0,    5,    0.0 ],
                [   0,    7,    0.0 ],
                [   0,    8,    0.0 ],
                [   0,    7,    0.0 ],
                [   0,    5,    0.0 ],
                [   0,    3,    0.0 ],
              ],
              l: [
                [  40,  -10,  -0.32 ],
                [  30,    0,  -0.28 ],
                [  20,   10,  -0.20 ],
                [  10,   20,  -0.10 ],
                [   0,   30,   0.00 ],
                [ -10,   20,   0.10 ],
                [ -20,   10,   0.20 ],
                [ -30,    0,   0.32 ],
                [ -40,  -10,   0.45 ],
                [ -30,  -20,   0.32 ],
                [ -20,  -30,   0.20 ],
                [ -10,  -40,   0.10 ],
                [   0,  -50,   0.00 ],
                [  10,  -40,  -0.10 ],
                [  20,  -30,  -0.20 ],
                [  30,  -20,  -0.28 ],
              ],
              r: [
                [ -40,  -10,   0.45 ],
                [ -30,  -20,   0.32 ],
                [ -20,  -30,   0.20 ],
                [ -10,  -40,   0.10 ],
                [   0,  -50,   0.00 ],
                [  10,  -40,  -0.10 ],
                [  20,  -30,  -0.20 ],
                [  30,  -20,  -0.28 ],
                [  40,  -10,  -0.32 ],
                [  30,    0,  -0.28 ],
                [  20,   10,  -0.20 ],
                [  10,   20,  -0.10 ],
                [   0,   30,   0.00 ],
                [ -10,   20,   0.10 ],
                [ -20,   10,   0.20 ],
                [ -30,    0,   0.32 ],
              ],
            },
          },
        ],
      };
    }
    
  </script>
</body>
</html>
